/*- Implicit Sources (vcl) */
define("text!vcl/prototypes/devtools/App.js", "$([\"devtools/App\"]);");
define("text!vcl/prototypes/App.v1.console.js", "$([\"vcl/prototypes/App\", \"vcl/prototypes/App.v1\", \"vcl/prototypes/App.console\"]);");
define("text!vcl/prototypes/App.openform.toast.glassy.js", "$([\"vcl/prototypes/App\", \"vcl/prototypes/App.openform\", \"vcl/prototypes/App.toast\", \"vcl/prototypes/App.glassy\"]);");
define("text!vcl-comps/ui/Form.js", "$([\"vcl/prototypes/ui/Form\"]);");
define("text!vcl-comps/ui/controls/Toolbar.js", "$([\"vcl/prototypes/ui/controls/Toolbar\"]);");
define("text!vcl-comps/ui/controls/SizeHandle.js", "$([\"vcl/prototypes/ui/controls/SizeHandle\"]);");
define("text!vcl-comps/devtools/DragDropHandler.:root.js", "$([\"devtools/DragDropHandler\", \"vcl/prototypes/devtools/DragDropHandler<>:root\"]);");
define("text!vcl/prototypes/devtools/CtrlCtrl.js", "$([\"devtools/CtrlCtrl\"]);");
define("text!vcl/prototypes/devtools/DragDropHandler.:root.js", "$([\"vcl/prototypes/devtools/DragDropHandler\"]);");
define("text!vcl/prototypes/devtools/DragDropHandler.js", "$(\"vcl/Component\", \"dead-end\");");
define("text!vcl/prototypes/devtools/Navigator.js", "$([\"devtools/Navigator\"]);");
define("text!vcl-comps/devtools/Workspace$/✪.js", "$([\"devtools/Workspace\"]);");
define("text!vcl-comps/devtools/Workspace$/blocks:/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js", "$([\"devtools/Workspace<blocks:/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces>\"]);");
define("text!vcl-comps/devtools/Workspace$/blocks:/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces.js", "$([\"devtools/Workspace<blocks:/Dropbox-veldapps/Issues>\"]);");
define("text!vcl-comps/devtools/Workspace$/blocks:/Dropbox-veldapps/Issues.js", "$([\"devtools/Workspace<blocks:/Dropbox-veldapps>\"]);");
define("text!vcl-comps/devtools/Workspace$/blocks:/Dropbox-veldapps.js", "$([\"devtools/Workspace<blocks:>\"]);");
define("text!vcl-comps/devtools/Workspace$/blocks:.js", "$([\"devtools/Workspace<blocks>\"]);");
define("text!vcl-comps/cavalion-blocks.js", "$([\"vcl/prototypes/cavalion-blocks\"]);");
define("text!vcl-comps/devtools/Workspace$/locales.js", "$([\"devtools/Workspace\"]);");
define("text!vcl-comps/devtools/Workspace$/devtools.js", "$([\"devtools/Workspace\"]);");


/*- Implicit Sources (blocks) */
define("blocks/Factory.implicit_sources", function() { return ({
    "Container<>.glassy.closex": {
        "source": "[[\"Container.glassy\", \"Container.closex\", \"Container\"]]",
        "sourceUri": "text!cavalion-blocks/Container.glassy.closex.js"
    },
    "Container.glassy": {
        "source": "[[\"blocks/prototypes/Container.glassy\", \"Container\"]]",
        "sourceUri": "text!cavalion-blocks/Container.glassy.js"
    },
    "Container": {
        "source": "[[\"blocks/prototypes/Container\"]]",
        "sourceUri": "text!cavalion-blocks/Container.js"
    },
    "Container.closex": {
        "source": "[[\"blocks/prototypes/Container.closex\", \"Container\"]]",
        "sourceUri": "text!cavalion-blocks/Container.closex.js"
    },
    "Executable": {
        "source": "[[\"blocks/prototypes/Executable\"]]",
        "sourceUri": "text!cavalion-blocks/Executable.js"
    },
    "Element": {
        "source": "[[\"blocks/prototypes/Element\"]]",
        "sourceUri": "text!cavalion-blocks/Element.js"
    },
    "Group": {
        "source": "[[\"blocks/prototypes/Group\"]]",
        "sourceUri": "text!cavalion-blocks/Group.js"
    },
    "Input": {
        "source": "[[\"blocks/prototypes/Input\"]]",
        "sourceUri": "text!cavalion-blocks/Input.js"
    },
    "Column": {
        "source": "[[\"blocks/prototypes/Column\"]]",
        "sourceUri": "text!cavalion-blocks/Column.js"
    },
    "veldapps/ListOf<>": {
        "source": "[[\"veldapps/ListOf\"]]",
        "sourceUri": "text!blocks/prototypes/veldapps/ListOf.js"
    },
    "Bar": {
        "source": "[[\"blocks/prototypes/Bar\"]]",
        "sourceUri": "text!cavalion-blocks/Bar.js"
    },
    "List": {
        "source": "[[\"blocks/prototypes/List\"]]",
        "sourceUri": "text!cavalion-blocks/List.js"
    },
    "Button": {
        "source": "[[\"blocks/prototypes/Button\"]]",
        "sourceUri": "text!cavalion-blocks/Button.js"
    },
    "Hover<veldoffice/Session>": {
        "source": "[[\"Hover<veldoffice>\"]]",
        "sourceUri": "text!cavalion-blocks/Hover<>/veldoffice/Session.js"
    },
    "Hover<veldoffice>": {
        "source": "[[\"Hover\"]]",
        "sourceUri": "text!cavalion-blocks/Hover<>/veldoffice.js"
    },
    "Hover": {
        "source": "[[\"blocks/prototypes/Hover\"]]",
        "sourceUri": "text!cavalion-blocks/Hover.js"
    },
    "Hover<veldoffice/Session>.autosize": {
        "source": "[[\"Hover.autosize\", \"Hover<veldoffice/Session>\"]]",
        "sourceUri": "text!cavalion-blocks/Hover<>/veldoffice/Session.js"
    },
    "Hover.autosize": {
        "source": "[[\"blocks/prototypes/Hover.autosize\", \"Hover\"]]",
        "sourceUri": "text!cavalion-blocks/Hover.autosize.js"
    },
    "$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js": {
        "source": "[[\"blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js\", \"$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session\"]]",
        "sourceUri": "text!cavalion-blocks/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js"
    },
    "$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session": {
        "source": "[[\"blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session\"]]",
        "sourceUri": "text!cavalion-blocks/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js"
    },
    "blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js": {
        "source": "[[\"blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session\"]]",
        "sourceUri": "text!blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js"
    },
    "blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session": {
        "source": "[[\"\"]]",
        "sourceUri": "text!blocks/prototypes/$HOME/Dropbox-veldapps/Issues/VA-20230909-1-Workspaces/Session.js"
    },
    "Hover<>:root": {
        "source": "[[\"blocks/prototypes/Hover<>:root\", \"Hover\"]]",
        "sourceUri": "text!cavalion-blocks/Hover.:root.js"
    },
    "blocks/prototypes/Hover<>:root": {
        "source": "[[\"blocks/prototypes/Hover\"]]",
        "sourceUri": "text!blocks/prototypes/Hover.:root.js"
    },
    "Checkbox": {
        "source": "[[\"blocks/prototypes/Checkbox\"]]",
        "sourceUri": "text!cavalion-blocks/Checkbox.js"
    },
    "Ace": {
        "source": "[[\"blocks/prototypes/Ace\"]]",
        "sourceUri": "text!cavalion-blocks/Ace.js"
    },
    "Radiobutton": {
        "source": "[[\"blocks/prototypes/Radiobutton\"]]",
        "sourceUri": "text!cavalion-blocks/Radiobutton.js"
    },
    "Array": {
        "source": "[[\"blocks/prototypes/Array\"]]",
        "sourceUri": "text!cavalion-blocks/Array.js"
    },
    "Tabs": {
        "source": "[[\"blocks/prototypes/Tabs\"]]",
        "sourceUri": "text!cavalion-blocks/Tabs.js"
    },
    "Library/cavalion-blocks/devtools/Alphaview": {
        "source": "[[\"blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!cavalion-blocks/Library/cavalion-blocks/devtools/Alphaview.js"
    },
    "blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview": {
        "source": "[[\"\"]]",
        "sourceUri": "text!blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.js"
    },
    "blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview.csv": {
        "source": "[[\"blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview.csv.js"
    },
    "blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview": {
        "source": "[[\"blocks/prototypes/devtools/Alphaview\"]]",
        "sourceUri": "text!blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview.js"
    },
    "blocks/prototypes/devtools/Alphaview": {
        "source": "[[\"\"]]",
        "sourceUri": "text!blocks/prototypes/devtools/Alphaview.js"
    },
    "Library/cavalion-blocks/devtools/Alphaview.csv": {
        "source": "[[\"blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.csv\", \"Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!cavalion-blocks/Library/cavalion-blocks/devtools/Alphaview.csv.js"
    },
    "blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.csv": {
        "source": "[[\"blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.csv.js"
    },
    "$HOME/Library/cavalion-blocks/devtools/Alphaview.csv.preview": {
        "source": "[[\"$HOME/Library/cavalion-blocks/devtools/Alphaview.csv\", \"$HOME/Library/cavalion-blocks/devtools/Alphaview.preview\", \"$HOME/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!cavalion-blocks/$HOME/Library/cavalion-blocks/devtools/Alphaview.csv.preview.js"
    },
    "blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview.preview": {
        "source": "[[\"blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!blocks/prototypes/$HOME/Library/cavalion-blocks/devtools/Alphaview.preview.js"
    },
    "Sizer": {
        "source": "[[\"blocks/prototypes/Sizer\"]]",
        "sourceUri": "text!cavalion-blocks/Sizer.js"
    },
    "Library/cavalion-blocks/devtools/Alphaview.csv.preview": {
        "source": "[[\"Library/cavalion-blocks/devtools/Alphaview.csv\", \"Library/cavalion-blocks/devtools/Alphaview.preview\", \"Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!cavalion-blocks/Library/cavalion-blocks/devtools/Alphaview.csv.preview.js"
    },
    "Library/cavalion-blocks/devtools/Alphaview.preview": {
        "source": "[[\"blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.preview\", \"Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!cavalion-blocks/Library/cavalion-blocks/devtools/Alphaview.preview.js"
    },
    "blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.preview": {
        "source": "[[\"blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview\"]]",
        "sourceUri": "text!blocks/prototypes/Library/cavalion-blocks/devtools/Alphaview.preview.js"
    }
}); });


/*- Sources */
define("text!vcl-comps/devtools/App.js", "\"vcl/ui/Ace, js/Method, vcl/Factory, vcl/ui/FormContainer, blocks/Blocks\";var Ace=require(\"vcl/ui/Ace\");var Method=require(\"js/Method\");var Factory=require(\"vcl/Factory\");var FormContainer=require(\"vcl/ui/FormContainer\");var Panel=require(\"vcl/ui/Panel\");var Blocks=require(\"blocks/Blocks\");(function OverridesAndOtherHacks(){Method.override(Ace.prototype,\"onnodecreated\",function(){var r=this.inherited(arguments);this._editor.commands.removeCommand(\"duplicateSelection\");return r;});Method.override(Factory,{resolveUri:function(uri){var r=js.inherited(this,arguments);var i=uri.indexOf(\"/vcl-comps/\"),l=\"/vcl-comps/\".length;if(uri.indexOf(\"vcl/prototypes/$HOME/\")===0&&i!==-1){r=String.format(\"vcl/prototypes/%s\",uri.substring(i+l));}else{}\nreturn r;}});Method.override(FormContainer.prototype,{getBaseUri:function(){var r=this.inherited(arguments);if(r.indexOf(\"ws/\")===0){r=r.split(\"/\");r.shift();r.shift();r.unshift(\"home\");r=r.join(\"/\");}\nreturn r;}});}());[[\"App\"],{title:\"Code\",icon:\"images/favicon.ico\",onGetStorageKey(forKey){if(forKey.length===2){var comp=forKey[0];var resource=comp.vars([\"resource\"]);if(resource){var ws=comp.up(\"devtools/Workspace<>\");return js.sf(\"%s %s %s\",ws.getUri(),comp.getUri(),resource.uri);}}},onLoad(){this.inherited(arguments);this.setTimeout(()=>{this.print(this._uri,this);},250);},},[[\"#client\",{formUri:\"devtools/Main<>\"}]]];");
define("text!vcl/prototypes/App.console.js", "\"use override, util/Event, util/HtmlElement, console/node/vcl/Component\";var override=require(\"override\");var Event=require(\"util/Event\");var HtmlElement=require(\"util/HtmlElement\");require(\"console/node/vcl/Component\").initialize();override(require(\"vcl/Component\").prototype,\"print\",function(inherited){return function(){var console=this.down(\"vcl/ui/Console#console\");if(console&&!console.vars(\"skip-print\")){return console.print.apply(console,arguments);}\nreturn inherited.apply(this,arguments);};});[(\"\"),[[\"vcl/Action\",(\"toggle-console\"),{hotkey:`keyup:Ctrl+Escape|keydown:Ctrl+Escape|keyup:Ctrl+Shift+D|keydown:Ctrl+Shift+D|keyup:Alt+Shift+Z|keydown:Alt+Shift+Z|keyup:MetaCtrl+192`,onLoad(){this.readStorage(\"visible\",(visible)=>eval(visible)&&this.execute({}));},onExecute(evt){var scope=this.scope();var focused;if(evt.type===\"keydown\"){focused=require(\"vcl/Control\").focused;if(focused!==scope.console.getScope().console){this.setVar(\"focused\",focused);}}else{if(!scope.console.isVisible()){scope.console.show();scope['align-enabled'].setState(true);}else{scope['align-enabled'].setState(false);scope.console.hide();focused=this.removeVar(\"focused\");if(focused&&focused!==scope.console){this.setTimeout(\"focus\",function(){focused.setFocus();},250);}}}\nthis.writeStorage(\"visible\",scope.console.isVisible());return this.inherited(arguments);}}],[\"vcl/Action\",(\"align-enabled\"),{enabled:\"state\",state:false}],[\"vcl/Action\",(\"align-size-vertically\"),{hotkey:\"keyup:Ctrl+Alt+Down|keyup:Ctrl+Alt+Up\",enabled:\"parent\",parent:\"align-enabled\",on(evt){var console=this.scope().console;var delta=evt.keyCode===Event.keys.KEY_UP_ARROW?100:-100;var height=console.getHeight()+delta;if(console._align!==\"bottom\"&&console._align!==\"top\"){console.setAlign(delta===-100?\"bottom\":\"top\");height=console.vars(\"height\")||200;}else{if(height<100){height=100;}else{var cs=HtmlElement.getComputedStyle(console.getParentNode());if(height>parseInt(cs.height,10)){height=parseInt(cs.height,10);}}}\nconsole.setHeight(height);console.vars(\"height\",height);if((console=console.qs(\"#console\")).hasClass(\"no-time\")){console.removeClass(\"no-time\");}}}],[\"vcl/Action\",(\"align-size-horizontally\"),{hotkey:\"Ctrl+Alt+Left|Ctrl+Alt+Right\",enabled:\"parent\",parent:\"align-enabled\",on(evt){var console=this.scope().console,cons=console.qs(\"#console\");var delta=evt.keyCode===Event.keys.KEY_RIGHT_ARROW?100:-100;if(console._align===\"right\")delta=-delta;var width=console.getWidth()+delta;if(console._align!==\"left\"&&console._align!==\"right\"){console.setAlign(delta===-100?\"left\":\"right\");width=console.vars(\"width\")||375;}else{if(width<100){width=100;}else{var cs=HtmlElement.getComputedStyle(console.getParentNode());if(width>parseInt(cs.width,10)-175){width=parseInt(cs.width,10)-175;}}}\nconsole.setWidth(width);console.vars(\"width\",width);if(!(console=console.qs(\"#console\")).hasClass(\"no-time\")){console.addClass(\"no-time\");}}}],[[\"ui/forms/util/Console\"],\"console\",{align:\"bottom\",height:250,css:\"background-color:rgba(255,255,255,0.5);backdrop-filter:blur(10px);\",visible:false,vars:\"parent: window;\"}]]];");
define("text!vcl-comps/App.js", "[[\"vcl/prototypes/App.v1.console\"]];");
define("text!vcl/prototypes/App.v1.js", "\"use util/HtmlElement, util/Fullscreen, vcl/ui/Element, vcl/ui/FormContainer, vcl/ui/Node, vcl/ui/Button\";var Fullscreen=require(\"util/Fullscreen\");var HtmlElement=require(\"util/HtmlElement\");var Element=require(\"vcl/ui/Element\");var FormContainer=require(\"vcl/ui/FormContainer\");[[\"./App.openform.toast.glassy\"],{onLoad:function(){var img=document.body.childNodes[0];if(img&&img.nodeName===\"IMG\"){img.parentNode.removeChild(img);}else{img=document.body.querySelector(\"img.loading_\");img&&img.parentNode.removeChild(img);}\nvar scope=this.scope(),delegate;scope.window.setParentNode(this.isDesigning()?scope.window.getDesigner().getParentNode():document.body);return this.inherited(arguments);},onDispatchChildEvent:function(component,name,evt,f,args){if(name===\"touchstart\"){if(!Fullscreen.hasRequested()){Fullscreen.request(document.documentElement);}}\nreturn this.inherited(arguments);},onGetState:function(){var scope=this.getScope();var form=scope.client._form;if(form){return form.applyVar(\"App.getState\",[],\"silent\");}\nreturn{restore:function(){alert(\"?\");}};},onSetState:function(state){state&&state.restore&&state.restore(state);}},[[(\"#window\"),{css:{'#close-x':{'':\"position:absolute;top:0;right:0;color:silver;padding:4px 8px;font-size:14pt;z-index:999999999999;\",'&:hover':\"color:black;cursor:pointer;\"},'font-family':\"Lucida Grande, Arial, sans-serif\",'font-size':\"9pt\",'.{./Button}':{'font-size':\"9pt\",'font-family':\"Lucida Grande, Arial, sans-serif\",'vertical-align':\"top\",'&.disabled':\"color:gray;\",'&:active':\"line-height:12px; border:2px solid rgb(57,121,217); padding-top:5px; padding-bottom:3px; padding-left:8px; padding-right:6px; background:-webkit-linear-gradient(top, rgb(255, 255, 255) 10%, rgb(227, 227, 227) 100%);\"}}},[[\"vcl/ui/FormContainer\",\"client\",{formUri:\"./ui/forms/Portal<>\"}],]]]];");
define("text!vcl/prototypes/App.glassy.js", "\"use vcl/CssRules\";var CssRules=require(\"vcl/CssRules\");var css={\".with-shadow\":\"box-shadow:rgba(0, 0, 0, 0.4) 0px 1px 2px 0px;\",\".with-text-shadow\":\"text-shadow: rgb(255 255 255) 0px 0px 12px, #00000094 0px 0px 5px;\",\".transparent\":\"background-color:transparent;\",\".glassy-overlay\":{\"\":\"pointer-events: none; color:rgba(5,5,5,0.95);\",\".glassy\":\"background-color: rgba(155, 155, 155, 0.35); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);\",\".loading\":\"background: rgba(155, 155, 155, 0.35) url(/shared/vcl/images/loading.gif) 50% 50% no-repeat;\",\".rounded\":\"padding: 4px; border-radius: 5px;\",\".animate-width-height\":\"transition: width 250ms ease-in, height 250ms ease-in;\",\">.glassy:not(.no-margin)\":\"margin: 32px;\",\">.glassy\":{\"\":\"pointer-events: auto;\",},\">.vcl-ui-Element\":\"pointer-events: auto;\",\".vcl-ui-Node\":{\"&.invisible-layer\":\"opacity: 0.4;\",\"&.seperator\":\"border-top:1px solid rgba(155,155,155,0.55);margin-top:2px;padding-top:2px;\",\">.text>img\":\"width:20px;height:20px;\"}}};[\"\",{onLoad(){var rules=new CssRules();rules.setSelector(\"body\");rules.setRules(css);this.vars(\"css-rules\",rules);return this.inherited(arguments);}}];");
define("text!vcl/prototypes/App.js", "\"\";[\"vcl/Application\",{},[[\"vcl/ui/Panel\",(\"window\"),{align:\"client\",classes:\"animated\",onLoad(){this.setParentNode(document.body);}}]]];");
define("text!vcl-comps/ui/forms/util/Console.js", "\"use vcl/Component\";var Component=require(\"vcl/Component\");function setPaths(){localStorage.setItem(\"cavalion-js-path\",\"/home/Workspaces/cavalion.org/cavalion-js/src/\");localStorage.setItem(\"cavalion-vcl-path\",\"/home/Workspaces/cavalion.org/cavalion-vcl/src/\");localStorage.setItem(\"cavalion-blocks-path\",\"/home/Workspaces/cavalion.org/cavalion-blocks/src/\");localStorage.setItem(\"cavalion-devtools-path\",\"/home/Workspaces/cavalion.org/cavalion-devtools/src/\");localStorage.setItem(\"cavalion-ide-path\",\"/home/Workspaces/cavalion.org/cavalion-ide/src/\");localStorage.setItem(\"veldoffice-js-path\",\"/home/Workspaces/veldapps.com/Veldoffice/veldoffice-js/src/\");localStorage.setItem(\"veldapps-v7-path\",\"/home/Workspaces/veldapps.com/V7/src/\");}\nfunction edit(component){var uri=component&&component._uri;var app=component&&component.app();if(typeof uri===\"string\"&&uri.indexOf(\"devtools/Workspace<\")===0){var keys=Component.getKeysByUri(uri);return component.app().open(\"code\").then(function(workspace){return workspace.open(\"Workspaces/cavalion.org/cavalion-devtools/src/vcl-comps/devtools/Workspace$/\"+keys.specializer+\".js\");});}}\n[\"\",{},[[\"#console\",{onEvaluate:function(expr){var scope=this.scope(),me=this;var app=this.app();var ws=app.down(\"devtools/Workspace<>:root:selected:visible\");var ace=ws&&ws.qsa(\"devtools/Editor<>:root:visible\").map(_=>_.down(\"#ace\")).pop();var host=ws&&ws.qsa(\"devtools/Editor<>:root:visible #host\").pop();var root=ace&&ace.up().down(\":root\");var pr=this.print.bind(this);function open(uri,opts){me.bubble(\"openform\",js.mixIn(js.mixIn(opts||{}),{uri:uri}));}\nreturn eval(expr);}}]]];");
define("text!vcl/prototypes/ui/forms/util/Console.js", "\"use vcl/Component, vcl/Control, vcl/Dragger, util/Command, util/HotkeyManager, vcl/ui/Sizer, vcl/ui/FormContainer, entities/EM, entities/ExpressionBuilder, util/Rest, features/FM\";var Component=require(\"vcl/Component\");var Control=require(\"vcl/Control\");var FormContainer=require(\"vcl/ui/FormContainer\");var Sizer=require(\"vcl/ui/Sizer\");var Command=require(\"util/Command\");var Rest=require(\"util/Rest\");var Deferred=require(\"js/Deferred\");var JsObject=require(\"js/JsObject\");var Dragger=require(\"vcl/Dragger\");var deselect=()=>{window.getSelection&&window.getSelection().removeAllRanges();document.selection&&document.selection.empty();};var cl=console.log;[[\"ui/Form\"],{activeControl:\"console\",align:\"bottom\",height:250,visible:true,onActivate(){},onLoad(){var me=this,scope=this.scope(),app=this.app();var sizer=this.vars(\"sizer\",new Sizer(this));var parent=this.scope()[this.vars(\"parent\")];if(parent){this.setParent(parent);}else{this.setParentNode(this.vars([\"#console.parentNode\"])||document.body);}\nsizer.on(\"setControl\",function(value){if(value){}\nvar consoles=this.app().qsa(\"vcl/ui/Console\").filter(c=>c.isVisible());var content=[];if(consoles.length===0){consoles=[scope.console];}\nif(value!==null){if(value.getUri()){var root=value.isRootComponent()?\":root\":\"\";var uri=value.isRootComponent()?value._uri:value.getUri();var selected=value.isSelected&&value.isSelected()?\":selected\":\"\";var disabled=value.isEnabled&&value.isEnabled()?\"\":\":disabled\";content.push(js.sf(\"%s%s%s%s\",uri,root,selected,disabled));}\nif(sizer.getVar(\"meta\")===true){consoles.forEach(c=>c.getNode(\"input\").value=js.sf(\"[#%d, \\\"%s\\\"]\",value.hashCode(),content.join(\"\\\", \\\"\")));}else{consoles.forEach(c=>c.getNode(\"input\").value=js.sf(\"#%d\",value.hashCode()));consoles.forEach(c=>c.focus());}\nif(value._owner){content.push(String.format(\"%n\",value._owner));}\napp.toast({title:js.sf(\"%n\",value),content:js.sf(\"<ul style='padding:0;padding-left:8px;'><li>%s</li></ul>\",content.join(\"</li><li>\")),classes:\"glassy fade\"});}\nscope.sizer_selection.setContent(String.format(\"%H\",content.join(\" - \")));},true);var down;this.app()._dispatcher.override({dispatch:function(component,name,evt){if(evt.keyCode===27){if(sizer._control!==null){if(name===\"keydown\"&&evt.ctrlKey===false){down=Date.now();if(evt.altKey===true){var root=sizer._control.up();sizer.setControl(root===app?null:root);}else if(evt.shiftKey===true){sizer.setControl(null);}else{sizer.setControl(sizer._control._parent);}}\nif(name===\"keyup\"){if(evt.ctrlKey===false){return false;}}}}\nif(sizer._control!==null&&name===\"keyup\"&&evt.keyCode===46){const uri=js.sf(\"%s%s%s\",sizer._control.getUri(),sizer._control.isSelected()?\":selected\":\"\",sizer._control.isRootComponent()?\":root\":\"\");const names=js.sf(\"%s#%n\",uri,sizer._control).split(\"#\");let n;if(confirm(js.sf(\"Choose OK in order to confirm the destruction of the following component:\\n\\n%s\\n\\n%d component%s will be destroyed.\",names.map((n,i)=>js.sf(\"- %s%s\",i>1?\"#\":\"\",n)).join(\"\\n\"),(n=sizer._control.qsa(\"*\").length+1),n===1?\"\":\"s\"))){sizer._control.destroy();}}\nif(evt.target.nodeName!==\"A\"){if(evt.altKey===true){if(name===\"dblclick\"&&evt.metaKey){sizer.setControl(component);var consoles=me.app().qsa(\"vcl/ui/Console\").filter(c=>c.isVisible());if(consoles.length===0){me.ud(\"#toggle-console\").execute({});}\nconsoles.forEach(_=>{_.getNode(\"input\").value=\"\";_.print(js.sf(\"#%d\",component.hashCode()),component);});return false;}else if(name===\"click\"){if(evt.metaKey===true){if(component instanceof Control){if(sizer._control===component){component=null;}\nsizer.setControl(component);return false;}}else if(evt.shiftKey===true){var fc=component;evt.preventDefault();deselect();me.setTimeout(\"deselect\",()=>{while(fc instanceof Control){if(fc instanceof FormContainer){if(evt.metactrlKey===true){var keys=Component.getKeysByUri(fc._formUri);if(confirm(String.format(\"Rescaffold %s?\",fc.getForm().getUri()))===true){fc.reloadForm();return false;}}else{if(confirm(String.format(\"Reload %s?\",fc.getForm().getUri()))===true){fc.reloadForm();return false;}}}\nfc=fc._parent;}},100);}}else if(name===\"touchstart\"||name===\"touchmove\"){if(evt.touches.length>3){app.getScope().toggle_console.execute(evt);}}}}\nif(name.startsWith(\"mouse\")||name.startsWith(\"key\")){me.setTimeout(\"sizer-update\",()=>sizer.update(),50);}\nreturn this.inherited(arguments);}});return this.inherited(arguments);},onHide(){var focused=Control.focused;var scope=this.getScope();if(focused===scope.console){scope.console.getNode(\"input\").blur();}}},[[[\"ui/controls/Toolbar\"],\"toolbar\",{css:{cursor:\"ns-resize\"},draggable:true,onDraggerNeeded(){var control=this._owner;var dragger=new Dragger(this);dragger.setCursor(\"ns-resize\");dragger.override({updateHandles:function(evt){control.setHeight(control.getHeight()-(evt.clientY-this._sy));this._sy=evt.clientY;}});return dragger;}},[[(\"vcl/ui/Element\"),\"sizer_selection\",{css:\"padding: 4px; display: inline-block; cursor: default;\"}],[[\"ui/controls/SizeHandle\"],\"size_handle\",{classes:\"vertical\",onClick(){this.up().down(\"#toggle-console\").execute({sender:this});},vars:{control:\"@owner\"}}]]],[(\"vcl/ui/Console\"),\"console\",{onLoad(){this.up().print(\"document\",window.location);},onEvaluate(expr){const cl=console.log;const pr=()=>this.print.apply(this,arguments);const me=this;const open=(uri,opts)=>this.bubble(\"openform\",js.mixIn(js.mixIn(opts||{}),{uri:uri}));return eval(expr);}}]]];");
define("text!vcl/prototypes/App.openform.js", "\"vcl/ui/Element, vcl/ui/FormContainer\";var FormContainer=require(\"vcl/ui/FormContainer\");[\"\",{onLoad:function(){var scope=this.scope(),delegate;this.on({\"open:form\":function(evt){if(evt.modal===true){scope.openform_modal.execute(evt);}else{if(delegate===undefined){delegate=scope.client.getForm().scope().open_form;}\ndelegate.execute(evt.uri,evt);}}});this.popup=function(uri,opts){opts=js.mixIn(opts);opts.uri=uri;return this.bubble(\"openform_modal\",opts);};return this.inherited(arguments);},onMessage:function(name,msg,sender){var scope=this.getScope();if(name===\"openform\"||name===\"openform-tabbed\"){scope.openform.execute({uri:msg.uri,msg:msg},this);}else if(name===\"openform_modal\"){scope.openform_modal.execute(msg,sender);}else if(name===\"log\"){scope.console.sendMessage(name,msg,sender);}},},[[\"vcl/Action\",(\"openform_modal\"),{on(evt){var app=this.getApp();var scope=this.getScope();var app_scope=app.getScope();var container=new FormContainer(app);var client=app_scope.modal_client;var cs=scope.modal_client.getComputedStyle();var w=evt.width||0.75;var h=evt.height||0.75;if(w<1){w=parseInt(cs.width)*w;}\nif(h<1){h=parseInt(cs.height)*h;}\nscope.modal_client.bringToFront();var width=parseInt(cs.width);container.setAlign(\"none\");container.setAutoSize(\"both\");container._autoPosition={left:true,top:true};container.setCss({\"background-color\":\"white\",\"z-index\":\"201\",\"border-radius\":\"12px\",\"border\":\"1px solid transparent\",\"box-shadow\":\"4px 4px 15px 2px rgba(128, 128, 128, 0.7)\",\"left\":String.format(\"%dpx\",width/2-w/2),\"top\":String.format(\"%dpx\",evt.top||70),\"width\":String.format(\"%dpx\",w),\"height\":String.format(\"%dpx\",h),\"overflow\":\"hidden\",\"&.animate\":{\"-webkit-transition-property\":\"-webkit-transform, opacity, all\",\"-webkit-transition-duration\":\"0.2s, 0.3s, 0.3s\",\"&.fadein-scale\":{\"-webkit-transform\":\"scale(1)\",\"opacity\":\"1\",\"&.initial\":{\"-webkit-transform\":\"scale(0.9)\",\"opacity\":\"0\"}}}});if(evt.uri){container.setFormUri(evt.uri);}else if(evt.form){container.swapForm(evt.form,false);evt.form.show();}\nif(typeof evt.params===\"function\"){container.setFormParams(evt.params());}else if(evt.params){container.setFormParams(evt.params);}\nclient.addClasses(\"animate darken initial\");container.addClasses(\"animate fadein-scale initial\");container.setParentNode(app.down(\"#window\").getNode());container.setOnFormClose(function(){client.applyVar(\"cancel\");});container.setOnFormLoad(function(){if(typeof evt.callback===\"function\"){evt.callback(this._form);}});container.setTimeout(\"x\",function(){client.removeClass(\"initial\",true);container.removeClass(\"initial\",true);},100);var containers=client.getVar(\"containers\",false,[]);containers.push(container);}}],[\"vcl/Action\",(\"openform\"),{on(evt,sender){var scope=this.ud(\"#client\").getForm().getScope();scope.open_form.execute(evt.uri,evt.msg);}}],[\"#window\",{},[[(\"vcl/ui/Panel\"),\"modal_client\",{css:{\"pointer-events\":\"none\",\"visibility\":\"hidden\",\"&.animate\":{\"-webkit-transition\":\"background-color 0.2s\",\"visibility\":\"inherit\",\"pointer-events\":\"all\",\"background-color\":\"white\",\"&.darken\":{opacity:\"0.6\",\"&.initial\":{opacity:\"0\"}}}},align:\"client\",onTap:function(){var containers=this.getVar(\"containers\");var scope=this.getScope();if(containers.length>0){var form=containers[containers.length-1]._form;if(form){form.close();}else{scope.modal_client.applyVar(\"cancel\");}}},onResize:function(){var containers=this.getVar(\"containers\");if(containers){var scope=this.getScope();var cw=parseInt(scope.modal_client.getComputedStyle().width);containers.forEach(function(container){var width=container.getWidth();container.setBounds(cw/2-width/2,undefined,undefined,undefined,undefined,undefined);});}},vars:{cancel:function(){var containers=this.getVar(\"containers\");var container=containers.pop();var modal_client=this;container.addClass(\"initial\",true);this.addClass(\"initial\",true);container.on({\"transitionend\":function(){modal_client.removeClasses(\"animate darken initial\",true);container._form.setParent(null);delete container._form;container.destroy();}});}}}]]]]];");
define("text!vcl/prototypes/App.toast.js", "[\"\",{onToast:function(options){var Element=require(\"vcl/ui/Element\");var scope=this.getScope();var elem=new Element(this);var timeout=options.ms||(options.hasOwnProperty(\"timeout\")?options.timeout:1500);var content=options.content||\"No toast content\";var classes=options.classes||\"fade\";if(options.title!==undefined){content=String.format(\"<b>%s</b><div>%s</div>\",options.title,content);}\nelem.setContent(content);elem.setParent(scope.toasts);elem.addClasses(classes);elem.update(()=>elem.addClass(\"appear\"));var controller={element:elem,remove(timeout_){elem.setTimeout(\"disappear\",()=>{var h=elem.on(\"transitionend\",()=>{elem.un(h);elem.destroy();});elem.replaceClass(\"appear\",\"disappear\");},timeout_!==undefined?timeout_:timeout);}};if(timeout){controller.remove();}\nreturn controller;}},[[\"vcl/ui/Panel\",\"toasts\",{parent:\"window\",autoSize:\"both\",autoPosition:\"top-left-bottom-right\",classes:\"glassy-overlay\",css:{\".right-half-size-switch\":{height:\"15px\",width:\"20px\",display:\"inline-block\",float:\"right\",transform:\"scale3d(0.5, 0.5, 1) translate3d(0, -9px, 0)\"},right:\"0\",left:\"0\",bottom:\"20px\",\"z-index\":\"20000\",\"pointer-events\":\"none\",\".{./Element}\":{\"pointer-events\":\"all\",\"a\":{\"text-decoration\":\"underline\",cursor:\"pointer\"},opacity:\"0.75\",color:\"black\",\"&.glassy\":{padding:\"16px 24px\",margin:\"4px\",'border-radius':\"15px\"},\"float\":\"right\",\"clear\":\"both\",\"&.box-shadow\":{\"box-shadow\":\"0 1px 5px rgba(0,0,0,0.65)\",\"border-radius\":\"4px\"},\"&.no-clear\":\"clear: none;\",\"&.big\":\"font-size: 32pt;\",\"&.medium\":\"font-size: 14pt;\",\"&.fade\":{opacity:\"0\",transition:\"opacity 1s ease\",},\"&.appear\":{opacity:\"1\"},\"&.disappear\":{},\"&:hover\":{opacity:\"1\"},\"&.loading-right\":{\"background-image\":\"url(/shared/vcl/images/loading.gif)\",\"background-position\":\"95% center\",\"background-repeat\":\"no-repeat\",\"padding-right\":\"40px\"},\"&.padding-right-20px\":{\"padding-right\":\"20px\"},\"&.centered\":{\"text-align\":\"center\",\".{./Element}\":{\"margin-left\":\"auto\",\"margin-right\":\"auto\",\"text-align\":\"left\",\"float\":\"none\"},},\"&.paragraph\":{'max-width':\"35%\"}},}}]]];");
define("text!vcl/prototypes/ui/controls/SizeHandle.js", "\"use vcl/Dragger\";[(\"vcl/ui/Element\"),{draggable:true,css:{position:\"absolute\",right:\"0\",top:\"0\",\"z-index\":\"999999999999\",\"background-repeat\":\"no-repeat\",\"background-position\":\"center\",\"&.horizontal\":{\"background-image\":\"url(/shared/vcl/images/statusbarResizerHorizontal.png)\",cursor:\"ew-resize\",height:\"24px\",width:\"16px\"},\"&.vertical\":{\"background-image\":\"url(/shared/vcl/images/statusbarResizerVertical.png)\",cursor:\"ns-resize\",height:\"8px\",\"margin-top\":\"7px\",width:\"20px\"},'&.left':\"left: 0;\",'&.bottom':\"bottom: 0;\"},onLoad(){var control=this.vars(\"control\");var scope=this.scope();var alt=this.vars(\"control-alt\");if(!(control instanceof require(\"vcl/Control\"))){this.vars(\"control\",scope[control]||this);}\nif(alt&&!(alt instanceof require(\"vcl/Control\"))){this.vars(\"control-alt\",scope[alt]||this);}\nreturn this.inherited(arguments);},onDraggerNeeded(){var control=this.getVar(\"control\");var dragger=new(require(\"vcl/Dragger\"))(this);var horizontal=this.hasClass(\"horizontal\");dragger.setCursor(horizontal?\"ew-resize\":\"ns-resize\");dragger.override({updateHandles:function(evt){if(horizontal===true){if(!control.getVisible()){control.setVisible(true);control.setWidth(0);}\ncontrol.setWidth(control.getWidth()+(evt.clientX-this._sx));}else{if(!control.getVisible()){control.setVisible(true);control.setHeight(0);}\ncontrol.setHeight(control.getHeight()-(evt.clientY-this._sy));}\nthis._sx=evt.clientX;this._sy=evt.clientY;}});return dragger;}}];");
define("text!vcl/prototypes/ui/Form.js", "\"vcl/ui/Button\";[\"vcl/ui/Form\",{tabIndex:1,onReceiveParams:function(params){var scope=this.getScope();if(params.canClose!==undefined){scope.form_close.setEnabled(params.canClose===true);scope.form_close.setVisible(params.canClose===true);}\nreturn this.inherited(arguments);}},[[\"vcl/Action\",\"form_close\",{content:\"Close\"}],[\"vcl/Action\",\"url_state_push\",{}],[\"vcl/Action\",\"url_state_pop\",{}]]];");
define("text!vcl/prototypes/ui/controls/Toolbar.js", "$(\"vcl/ui/Panel\",{align:\"top\",height:23,css:{\"background-color\":\"#f0f0f0\",\"border-bottom\":\"1px solid silver\",overflow:\"hidden\"}});");
define("text!blocks/prototypes/Ace.js", "[\"vcl-ui:Ace\"];");
define("text!vcl-comps/devtools/Main.js", "\"clipboard-copy, js/Method, vcl/ui/Ace, vcl/ui/Tab, vcl/ui/Panel, vcl/ui/Bar, vcl/ui/FormContainer, util/HotkeyManager, util/net/Url\";var hotkeys={\"Ctrl+Alt+F1\":\"editor-move-to-front\",\"Ctrl+N\":\"editor-new\",\"Alt+Ctrl+N\":\"editor-new\",\"Shift+Ctrl+40\":\"editors-next\",\"Shift+Ctrl+38\":\"editors-previous\",\"Shift+Ctrl+39\":\"editor-next\",\"Shift+Ctrl+37\":\"editor-previous\",\"Shift+Ctrl+186\":\"editors-next\",\"Shift+Ctrl+189\":\"editors-previous\",\"Shift+Ctrl+222\":\"editors-next\",\"Shift+Ctrl+221\":\"editor-next\",\"Shift+Ctrl+219\":\"editor-previous\",\"Ctrl+Tab\":\"editor-next\",\"Shift+Ctrl+Tab\":\"editor-previous\",\"Shift+Ctrl+Meta+219\":\"editor-move-left\",\"Shift+Ctrl+Meta+221\":\"editor-move-right\",\"Ctrl+W\":\"editor-close\",\"Shift+Ctrl+S\":\"editor-switch-favorite\",\"Ctrl+S\":\"editor-switch-favorite\",\"Alt+Shift+Ctrl+S\":\"editor-switch-favorite\",\"Shift+Ctrl+W\":\"editors-close-all\",\"Alt+Shift+Ctrl+W\":\"editors-close-all\",\"Escape\":\"editor-setfocus\"};var Ace=require(\"vcl/ui/Ace\");var Tab=require(\"vcl/ui/Tab\");var Control=require(\"vcl/Control\");var Method=require(\"js/Method\");var HotkeyManager=require(\"util/HotkeyManager\");var Url=require(\"util/net/Url\");var FormContainer=require(\"vcl/ui/FormContainer\");function title(){var url=app.vars(\"url\");return js.sf(\"%s\",url.getParamValue(\"title\")||app.getTitle(),url.getParamValue(\"\")||url.getPath().split(\"/\")[0]||\"cavalion-code\");}\nfunction title_css(){var url=app.vars(\"url\");var colors=url.getParamValue(\"title-colors\");colors=(colors&&colors.split(\"|\"))||[\"rgb(56, 121, 217)\",\"white\"];return{\"\":\"text-align:center;float:right;min-width:200px;line-height:26px;\",\"&:not(.custom-colors)\":js.sf(\"background-color:%s;color:%s;\",colors[0],colors[1]),\"&.arcadis\":\"background-color:orange;color:black;\",\"&.kzmrqz\":\"background-color:orange;color:purple;\",\"&.cavalion\":\"background-color:rgb(48,61,80);color:white;\",\"&.terrannia\":\"background-color:pink;color:purple;\",\"&.homemade\":\"background-color:purple;color:white;\",\"&.veldoffice\":\"background-color:limegreen;color:darkgreen;\",\"&.veldapps\":\"background-color:lightgreen;color:darkgreen;\",\"&.veldapps-alt\":\"background-color:limegreen;color:darkgreen;\",\"&.eae\":\"background-color:rgb(14,32,77);color:white;\",\"&.smdl\":\"background-color:gold;color:maroon;\",\"&.gx\":\"background-color:navy; color:white;\",\"&.pdc\":\"background-color:#261f10;color:white;\"};}\nfunction replaceChars(uri){return uri.replace(/\\//g,\".\");}\nfunction forceUpdate(control){var ControlUpdater=require(\"vcl/ControlUpdater\");(function loop(c){ControlUpdater.queue(c);c._controls&&c._controls.forEach(loop);}(control));}\nfunction focusSidebar(ws,sidebar){var tab=ws.qs(\"#left-sidebar < vcl/ui/Tab:selected\");sidebar.vars(\"hadFocus\",Control.focused);if(tab&&tab._control){var input=tab._control.qs(\"< vcl/ui/Input\");if(input){if(!input.isFocused()){input.setFocus();}else{ws.down('*:selected #editor-setfocus').execute({},ws);}}else{var console=tab._control.qs(\"< vcl/ui/Console\");if(console)console.setFocus();}}}\nconst fixThemeColor=()=>setTimeout(()=>{var meta=Array.from(top.document.querySelectorAll(\"meta\")).filter(meta=>meta.name===\"theme-color\")[0];if(!meta){meta=top.document.createElement(\"meta\");}\nmeta.setAttribute(\"name\",\"theme-color\");meta.setAttribute(\"content\",\"#f0f0f0\");if(!meta.parentElement){top.document.head.appendChild(meta);}},0);var tabs_hidden=\"height:0;padding:0;border:0;opacity:0;\";var nameOf=(c)=>c._name?js.sf(\"#%d [%s]\",c.hashCode(),c._name):\"#\"+c.hashCode();(function(styles){var node=styles[0];var parent=node.parentNode;parent.removeChild(node);parent.appendChild(node);}(Array.from(document.querySelectorAll(\"style\"))));[[\"ui/Form\"],{css:{\".tabs-hidden_\":tabs_hidden,\"background-color\":\"rgba(255,255,255,0.975)\",\"&.workspace-tabs-hidden\":{\"#editors-tabs\":tabs_hidden,\"#bottom-tabs\":tabs_hidden,},\"#left-sidebar-tabs\":{\".{Tab}\":\"border-top-left-radius:5px; border-top-right-radius:5px;\",\".{Tab}.selected\":\"padding-left:8px;\"},\"#editors-tabs\":{\"\":\"padding-left:12px;\",\".{Tab}\":\"border-top-left-radius:5px; border-top-right-radius:5px;\",\".{Tab}.selected\":\"padding-left:8px;\"},\"#workspaces-tabs\":{\"\":\"background-color:#f0f0f0\",\".{Tab}.star\":{\".menu\":\"visibility:hidden;display:block;\"},\".{Tab}\":\"border-bottom-left-radius:5px; border-bottom-right-radius:5px;\",\".{Tab}.selected\":\"padding-left:8px;\"},\"#editors-tabs:focus\":{\"\":\"transition: background-color ease-in 0.2s; background-color: rgba(244, 253, 255, 0.94);\",\".selected\":\"border:1px solid rgb(57,121,204); background-color: rgb(57,121,204); color: white;\",\".menu\":\"color: white;\"}},onLoad(){var scope=this.scope();var me=this;try{fixThemeColor();}catch(e){}\nconst _md=js.sf(\"pouchdb://%s/.md\",js.get(\"storageDB.name\",req(\"vcl/Component\")));function createWorkspaces(workspaces){const def={name:\"✪\",vars:{\"#navigator favorites\":[js.sf(\"%s;://.md;File\",_md)]},state:{\"left-sidebar.visible\":false,\"editors\":[{\"selected\":true,\"resource\":{\"uri\":\"://.md\",\"type\":\"File\"}}]},onTabRender(){delete this._onRender;this.addClass(\"star\");}};if(!workspaces.find(ws=>ws.name===def.name)){workspaces=[def].concat(workspaces);}\nworkspaces.forEach(function(workspace){scope[\"workspace-needed\"].execute({sender:me,workspace:workspace,selected:workspace.selected});});}\nvar url=app.vars(\"url\");var workspaces=url.getParamValue(\"workspaces\");var title=url.getParamValue(\"title\");if(title){this.app()['@properties'].title=title;this.app().setTitle(title);}\nif(this.up(\"devtools/Main<>\")===null&&workspaces){this.app().print(\"workspaces\",workspaces);createWorkspaces(workspaces.split(\",\").map(_=>({name:_})));}else{this.app().print(\"workspaces\",this.vars([\"default-workspaces\"]));createWorkspaces(this.vars([\"default-workspaces\"])||[]);}\nthis.readStorage(\"state\",function(state){if(state!==undefined){var index=state.workspace;var tab=scope['workspaces-tabs'].getControl(index);tab&&tab.setSelected(true);}});this.on(\"state-dirty\",function(){me.setTimeout(\"saveState\",function(){me.writeStorage(\"state\",{workspace:scope['workspaces-tabs'].getSelectedControl(1).getIndex()});},200);});var console_scope=this.app().scope().console.scope();console_scope.toolbar&&console_scope.toolbar.setVisible(false);console_scope.size_handle&&console_scope.size_handle.setParent(scope['workspaces-tabs']);var version=document.qs(\"html head script\").text.split(\"\\n\")[1].split(\"\\\"\")[3]||\"from source\";this.app().print(\"running version\",version);return this.inherited(arguments);},onActivate(){var me=this;function create_callback(hotkey,action){return function(evt,type){evt.preventDefault();me.qsa(\"devtools/Workspace<>:root:selected:visible #\"+action).execute(evt);};}\nfunction create_callback_sidebar(hotkey,index){return function(evt,type){evt.preventDefault();var ws=me.down(\"devtools/Workspace<>:root:selected\");var sidebar=ws.down(\"#left-sidebar\");if(!sidebar.isVisible()){sidebar.show();}\nsidebar.update(function(){var tabs=me.down(\"devtools/Workspace<>:root:selected #left-sidebar-tabs\");tabs._controls.forEach((tab,i)=>tab.setSelected(i===index));tabs._controls[index].update(()=>focusSidebar(ws,sidebar));});};}\nfunction create_callback_activateWS(hotkey,index){return function(evt,type){evt.preventDefault();var tab=me.scope()['workspaces-tabs'].qsa(\"< vcl/ui/Tab\")[index];tab.toggle(\"selected\");try{if((tab=tab._control.qs(\"#left-sidebar-tabs < vcl/ui/Tab:selected\"))){var input=tab._control.qs(\"vcl/ui/Input\");if(input&&!input.isFocused()){input.setFocus();}else{console.log(\"focus editor\");me.down('*:selected #editor-setfocus').execute(evt,me);}}}catch(e){console.warn(e.message);}};}\nfunction toggleSidebar(evt){var ws=me.qs(\"devtools/Workspace<>:root:selected\");var sidebar=ws.qs(\"#left-sidebar\"),f;if(sidebar.isVisible()){sidebar.hide();f=sidebar.removeVar(\"hadFocus\");f&&f.setFocus();}else{sidebar.show();sidebar.update(()=>focusSidebar(ws,sidebar));}}\nfor(var k in hotkeys){HotkeyManager.register(k,{type:\"keydown\",callback:create_callback(k,hotkeys[k])});}\nme.vars(\"toggleSidebar\",(evt)=>toggleSidebar(evt));HotkeyManager.register(\"Shift+Meta+48\",{type:\"keydown\",callback:toggleSidebar});HotkeyManager.register(\"Shift+Meta+E\",{type:\"keydown\",callback:toggleSidebar});for(var i=0,hotkey;i<=9;++i){hotkey=String.format(\"Meta+%d\",i+48);HotkeyManager.register(hotkey,{type:\"keydown\",callback:create_callback_activateWS(hotkey,i)});hotkey=String.format(\"Ctrl+Alt+%d\",i+48);HotkeyManager.register(hotkey,{type:\"keydown\",callback:create_callback_activateWS(hotkey,i)});hotkey=String.format(\"Meta+Alt+%d\",i+48);HotkeyManager.register(hotkey,{type:\"keydown\",callback:create_callback_sidebar(hotkey,i-1)});}\nvar ctrlctrl=this.scope(\"ctrlctrl\");(function(focused){HotkeyManager.register({keyCode:17,type:\"keyup\",callback:function(evt){if(focused){if(ctrlctrl.getVisible())ctrlctrl.hide();else ctrlctrl.show();}else{focused=require(\"vcl/Control\").focused;me.setTimeout(\"ctrlctrl\",function(){focused=null;},250);}}});HotkeyManager.register({keyCode:18,type:\"keyup\",callback:function(evt){if(evt.code!==\"AltRight\")return;if(focused){if(ctrlctrl.getVisible())ctrlctrl.hide();else ctrlctrl.show();}else{focused=require(\"vcl/Control\").focused||1;me.setTimeout(\"ctrlctrl\",()=>focused=null,250);}}});}());},onDeactivate(){}},[[[\"devtools/DragDropHandler<>:root\"]],[[\"devtools/CtrlCtrl<>\"],\"ctrlctrl\",{visible:false}],[(\"vcl/Action\"),\"⌘.\",{hotkey:\"Meta+190\",on_(){var editor,ws;if(Control.focused){editor=Control.focused.up(\"devtools/Editor<>\");ws=Control.focused.up(\"devtools/Workspace<>\");}\n(ws||this.app()).print(nameOf(this),Control.focused);if(editor&&ws){ws.print(nameOf(this),editor.vars([\"resource.uri\"]));}},on(){var editor=app.qsa(\"vcl/ui/Tab:visible:selected\").filter(_=>_.vars(\"resource\")).pop();if(editor){var uri=editor.vars(\"resource.uri\");app.print(uri,editor);app.toast({classes:\"glassy fade\",content:uri})}}}],[(\"vcl/Action\"),\"copy-handler\",{hotkey:\"Cmd+C\",hotkeyPreventsDefault:false,onExecute(evt){var copy=require(\"clipboard-copy\");var focused=require(\"vcl/Control\").focused;if(focused instanceof require(\"vcl/ui/Tabs\")){focused=focused.getSelectedControl(1);}else if(focused instanceof require(\"vcl/ui/Node\")){}else if(focused instanceof require(\"vcl/ui/List\")){return copy(focused.getSelection(true).map(resource=>resource.uri).join(\"\\n\"));}else{focused=null;}\nif(focused&&(uri=focused.vars([\"resource.uri\"]))){copy(uri);}}}],[(\"vcl/Action\"),\"F5-blocker\",{hotkey:\"F5|MetaCtrl+R\",onExecute:function(evt){evt.preventDefault();}}],[(\"vcl/Action\"),\"reload-app\",{hotkey:\"Shift+MetaCtrl+R|Cmd+Alt+R\",on(){document.location.reload();}}],[(\"vcl/Action\"),\"hide-workspace-tabs\",{onExecute(){var twt=this.ud(\"#toggle-workspace-tabs\");twt._tag=!true;twt.execute();}}],[(\"vcl/Action\"),\"show-workspace-tabs\",{onExecute(){var twt=this.ud(\"#toggle-workspace-tabs\");twt._tag=!false;twt.execute();}}],[(\"vcl/Action\"),\"toggle-workspace-tabs\",{hotkey:\"Ctrl+F12\",state:true,on(){var owner=this.getOwner();var state=this.toggleState(),has=owner.hasClass(\"workspace-tabs-hidden\");if(state&&has){owner.removeClass(\"workspace-tabs-hidden\");}else if(!state&&!has){owner.addClass(\"workspace-tabs-hidden\");}},onExecute_:function(){var visible=this._tag;var focused=require(\"vcl/Control\").focused;var current=this.vars([\"editors-tabs:focused\"]);var before=this.vars(\"before\")||0;var now=Date.now();var tabs={editors:this.app().qsa(\"devtools/Workspace<>:root vcl/ui/Tabs#editors-tabs\"),bottom:this.app().qsa(\"devtools/Workspace<>:root vcl/ui/Tabs#bottom-tabs\"),left_sidebar:this.app().qsa(\"devtools/Workspace<>:root vcl/ui/Tabs#left-sidebar-tabs\")};if(now-before<250){current=focused&&focused.udr(\"vcl/ui/Tabs#editors-tabs\");if(!visible){tabs.editors=tabs.editors.filter(tabs=>tabs!==current);}else{tabs.editors=tabs.editors.filter(tabs=>tabs===current);}}\nvar hide=(tab)=>!tab.hasClass(\"tabs-hidden\")&&tab.addClass(\"tabs-hidden\");var show=(tab)=>tab.removeClass(\"tabs-hidden\");if(visible===true){tabs.editors.map(show);tabs.bottom.map(show);tabs.left_sidebar.map(show);}else{tabs.editors.map(hide);tabs.bottom.map(hide);tabs.left_sidebar.map(hide);}\nthis.vars(\"before\",now);this._tag=!this._tag;}}],[(\"vcl/Action\"),\"toggle-workspaces-tabs\",{hotkey:\"Ctrl+Alt+F12|Alt+Cmd+F12\",onExecute:function(){var tabs=this.app().down(\"devtools/Main<> #workspaces-tabs\");tabs.toggleClass(\"hidden\");}}],[[\"devtools/TabFactory\"],\"workspaces-new\",{vars:{onTabRender(){this._nodes.text.textContent=this.vars([\"workspace\"]).name.split(\".\").pop();},parents:{tab:\"workspaces-tabs\",container:\"@owner\",owner:\"@owner\"}},onExecute:function(evt){evt.workspace.specializer=evt.workspace.specializer||evt.workspace.name;if(!evt.hasOwnProperty(\"formUri\")){evt.formUri=evt.workspace.formUri||String.format(\"devtools/Workspace<%s>\",(js.get(\"workspace.specializer\",evt)||\"\"));}\nevt.params=evt.workspace;var tab=this.inherited(arguments);tab.setVar(\"workspace\",evt.workspace);tab.setText(evt.workspace.name);tab.set(\"onRender\",evt.workspace.onTabRender||this.vars(\"onTabRender\"));if(evt.workspace.name===\"✪\"){tab.addClass(\"right\");}\nreturn tab;}}],[(\"vcl/Action\"),\"workspace-issues-new\",{hotkey:\"Shift+Ctrl+73\",onExecute(){var ws=app.down(\"devtools/Workspace<>:root:selected\");var repo=ws.vars([\"workspace.github-repo\"])||js.sf(\"relluf/cavalion-%s\",ws.vars([\"workspace.name\"]));window.open(js.sf(\"https://github.com/%s/issues/new\",repo),\"\",\"menubar=no\");}}],[(\"vcl/Action\"),\"workspace-prompt-new\",{hotkey:\"Shift+122|Shift+123\",onExecute:function(evt){var n=this.udown(\"#workspaces-tabs\")._controls.length,me=this;this.app().prompt(\"#workspace-needed execute\",\"ws\"+n,function(res){if(res){me.up().qs(\"#workspace-needed\").execute(res).setSelected(true);}})}}],[(\"vcl/Action\"),\"workspace-prompt-new-resource\",{hotkey:\"Shift+121\",onExecute:function(evt){var me=this,parent=this.up().qsa(\"devtools/Editor<>:root:visible\").pop();parent=parent?js.up(parent.vars([\"resource.uri\"])):\"tmp\";var editorNeeded=this.app().down(\"devtools/Workspace<>:root:selected #editor-needed\");this.app().prompt(\"#editor-needed execute\",parent+\"/Resource-\"+Math.random().toString(36).substring(2,15),function(value){if(value!==null){editorNeeded.execute(value).setSelected(true);}});}}],[(\"vcl/Action\"),\"workspace-find\",{hotkey:\"Alt+F\",onExecute:function(){var ws=this.up().down(\"devtools/Workspace<>:root:selected\");var sidebar=ws.down(\"#left-sidebar\");sidebar.show();sidebar.update(function(){focusSidebar(ws,sidebar);});}}],[(\"vcl/Action\"),\"workspace-needed\",{onExecute:function(evt){if(evt instanceof Array){var me=this;return evt.forEach(function(ws){me.execute(ws);});}\nif(typeof evt===\"string\"){evt=evt.split(\"|\");evt={workspace:{name:evt[0],specializer:evt.pop()}};}\nif(evt.workspace&&!evt.workspace.specializer){evt.workspace.specializer=evt.workspace.name;}\nvar scope=this.getScope();var tabs=scope['workspaces-tabs'].getControls();var tab=tabs.find(tab=>tab.vars(\"workspace.specializer\")===evt.workspace.specializer)||tabs.find(tab=>tab.vars(\"workspace.name\")===evt.workspace.name);if(!tab){tab=scope['workspaces-new'].execute(evt);}else{tab.setSelected(true);}\nreturn tab;}}],[(\"vcl/Action\"),\"workspace-open\",{onExecute:function(evt){this.ud(\"#workspace-needed\").execute(evt).setSelected(true);}}],[(\"vcl/Action\"),\"workspace-activate\",{onExecute:function(evt){var tab,tabs=this.getScope()['workspaces-tabs'];if((tab=tabs.getControl(evt.keyCode-49))!==null){evt.preventDefault();tab.setSelected(true);tab.update(()=>tab.scrollIntoView());try{tab=tab._control.qs(\"#left-sidebar-tabs < vcl/ui/Tab:selected\");}catch(e){console.warn(e.message);}}}}],[(\"vcl/Action\"),\"workspace-left-sidebar-tabs::next-previous\",{hotkey:\"Ctrl+32|Ctrl+Shift+32\",onExecute:function(evt){var ws=this.up().down(\"devtools/Workspace<>:root:selected\");var tabs=ws.down(\"#left-sidebar-tabs\");var sidebar=ws.down(\"#left-sidebar\");if(!sidebar.isVisible()){sidebar.show();sidebar.update(function(){focusSidebar(ws,sidebar);});}else{tabs[\"select\"+(evt.shiftKey?\"Previous\":\"Next\")]();}\nevt.preventDefault();}}],[(\"vcl/Action\"),\"workspace-move-left\",{hotkey:\"Ctrl+Alt+Meta+219\",onExecute:function(){var tab=this._owner.qs(\"vcl/ui/Tab:selected:childOf(workspaces-tabs)\");var index=tab.getIndex();if(index>0){tab.setIndex(index-1);}}}],[(\"vcl/Action\"),\"workspace-move-right\",{hotkey:\"Ctrl+Alt+Meta+221\",onExecute:function(){var tab=this._owner.qs(\"vcl/ui/Tab:selected:childOf(workspaces-tabs)\");var index=tab.getIndex();tab.setIndex(index+1);}}],[(\"vcl/Action\"),\"workspace-destroy\",{hotkey:\"MetaCtrl+115\",on(){var tab=this._owner.qs(\"vcl/ui/Tab:selected:childOf(workspaces-tabs)\");if(confirm(js.sf(\"destroy %n?\",tab.vars(\"workspace.name\")))){tab.destroy();}}}],[(\"vcl/Action\"),\"workspaces-tabs::next-previous\",{hotkey:\"Ctrl+Alt+219|Ctrl+Alt+221|Shift+Meta+219|Shift+Meta+221\",onExecute:function(evt){var method=evt.keyCode===219?\"Previous\":\"Next\";this.scope(\"workspaces-tabs\")[\"select\"+method]();evt.preventDefault();}}],[(\"vcl/Action\"),\"workspaces-tabs-dblclick\",{hotkey:\"Ctrl+Alt+187\",onExecute:function(){this.scope(\"workspaces-tabs\").ondblclick({});}}],[(\"vcl/Action\"),\"open_form\",{left:96,onExecute:function onExecute(uri,options){var scope=this.scope();var owner=this._owner;var selectedTab=scope['workspaces-tabs'].getSelectedControl(1);var container=new FormContainer(owner);var tab=new Tab(owner);tab.setText(uri);if(options.closeable!==false){tab.addClass(\"closeable\");}\ntab.setText(\"&nbsp;<img src='/shared/vcl/images/loading.gif' align='absmiddle'>\"+(options.text||\"&nbsp;\"));container.on(\"formload\",function(){tab.setText(uri);});tab.setControl(container);tab.setParent(scope['workspaces-tabs']);if(selectedTab!==null){}\ntab.setSelected(options.selected!==false);tab.setOnCloseClick(function(){container.getForm().close();});container.setVisible(false);container.setFormUri(uri);container.setAlign(\"client\");container.setParent(scope['@owner']);container.setOnFormLoadError(function(){alert(\"Could not load form \"+container.getFormUri());tab.destroy();container.destroy();form=null;tab=null;container=null;return false;});container.setOnFormClose(function(){this.getForm().destroy();this.destroy();tab.destroy();form=null;tab=null;container=null;});container.setOnGetFormParams(options.onGetFormParams||null);container.setFormParams(options.params||null);container.setVisible(options.selected!==false);if(options.forceLoad!==false){container.forceLoad();}\ntab._update();return tab;},top:232}],[(\"vcl/ui/Tabs\"),\"workspaces-tabs\",{align:\"bottom\",classes:\"bottom\",css:{'&.hidden':\"max-height:0;height:0;padding:0;\",'.right':\"float:right;\"},onMouseDown(evt){this.vars(\"mousedown\",Date.now());},onMouseUp(evt){const now=Date.now();if(now-this.removeVar(\"mousedown\")>400){this.getSelectedControl(1).setSelected(false);}},onDblClick:function(evt){this.udown(\"#workspace-prompt-new\").execute(evt);},onChange:function(){this._owner.emit(\"state-dirty\");}},[[(\"vcl/ui/Element\"),\"title\",{index:0,element:\"span\",css:title_css(),onRender(){var t=this.vars(\"title\")||title();this.getNode().innerHTML=js.sf(\"&nbsp; <b>%s<b> <i class='fa fa-caret-down'></i>  &nbsp;\",t);}}]]]]];");
define("text!vcl-comps/devtools/TabFactory.js", "\"vcl/ui/FormContainer, vcl/ui/Tab\";var Tab=require(\"vcl/ui/Tab\");var FormContainer=require(\"vcl/ui/FormContainer\");function Tab_oncloseclick(){this._control._form&&this._control._form.destroy();this.destroy();}\nfunction FormContainer_dispatchChildEvent(component,name,evt,f,args){if(name.indexOf(\"form\")===0&&name===\"formclose\"){component._owner?.destroy();}\nreturn this.inherited(arguments);}\n[\"vcl/Action\",{vars:{closeable:\"default for Tab.closeable if not specified in params\",parents:{container:\"reference to parent of to be created FormContainers\",tab:\"\"}},onExecute:function(evt){var scope=this.scope();var parents=js.mixIn(evt.parents||this.getVar(\"parents\"));var closeable=evt.closeable||this.getVar(\"closeable\");var formUri=evt.formUri||this.getVar(\"formUri\");for(var k in parents){if(typeof parents[k]===\"string\"){parents[k]=scope[parents[k]];}}\nvar tab=new Tab(evt.owner||scope['@owner']);var fc=new FormContainer(tab);tab.setCloseable(closeable);tab.setControl(fc);tab.setParent(parents.tab);tab.setOnCloseClick(Tab_oncloseclick);fc._onDispatchChildEvent=FormContainer_dispatchChildEvent;evt.formParams&&fc.setFormParams(evt.formParams);fc.setVisible(false);fc.setParent(parents.container);fc.setFormUri(formUri);evt.selected&&tab.setSelected(evt.selected);return tab;}}];");
define("text!vcl-comps/devtools/DragDropHandler.js", "\"use util/HtmlElement\";var HE=require(\"util/HtmlElement\");function handleFile(file,r){let reader=new FileReader();reader.onloadend=function(){var result=reader.result;r.readerResult=result;};if(r.type.startsWith(\"image/\")){reader.readAsDataURL(file);}else{reader.readAsText(file);}\nreturn file;}\nfunction copy(obj,r,promises){r=r||{};promises=promises||[];for(var k in obj){var v=obj[k];if(typeof v===\"object\"){if(typeof v.length===\"number\"){v=copy(v,[],promises);}else{v=copy(v);}}\nif(typeof v!==\"function\"){r[k]=v;}else if(k===\"getAsString\"){promises.push(obj.getAsString(value=>r.strValue=value));}else if(k===\"getAsFile\"){r.fileValue=handleFile(obj.getAsFile(),r,promises);}else if(k===\"text\"&&typeof v===\"function\"){promises.push(r.text=obj.text().then(res=>r.text=r.readerResult=res));}else{r[k]=function(){};}}\nreturn r;}\nfunction traverseFileTree(item,path){path=path||\"\";return new Promise((resolve)=>{if(item.isFile){item.file(file=>{resolve([file]);});}else if(item.isDirectory){var dirReader=item.createReader();dirReader.readEntries(entries=>{var promises=[];for(var i=0;i<entries.length;i++){promises.push(traverseFileTree(entries[i],path+item.name+\"/\"));}\nPromise.all(promises).then(files=>{resolve(files.flat());});});}});}\n[(\"vcl/ui/Panel\"),{css:{'input':\"display:none;\"},onLoad:function(){this.setParentNode(document.body);const input=HE.fromSource('<input type=\"file\" multiple webkitdirectory>');this.nodeNeeded().appendChild(input);this.set(\"onDestroy\",()=>document.body.removeChild(input));this.vars(\"input\",input);const dropped=this.vars(\"dropped\",false,[]);input.addEventListener(\"change\",(evt)=>{if(evt.target.files.length>0){const p=[],dataTransfer=copy({files:evt.target.files},false,p);Promise.all(p).then(()=>{dropped.push(dataTransfer);this.nextTick(()=>this.emit(\"dropped\",[dataTransfer,dropped]));});}});var listeners;this.vars(\"listeners\",listeners={dragover:(evt)=>{evt.preventDefault();this.setVisible(true);},dragend:(evt)=>{this.setTimeout(\"dragend\",()=>{evt.preventDefault();this.setVisible(false);},500);},drop:(evt)=>{evt.preventDefault();this.setVisible(false);var items=Array.from(evt.dataTransfer.items);Promise.all(items.map(itemEntry=>{var item=itemEntry.webkitGetAsEntry();if(item){return traverseFileTree(item);}\nreturn null;}).filter(Boolean)).then(files=>{files=files.flat();files.forEach(file=>{var dataTransfer=copy({files:[file]});dropped.push(dataTransfer);this.emit(\"dropped\",[dataTransfer,dropped]);});});},drop_:(evt)=>{const p=[],dataTransfer=copy(evt.dataTransfer,false,p);Promise.all(p).then(()=>{dropped.push(dataTransfer);this.nextTick(()=>this.emit(\"dropped\",[dataTransfer,dropped]));this.setVisible(false);});evt.preventDefault();}});document.addEventListener(\"dragover\",listeners.dragover);document.addEventListener(\"dragend\",listeners.dragend);document.addEventListener(\"drop\",listeners.drop);},onDestroy:function(){var listeners=this.vars(\"listeners\");document.removeEventListener(\"dragover\",listeners.dragover);document.removeEventListener(\"dragend\",listeners.dragend);document.removeEventListener(\"drop\",listeners.drop);},align:\"client\",css:\"background-color:rgba(45,45,45,0.8);z-index:9999999999; color:white;padding:64px; font-family:\\\"Lucida Grande\\\", Arial, sans-serif;\",content:locale(\"DragDropHandler.dropHereMessage\")+\" [\"+Date.now()+\"]\",visible:false},[[\"vcl/Action\",(\"drop-opened-files\"),{hotkey:\"MetaCtrl+O\",on(){this.vars([\"input\"]).click();},overrides:{isHotkeyEnabled(){return true;},}}]]];");
define("text!vcl-comps/devtools/CtrlCtrl.js", "var path=(tab)=>{var tabs=[];while((tab=tab.up(\"vcl/ui/Tab\"))){if(tab.vars(\"resource\")){tabs.unshift(tab);}}\nreturn tabs.map(tab=>tab.vars(\"resource.uri\").split(\"/\").pop()).join(\"/\")+\"/\";};var nameOf=(resource)=>resource.uri.split(\"/\").pop();[(\"vcl/ui/Form\"),{activeControl:\"input\",autoSize:\"both\",autoPosition:\"top-left-bottom-right\",css:{\"font-family\":'\"Lucida Grande\", Arial, sans-serif',\"font-size\":\"9pt\",\"position\":\"absolute\",\"top\":\"120px\",\"width\":\"50%\",\"margin-left\":\"25%\",\"margin-right\":\"25%\",\"z-index\":\"99999\",\"box-shadow\":\"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 3px 0 rgba(0, 0, 0, 0.19)\",\"input\":{background:\"transparent\",border:\"none\",width:\"100%\",height:\"50px\",\"font-size\":\"16pt\",padding:\"3px 12px\",margin:\"8px\",outline:\"none\",'&.value':\"margin-bottom: 0;\"},\"border-radius\":\"13px\",\"backdrop-filter\":\"blur(10px)\",\"background-color\":\"rgba(155, 155, 155, 0.15)\",\"#list\":{\"\":\"height: 200px; position: relative;\",\".{ListRow}\":{\"\":\"padding-left: 8px;\",\"> .hash\":\"font-size: 6pt;\",\"> .workspace\":\"font-size: 6pt;\",\"> .name\":\"font-weight: bold; max-width: 350px;\",\"> .path\":\"font-size: 6pt;\",}}},onLoad(){this.setParentNode(document.body);},onActivate(){var tabs=this.app().qsa(\"vcl/ui/Tab\").filter(tab=>tab.vars(\"resource\")).sort((tab1,tab2)=>{var t1=tab1.vars(\"resource.type\");var t2=tab2.vars(\"resource.type\");if(t1===t2){var r1=tab1.vars(\"resource\");var r2=tab2.vars(\"resource\");t1=nameOf(r1);t2=nameOf(r2);if(t1===t2){t1=r1.uri;t2=r2.uri;}}\nreturn t1<t2?-1:t1>t2?1:0;});var hash=tabs.map(tab=>tab.hashCode()).join(\",\");this.setVar(\"focused\",require(\"vcl/Control\").focused);this.qs(\"#input\").syncClass(\"value\",this.qs(\"#list\").isVisible());if(this.vars(\"hash\")!==hash){this.vars(\"hash\",hash);this.qs(\"#array\").setArray(tabs.map(tab=>{var resource=tab.vars([\"resource\"]);var folder=resource.uri.split(\"/\");var name=folder.pop();return{hash:tab._control?tab._control.hashCode():\"-\",workspace:tab.up(\"devtools/Workspace<>\").getSpecializer(),name:name,folder:folder.join(\"/\"),path:path(tab),};}));}},onDeactivate(){var control=this.getVar(\"focused\");control&&control.setFocus();},onDispatchChildEvent(component,name,evt,f,args){if(name.indexOf(\"key\")===0){var scope=this.scope();if(component===scope.input){if([13,27,38,40].indexOf(evt.keyCode)!==-1){var list=scope.list,input=scope.input;if(evt.keyCode===13&&list.getSelection().length===0&&list.getCount()){list.setSelection([0]);}else{list.show();if(!input.hasClass(\"value\"))input.addClass(\"value\");}\nlist.dispatch(name,evt);evt.preventDefault();}}}\nreturn this.inherited(arguments);}},[[(\"vcl/Action\"),\"open\",{on(){var list=this.ud(\"#list\"),selection=list.getSelection(true);if(!selection.length)return;var ace=j$[selection[0].hash];var tabs=[];while((ace=ace.up(\"vcl/ui/Tab\"))){tabs.push(ace);}\nwhile((ace=tabs.pop())){ace.setSelected(true);}\nthis._owner.hide();}}],[(\"vcl/data/Array\"),\"array\",{onFilterObject(obj,row,context){var q=this.vars(\"q\");if(!context.list){context.list=this.ud(\"#list\");context.columns={};context.q=q?q.split(\" \"):[\"\"];}\nfunction match(obj,q){q=q.toLowerCase();if(typeof obj===\"string\"){return obj.toLowerCase().includes(q);}\nfor(var k in obj){if(js.sf(\"%n\",obj[k]).toLowerCase().includes(q)){return true;}}\nreturn false;}\nfunction match_columns(obj,q){var column,value;if(q.indexOf(\":\")===-1){q=q.toLowerCase();for(var i=0,n=context.list.getColumnCount();i<n;++i){column=context.list.getColumn(i);value=context.list.valueByColumnAndRow(column,row);if(js.sf(\"%n\",value).toLowerCase().includes(q)){return true;}}\nreturn false;}else{q=q.split(\":\");column=context.columns[q[0]]||(context.columns[q]=context.list.getColumnByName(q[0]));if(column){value=context.list.valueByColumnAndRow(column,row);if(js.sf(\"%n\",value).toLowerCase().includes(q[1])){return true;}}\nreturn false;}}\nreturn context.q.some(q=>q?!(match_columns(obj,q)):false);},}],[(\"vcl/ui/Input\"),\"input\",{onChange(){var array=this.ud(\"#array\"),q;array.vars(\"q\",(q=this._node.value));array.updateFilter();this.ud(\"#list\").setVisible(q.length>0);this.syncClass(\"value\",q.length>0);},onKeyDown(evt){if(evt.keyCode===27){this._owner.hide();}},onBlur(){}}],[(\"vcl/ui/List\"),\"list\",{align:\"none\",autoSize:\"both\",action:\"open\",classes:\"header-invisible\",autoColumns:true,source:\"array\",visible:false,onKeyUp(evt){if(evt.keyCode===13){this.ud(\"#open\").execute();}}}]]];");
define("text!vcl-comps/devtools/Workspace.js", "\"use vcl/ui/Ace, vcl/ui/FormContainer, vcl/ui/Tab, ace/range, locale\";var Tab={_content:\"<div class='text'></div><span class='hashcode'></span>\"+\"<i class='menu fa fa-caret-down'></i>\"+\"<a class='menu close'>×</a>\",initializeNodes:function(){this.inherited(arguments);this._nodes.close=this._node.childNodes[3];},render:function(){var node=this.getNode();var uri=this.vars(\"resource.uri\")||\"New\";var folder=this.vars(\"resource.type\")===\"Folder\";var title=uri.split(\"/\");if(uri.endsWith(\"/\")){folder=true;title.pop();}\ntitle=this.vars(\"resource.title\")||title.pop();node.title=uri;node.down(\".text\").textContent=this.vars(\"modified\")?\"* \"+title:title;var ace=this.qs(\"vcl/ui/Ace\");if(!folder&&ace){node.down(\".hashcode\").textContent=js.sf(\" [%s]\",ace.hashCode());}},show:(tab)=>tab.removeClass(\"tabs-hidden\"),hide:(tab)=>!tab.hasClass(\"tabs-hidden\")&&tab.addClass(\"tabs-hidden\"),isHidden:(tab)=>tab.hasClass(\"tabs-hidden\")};var Utils={getState:function(scope){var tabs=scope[\"editors-tabs\"].getControls();return{'left-sidebar.visible':scope['left-sidebar'].getVisible(),editors:tabs.filter(function(tab){var ace=tab.qsa(\"devtools/Editor<> #ace\")[0];var resource=tab.getVar(\"resource\")||{},r;return resource&&resource.uri;}).map(function(tab){var resource=tab.vars(\"resource\");return{selected:tab.isSelected(),resource:{uri:resource.uri,type:resource.type,contentType:resource.contentType}};})};},setState:function(state,scope){var Range=require(\"ace/range\").Range;var workspace=scope['@owner'];if(state){state.editors&&state.editors.forEach(function(state){var _state=js.mixIn({},state);var tab=scope[\"editor-needed\"].execute(js.mixIn(state,{dontBringToFront:true}));tab.setVar(\".state\",_state);});scope['left-sidebar'].setVisible(state['left-sidebar.visible']===true);}}};const ifVar=(owner,args,cb)=>{var result=owner.vars.apply(owner,args instanceof Array?args:[args]);if(result!==undefined){cb(result,owner,args);}};const startsWithProtocol=(url)=>url.match(/^[^\\s]*:\\/\\//)!==null;const expandColonInUri=(uri,expansion)=>{if(uri.startsWith(\"://\")){const name=js.get(\"storageDB.name\",req(\"vcl/Component\"));uri=js.sf(\"pouchdb://%s/%s\",name,uri.substring(3));}\nvar swp=startsWithProtocol(uri);if(!swp||uri.split(\":\").length>2){if(uri.charAt(0)!==\"#\"){uri=uri.replace(/:([^:]*)$/,expansion+\"$1\");}}\nreturn uri;};const expandColonInNavigatorFavorites=(ws)=>{var spec=ws.getSpecializer();return ifVar(ws,\"#navigator favorites\",(value,ws,name)=>ws.vars(name,value.map(s=>expandColonInUri(s,spec))));};const setDocumentTitle=(title)=>{try{top.document.title=title;}catch(e){}};[[\"ui/Form\"],{onLoad:function(){var scope=this.scope();var workspace=this.vars([\"workspace\"])||{};this.readStorage(\"state\",function(value){value=value||{workspace:0};Utils.setState(js.mixIn(workspace.state||{},value),scope);});if(workspace.vars){js.mixIn(this.vars(),workspace.vars);}\nexpandColonInNavigatorFavorites(this);this.open=function(evt){if(typeof evt===\"string\"){evt={resource:{uri:evt,type:(evt.startsWith(\"folder:\")||evt.endsWith(\"/\"))?\"Folder\":\"File\"},selected:true};}\nreturn scope['editor-needed'].execute(evt);};this.on(\"state-dirty\",function(){var workspace=scope['@owner'];workspace.setTimeout(\"saveState\",function(){workspace.writeStorage(\"state\",Utils.getState(scope));},200);});scope['left-sidebar'].override(\"visibleChanged\",function(){this._owner.emit(\"state-dirty\");return this.inherited(arguments);});this.qsa(\"#editor-switch-favorite\").execute();return this.inherited(arguments);},onDispatchChildEvent:function(component,name,evt,f,args){var Tabs=require(\"vcl/ui/Tabs\"),Tab=require(\"vcl/ui/Tab\");if(name===\"click\"){if(component instanceof Tabs){this.vars(\"editors-tabs:focused\",component);}else if(component instanceof Tab){this.vars(\"editors-tabs:focused\",component._parent);}}},onActivate:function(){this.getApp().setTimeout({name:\"devtools/Workspace<>.activate\",f:()=>this.qsa(\"vcl/ui/Tab:selected\").filter(t=>t.vars(\"resource\")).forEach(t=>t.qsa(\"#ace\").focus()),ms:200});this.setSelected(true);this.ud(\"#update-title\").execute();},onDeactivate:function(){this.setSelected(false);},overrides:{destroy(b){if(b){const tab=this.up(\"vcl/ui/Tab\");if(tab)return tab.destroy();}\nreturn this.inherited(arguments);}}},[[[\"devtools/TabFactory\"],(\"editor-factory\"),{vars:{closeable:true,formUri:\"devtools/Editor<js>\",parents:{container:\"editors\",tab:\"editors-tabs\"}},on(evt){var tab=this.inherited(arguments);var owner=tab._owner;tab.initializeNodes=Tab.initializeNodes;tab.render=Tab.render;tab._content=Tab._content;tab._control.once(\"formloaded\",function(){tab.render();this._form.setName(tab.vars(\"resource.uri\"));});if(evt.formVars){if(typeof evt.formVars===\"string\"){if(evt.formVars.startsWith(\"{\")&&evt.formVars.endsWith(\"}\")){var vars={};evt.formVars.substring(1,evt.formVars.length-1).split(\";\").forEach(kvp=>{kvp=kvp.split(\"=\");js.set(kvp.shift(),kvp.join(\"=\"),vars);});evt.formVars=vars;}else{evt.formVars=js.str2obj(evt.formVars);}}\ntab.mixInVars(evt.formVars);}\ntab.set({onMenuClick:function(evt){return this.qsa(\"#menu-open\").execute(evt);}});return tab;}}],[\"vcl/Action\",(\"editor-needed\"),{on(evt){var scope=this.scope(),tab;if(typeof evt===\"string\"){evt={selected:true,resource:{uri:evt,type:(evt.startsWith(\"folder:\")||evt.endsWith(\"/\"))?\"Folder\":\"File\"}};}\nif(!evt.resource){evt.resource={uri:\"\"}}\nif(!evt.parents){var tabs=scope['editors-tabs'].getControls();tab=tabs.find(function(tab){return tab.getVar(\"resource.uri\")===evt.resource.uri;});}\nif(!tab){if(!evt.formUri){this.vars(\"devtools/Editor\");}\nif(evt.resource.contentType&&evt.resource.type!==\"Folder\"){var type=evt.resource.contentType.split(\"/\").pop();evt.editorUri=js.sf(\"devtools/Editor<%s>\",type);}\nif(evt.editorUri){evt.formUri=evt.editorUri;}\nif(!evt.formUri){var uri=(evt.resource.uri||\"\");var path=uri?uri.split(\"/\"):[];var ext=path[path.length-1]||\"\";ext=ext.indexOf(\".\")!==-1?ext.split(\".\").pop():\"\";if(evt.resource.type===\"Folder\"){evt.formUri=\"devtools/Editor<folder>\";}else if(path.indexOf(\"vcl-comps\")!==-1&&ext===\"js\"){evt.formUri=\"devtools/Editor<vcl>\";}else if(path.indexOf(\"cavalion-blocks\")!==-1&&ext===\"js\"){evt.formUri=\"devtools/Editor<blocks>\";}else if(path.length>1&&uri.indexOf(\"/var/log/\")!==-1){evt.formUri=\"devtools/Editor<var/log>\";}else if(uri.indexOf(\"ElliTrack-\")!==-1&&uri.endsWith(\".txt\")){evt.formUri=\"devtools/Editor<tsv/ElliTrack>\";}else{if(ext){evt.formUri=String.format(\"devtools/Editor<%s>\",ext);}}}\nvar on=this.vars(\"onGetEditorUri\");if(on){}\ntab=scope['editor-factory'].execute(evt,this);tab.setVar(\"resource\",evt.resource);tab.nodeNeeded();}else{if(evt.selected===true){tab.setSelected(true);}}\nif(!evt.dontBringToFront&&evt.bringToFront!==false){tab.setIndex(0);}\nvar callback=(f,args)=>{return f&&f.apply(this,args);},first=true;tab.once(\"editor-available\",(e)=>{first=false;callback(evt.onAvailable,[e]);});tab.on({\"resource-loaded\"(e){if(first){tab.emit(\"editor-available\",[e]);}\ncallback(evt.onResourceLoaded,[e]);},});if(tab.down(\"#ace\")){tab.setTimeout(\"available\",()=>tab.emit(\"editor-available\",[]),0);}\nreturn tab;}}],[\"vcl/Action\",(\"editors-next\"),{onExecute:function(){var tabs=this.up().qsa(\"#editors-tabs:visible\");var focused=this.up().vars(\"editors-tabs:focused\");if(focused&&!focused.isFocused()){}else if(tabs.length){var index=tabs.indexOf(focused)+1;if(index>=tabs.length)index=0;focused=this.up().vars(\"editors-tabs:focused\",tabs[index]);}\nTab.show(focused);focused.setFocus();}}],[\"vcl/Action\",(\"editors-previous\"),{onExecute:function(){var tabs=this.up().qsa(\"#editors-tabs:visible\");var focused=this.up().vars(\"editors-tabs:focused\");if(focused&&!focused.isFocused()){}else if(tabs.length){var index=tabs.indexOf(focused)-1;if(index<0)index=tabs.length-1;focused=this.up().vars(\"editors-tabs:focused\",tabs[index]);}\nTab.show(focused);focused.setFocus();}}],[\"vcl/Action\",(\"editors-close-all\"),{on(evt){var tabs=this.vars([\"editors-tabs:focused\"])||this.udown(\"#editors-tabs\");var selected=tabs.getSelectedControl(1);tabs._controls.filter(_=>_!==selected).filter(_=>evt.altKey===true||_.vars([\"resource.type\"])===\"File\").forEach(function(tab){if(tab._control){tab._control.destroy();tab._control=null;}\ntab.destroy();});}}],[\"vcl/Action\",(\"editor-new\"),{on(evt){this.scope(\"editor-factory\").execute(evt).setSelected(true);}}],[\"vcl/Action\",(\"editor-next\"),{onExecute:function(){var ws=this.up();var tabs=ws.vars(\"editors-tabs:focused\")||ws.qs(\"#editors-tabs\");if(!tabs.isVisible())tabs=ws.qs(\"#editors-tabs\");if(tabs&&!tabs.isFocused())tabs.setFocus();tabs.selectNext();}}],[\"vcl/Action\",(\"editor-previous\"),{onExecute:function(){var ws=this.up();var tabs=ws.vars(\"editors-tabs:focused\")||ws.qs(\"#editors-tabs\");if(!tabs.isVisible())tabs=ws.qs(\"#editors-tabs\");if(tabs&&!tabs.isFocused())tabs.setFocus();tabs.selectPrevious();}}],[\"vcl/Action\",(\"editor-close\"),{on(evt){var scope=this.getScope();var selected=scope['editors-tabs'].getSelectedControl(1);if(selected){selected._control._form.close();}\nevt.preventDefault();}}],[\"vcl/Action\",(\"editor-move-to-front\"),{onExecute:function(){this._owner.qs(\"vcl/ui/Tab:selected:childOf(editors-tabs)\").setIndex(0);}}],[\"vcl/Action\",(\"editor-move-left\"),{onExecute:function(){var tab=this._owner.qs(\"vcl/ui/Tab:selected:childOf(editors-tabs)\");var index=tab.getIndex();if(index>0){tab.setIndex(index-1);}}}],[\"vcl/Action\",(\"editor-move-right\"),{onExecute:function(){var tab=this._owner.qs(\"vcl/ui/Tab:selected:childOf(editors-tabs)\");var index=tab.getIndex();tab.setIndex(index+1);}}],[\"vcl/Action\",(\"editor-setfocus\"),{on(evt){this._owner.qs(\"vcl/ui/Tab:selected:childOf(editors-tabs) #ace\").setFocus();}}],[\"vcl/Action\",(\"editor-focus-in-navigator\"),{on(evt){}}],[\"vcl/Action\",(\"editor-switch-favorite\"),{on(evt){var ws=this.up(\"devtools/Workspace<>:root\");var ed=ws.qsa(\"devtools/Editor<>:root:visible\").map(_=>_.down(\"#ace\"));if(evt?.altKey===true){return this.ud(\"#editor-needed\").execute(\".md\");}\nif(ed.length){ed=ed.pop().up();}else{ed=null;}\nvar favs=ws.vars([\"#navigator favorites\"])||[];var uri=this.vars(\"last-uri\")||(ed&&ed.vars([\"resource.uri\"]));var tab_uris=ws.qsa(\"vcl/ui/Tab\").filter(tab=>(tab.vars(\"resource.uri\")||\"\").endsWith(\"/.md\")).map(tab=>[tab,tab.vars(\"resource.uri\")]);favs=favs.map(_=>_.split(\";\")).filter(_=>_[2]===\"File\").map(_=>_[0]).concat(tab_uris.map(tab=>tab[1])).filter((s,i,a)=>a.indexOf(s)===i);if(evt?.ctrlKey===true&&favs.length===0){favs.push(\".md\");}\nif(!favs.length)return;var state=ws.vars(this._name)||{};var ago=Date.now()-(state.time||0);var index=favs.indexOf(uri);if(ago<1500&&index!==-1){this.ud(\"#editor-needed\").execute(uri=favs[index=(index+1)%favs.length]);}else if(index!==-1){this.ud(\"#editor-needed\").execute(uri=favs[index]);}else{this.ud(\"#editor-needed\").execute(uri=favs[index=0]);}\nthis.vars(\"last-uri\",uri);var content=favs.map((s,i)=>index===i?js.sf(\"<b>%H</b>\",s):s).join(\"<br>\");var toast=this.vars(\"toast\");if(toast){toast.element.setContent(content);}else{toast=app.toast({classes:\"fade glassy\",content:content,timeout:false});this.vars(\"toast\",toast);}\nthis.setTimeout(\"remove-toast\",()=>{toast.remove();this.vars(\"toast\",null);},1500);state.time=Date.now();ws.vars(this._name,state);}}],[\"vcl/Action\",(\"update-title\"),{on(evt){var title=this.app().getTitle(),uri;var ws=this.up();var tab=(evt&&evt.tab)||ws.qsa(\"devtools/Editor<>:root:visible\").pop();if(!(tab instanceof req(\"vcl/ui/Tab\"))){tab=tab&&tab.up(\"vcl/ui/Tab\");}\nif(tab){ws=ws.getSpecializer();uri=tab.getVar(\"resource.uri\");if(uri===undefined){this.setTimeout(\"otra-vez\",()=>{uri=tab.getVar(\"resource.uri\")||\"?\";setDocumentTitle(js.sf(\"%s - [%s > %s]\",uri,title,ws));},250);}else{setDocumentTitle(js.sf(\"%s - [%s > %s]\",uri,title,ws));}}}}],[\"vcl/ui/Panel\",(\"left-sidebar\"),{align:\"left\",css:\"border-right: 1px solid gray;\",width:375,visible:false},[[\"vcl/ui/Tabs\",(\"left-sidebar-tabs\"),[[\"vcl/ui/Tab\",{text:locale(\"Navigator\"),control:\"navigator\",selected:true}],[\"vcl/ui/Tab\",{text:locale(\"Open Tabs\"),control:\"openTabs\"}],[\"vcl/ui/Tab\",{text:locale(\"Console\"),control:\"console\"}],[\"vcl/ui/Tab\",{text:locale(\"Outline\"),control:\"outline\"}],[\"vcl/ui/Tab\",{text:locale(\"Bookmarks\"),control:\"bookmarks\",visible:false}],[\"vcl/ui/Tab\",{text:locale(\"Search\"),control:\"search-panel\",visible:false}],]],[[\"./Navigator<>\"],\"navigator\",{visible:false}],[[\"./Bookmarks\"],\"bookmarks\",{align:\"client\",visible:false}],[[\"./Outline\"],\"outline\",{_align:\"client\",visible:false}],[[\"./OpenTabs\"],\"openTabs\",{visible:false}],[[\"./Console\"],\"console\",{visible:false}],[\"vcl/ui/Panel\",\"search-panel\",{align:\"client\",visible:false}],[\"vcl/ui/Panel\",\"inspector-panel\",{align:\"client\",visible:false}]]],[\"vcl/ui/Panel\",(\"editors\"),{align:\"client\",css:\"background-color: rgb(140,140,140,0.35);\",},[[\"vcl/ui/Tabs\",(\"editors-tabs\"),{onChange:function(tab,previous){this.ud(\"#update-title\").execute({tab:tab});this._owner.emit(\"state-dirty\");},onDblClick:function(){var me=this,parent=this.up().qsa(\"devtools/Editor<>:root:visible\").pop();parent=parent?js.up(parent.vars([\"resource.uri\"])):\"Projects/tmp\";this.app().prompt(\"#editor-needed execute\",parent+\"/Resource-\"+Math.random().toString(36).substring(2,15),function(value){if(value!==null){me.up().qs(\"#editor-needed\").execute(value).setSelected(true);}});}},[[[\"ui/controls/SizeHandle\"],{classes:\"horizontal left\",vars:\"control: left-sidebar;\",onDragStart(evt){this.vars(\"ignore-click\",true);},onClick(evt){if(!this.vars(\"ignore-click\"))this.vars([\"toggleSidebar\"])(evt);this.vars(\"ignore-click\",false);}}]]]]]]];");
define("text!vcl-comps/devtools/Navigator.js", "\"vcl/ui/Node, vcl/ui/ListHeader, devtools/NavigatorNode, devtools/Resources, js/Method, v7/pdok/viewer-metadata, v7/pdok/themes\";var Method=require(\"js/Method\");var Resources=require(\"devtools/Resources\");var NavigatorNode=require(\"devtools/NavigatorNode\");var Component=require(\"vcl/Component\");var Storage_uri=(uri)=>js.sf(\"pouchdb://%s/%s\",Component.storageDB.name,uri);var needsParent=[\"src\",\"build\",\"vcl-comps\",\"css\",\"images\",\"img\",\"lib\",\"pages\",\"cavalion-blocks\"];function getNodeText(uri,usedNames){var r=[];usedNames=usedNames||[];r.push((uri=uri.split(\"/\")).pop());while(uri.length>0&&(needsParent.indexOf(r[0])!==-1||usedNames.indexOf(r.join(\"/\"))!==-1)){r.unshift(uri.pop());}\nreturn r.join(\"/\");}\nfunction onNodesNeeded(parent){var owner=this._owner;var root=parent===this;var uri=parent.vars(\"resource.uri\")||\"\";var control=parent.vars(\"control\");var uris=this._owner.vars(\"uris\");if(parent._name===\"fs\"&&uris){if(!uris.hasOwnProperty(\"splice\")){Method.override(uris,{splice:function(index,count){for(var i=0;i<count;++i){var node=uriNodes[this[index+i]];node&&node.destroy();}\nreturn Method.callInherited(this,arguments);},push:function(){for(var i=0;i<arguments.length;++i){createUriNode(arguments[i]).setIndex(0);}\nreturn Method.callInherited(this,arguments);}});}\nvar favorites=this.vars([\"#navigator favorites\",true])||[];favorites.forEach(function(uri){if(uris.indexOf(uri)===-1){Array.prototype.push.apply(uris,[uri]);}});uris=uris.sort(function(i1,i2){var e1=i1.endsWith(\";File\"),e2=i2.endsWith(\";File\");return e1===e2?i1<i2?-1:1:e1?1:-1;});if(root){var uriNodes={};function createUriNode(uri,index){var node=new NavigatorNode(owner);var favorite=favorites.indexOf(uri)!==-1;uri=uri.split(\";\");var item={uri:uri[0],name:uri[1]||getNodeText(uri[0]),type:uri[2]||\"Folder\"};root&&node.addClass(\"root\");favorite&&node.addClass(\"favorite\");favorite&&(index===0)&&node.addClass(\"seperator top\");node.setVar(\"resource\",item);node.setChecked(true);node.setExpandable(item.expandable||item.type.indexOf(\"Folder\")!==-1);node.setParent(parent);return(uriNodes[uri[1]]=node);}\nuris.forEach(createUriNode);}\nthis.apply(\"Resources.index\");}\nvar list=this.vars([\"Resources.list\"]);return list.apply(this,[uri]).then(res=>{if(res.length>250){}\nres.sort(function(i1,i2){if(i1.type===i2.type){return i1.name<i2.name?-1:1;}\nreturn i1.type!==\"Folder\"?1:-1;});parent.beginLoading();res.forEach(function(item,index){var node=new NavigatorNode(owner);item.uri=item.uri||(uri!==\"\"?(uri+\"/\"+item.name):item.name);node.setVar(\"resource\",item);root&&node.addClass(\"root\");root===true&&index===0&&parent._name===\"fs\"&&node.addClass(\"seperator top\");var checked=false;if(uris){for(var i=0;i<uris.length&&!checked;++i){checked=uris[i].indexOf(item.uri)===0;}\nif(checked&&uris.indexOf(item.uri)===-1){node.addClass(\"opaque-50\");}}\nnode.setChecked(checked);if(control){node.setVar(\"control\",control);}\nnode.setExpandable(item.expandable||item.type.indexOf(\"Folder\")!==-1);node.setParent(parent);});parent.endLoading();return res;});}\n[(\"vcl/ui/Form\"),{activeControl:\"search-input\",onDispatchChildEvent:function(component,name,evt,f,args){if(name.indexOf(\"key\")===0){var scope=this.scope();if(component!==scope.tree&&!scope.tree.isParentOf(component)&&name===\"keyup\"&&evt.keyCode===evt.KEY_F5){scope.tree.refresh();}else if(component===scope['search-input']){if([13,27,38,40].indexOf(evt.keyCode)!==-1){var list=scope['search-list'];if(evt.keyCode===13&&list.getSelection().length===0&&list.getCount()){list.setSelection([0]);}else if(evt.keyCode===27){scope['search-input'].setValue(\"\");scope['search-input'].fire(\"onChange\",[true]);}\nif(list.isVisible()){list.dispatch(name,evt);}else{scope.tree.dispatch(name,evt);}\nevt.preventDefault();}}}\nreturn this.inherited(arguments);},onDestroy:function(){var ddh=this.app().qsa(\"devtools/DragDropHandler<>:root\");(this.vars(\"listeners\")||[]).forEach(listeners=>ddh.un(listeners));return this.inherited(arguments);},onLoad:function(){var scope=this.scope();var me=this;var indexing=0;var lists={};var index={};var uris=[];me.setVar(\"uris\",uris);me.setVar(\"index\",index);me.setVar(\"Resources\",{index:function(){if(!uris.length)return;var run=++indexing;scope['search-input'].addClass(\"searching\");return Resources.index(uris).then(function(res){if(run===indexing){for(var k in lists){if(lists[k]instanceof Array){index[k]=lists[k];}}\njs.mixIn(index,res);scope.search.execute();}\nscope['search-input'].removeClass(\"searching\");return res;}).catch(function(res){scope['search-input'].removeClass(\"searching\");return res;});},list:function(uri){lists[uri]=Resources.list(uri);return lists[uri].then(function(res){lists[uri]=res;return(index[uri]=res);});},refresh:function(uri){delete lists[uri];}});scope.tree.override({refresh:function(){var cascade=(arr)=>arr.forEach(function(node){if(node.hasClass(\"cascade-refresh\")){cascade(node._controls||[]);}else{node.reloadChildNodes();}});cascade(this._selection.length?this._selection:this._controls||[]);}});this.vars(\"listeners\",this.app().qsa(\"devtools/DragDropHandler<>:root\").on(\"dropped\",()=>this.qsa(\"#DragDropHandler_files\").map(node=>{node.show();node.reloadChildNodes();node.setExpanded(true);})));return this.inherited(arguments);}},[[(\"vcl/data/Array\"),\"search-results\",{}],[(\"vcl/Action\"),\"search-open\",{onExecute:function(evt){var list=this.scope('search-list'),me=this;var ws=this.up(\"devtools/Workspace<>:root\");var a=ws.down(\"#editor-needed\");list.getSelection(true).forEach(function(resource){var metadata=require(\"v7/pdok/viewer-metadata\");var themes=require(\"v7/pdok/themes\");if(resource.uri.startsWith(metadata.uri)){ws.qsa(\"veldapps/OpenLayers<PDOK-v1> #ol-layer-needed\").execute({layer:resource});}else if(resource.uri.startsWith(themes.uri)){ws.qsa(\"#ol-layer-needed\").execute({layer:resource});}else{a.execute({resource:resource,selected:true});}},this);}}],[(\"vcl/Action\"),\"search\",{onExecute:function(){var scope=this.getScope();var text=scope['search-input'].getInputValue();var lower=text.toLowerCase();var index=this._owner.getVar(\"index\");var exacts=[],lowers=[],names=[],uris=[];function sort(i1,i2){return i1.name<i2.name?-1:1;}\nfor(var k in index){index[k].forEach(function(item){if(item.name===text){exacts.push(item);}else if(item.name.toLowerCase()===lower){lowers.push(item);}else if(item.name.toLowerCase().indexOf(lower)!==-1){names.push(item);}else if(item.uri.toLowerCase().indexOf(lower)!==-1){uris.push(item);}});}\nscope['search-results'].setArray([exacts.sort(sort),lowers,names,uris].reduce(function(prev,curr){return prev.concat(curr.sort(sort));}));}}],[(\"vcl/Action\"),\"resource-focus\",{onExecute:function(evt){var scope=this.getScope();var names=evt.resource.uri.split(\"/\");var path=[];var sidebar=this.up(\"devtools/Workspace<>:root\").down(\"#left-sidebar\");sidebar.show();sidebar.update(function(){var node=scope.tree.getSelection()[0]||null;if(node!==null&&evt.resource.uri===node.getVar(\"resource.uri\")){scope.tree.makeVisible(node);return;}\nscope['search-list'].hide();function walk(parent){path.push(names.shift());node=parent.getControls().find(function(node){return node.getVar(\"resource.uri\")===path.join(\"/\");});if(node){scope.tree.setTimeout(\"makeVisible\",function(){scope.tree.makeVisible(node);},20);if(names.length){node.childNodesNeeded(function(){node.setExpanded(true);node.setTimeout(\"walk\",function(){walk(node);},50);});}else{scope.tree.setSelection([node]);}}}\nwalk(scope.fs);});}}],[(\"vcl/Action\"),\"resource-new\",{}],[(\"vcl/Action\"),\"resource-delete\",{}],[(\"vcl/ui/Bar\"),\"search-bar\",{classes:\"no-border\"},[[\"vcl/ui/Input\",\"search-input\",{placeholder:\"Filter (⌥+F)\",classes:\"search-top\",onDblClick(){var scope=this.getScope();scope['search-list'].hide();this.setValue(\"\");this._nodes.input.value=\"\";},onFocus(){this.fire(\"onChange\",[!this.getInputValue()]);},onBlur(){this.fire(\"onChange\",[false]);},onChange(evt){var scope=this.getScope();var value=this.getInputValue();var hasChecking=scope.tree.hasClass(\"checking\");var hasValue=scope.tree.hasClass(\"value\");var should=typeof evt===\"boolean\"?evt:(this.isFocused());scope['search-list'].setVisible(!!value);if(should&&!hasChecking){scope.tree.addClass(\"checking\");scope.tree.setTimeout(\"removeClass\",function(){scope.tree.removeClass(\"checking\");},2000);}else if(!should&&hasChecking){scope.tree.setTimeout(\"removeClass\",function(){scope.tree.removeClass(\"checking\");},100);}\nif(typeof evt!==\"boolean\"){scope.search.execute(evt);}},}]]],[(\"vcl/ui/Tree\"),\"tree\",{css:{\"padding-left\":undefined,\"overflow-x\":undefined,\".{./Node}\":{\"&.seperator.bottom\":{\"border-bottom\":\"1px solid rgba(240,240,240,0.5)\",\"margin-bottom\":\" 2px\",\"padding-bottom\":\"2px\"},\"&.seperator.top\":{\"border-top\":\"1px solid rgba(240,240,240,0.5)\",\"margin-top\":\" 2px\",\"padding-top\":\"2px\"},\">.checkbox\":{position:\"absolute\",right:\"4px\",\"z-index\":\"1\",display:\"none\"},\"&.no-icon >.icon\":\"width:14px;\",\">.text\":\"padding-left:0;\",\">.icon\":{width:\"32px\",\"background-repeat\":\"no-repeat\",\"background-position-x\":\"14px\",\"background-position-y\":\"0px\",\"background-size\":\"16px 16px\"},\"&.folder >.icon\":{\"background-image\":`url(${NavigatorNode.icons.folder})`},\"&.file >.icon\":{\"background-image\":`url(${NavigatorNode.icons.file})`},\">.text>.desc\":{\"font-size\":\"7.5pt\",color:\"silver\",\"pointer-events\":\"none\"},\"&.opaque-50\":{\">.checkbox\":{opacity:\"0.5\"}}},\"&.checking .{./Node}.folder:not(.favorite):not(.root-invisible) >.checkbox\":{display:\"block\"},\"&.busy\":{background:\"url(/shared/vcl/images/loading.gif) no-repeat 50%,50%\",\".{./Node}\":{opacity:\"0.5\"}}},onDispatchChildEvent:function(component,name,evt,f,args){var resource,owner=this._owner;var app=this.app();var selection=this.getSelection();if(selection.length&&name===\"keydown\"){if(evt.keyCode===evt.KEY_DELETE||evt.keyCode===evt.KEY_F8){evt.preventDefault();app.confirm(String.format(\"You are about to delete the \"+\"following resource%s:\\n- %s\\n\\nAre you sure to continue?\",selection.length>1?\"s\":\"\",selection.map(function(node){return node.getVar(\"resource.uri\");}).join(\"\\n- \")),function(res){if(res===true){selection.forEach(function(node){node.setEnabled(false);node.setExpanded(false);node.getNode().style.opacity=\"0.5\";Resources['delete'](node.getVar(\"resource.uri\")).then(function(){node.destroy();}).catch(function(err){node.setEnabled(true);node.getNode().style.opacity=\"\";});})}});}\nif(evt.keyCode===evt.KEY_INSERT||evt.keyCode===evt.KEY_F9){if(selection[0].getVar(\"resource.type\")===\"Folder\"){app.prompt(\"Enter uri for new resource:\",selection[0].getVar(\"resource.uri\")+\"/\",function(uri){if(uri!==null){Resources.create(uri,{text:\"\"}).then(function(res){selection[0].reloadChildNodes();app.qsa(\"devtools/Workspace<>:owner-of(.) #editor-needed\",owner).execute({resource:{uri:uri},selected:true});}).catch(function(res){alert(res);});}});}}}\nif(name===\"dblclick\"&&(component.hasClass(\"file\")||evt.shiftKey===true)){if((resource=component.getVar(\"resource\"))){this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\").execute({resource:resource,selected:true});evt.preventDefault();return false;}}\nif(name===\"click\"&&evt.target.nodeName===\"INPUT\"){var uris=this._owner.getVar(\"uris\");var uri=component.getVar(\"resource.uri\");var checked=component.getChecked();var index=uris.indexOf(uri);if(index!==-1&&!checked){uris.splice(index,1);}else{uris.push(uri);}\nthis._owner.writeStorage(\"uris\",JSON.stringify(uris));var me=this;this.setTimeout(\"refresh-index\",function(){me.apply(\"Resources.index\");},750);}\nif(this.hasClass(\"checking\")){var me=this;this.setTimeout(\"removeClass\",function(){me.removeClass(\"checking\");},2000);}},onNodesNeeded:function(parent){var node=parent,pname=\"_onChildNodesNeeded\";while(node&&!node.hasOwnProperty(pname)){node=node._parent;}\nif(node===parent)return;if(node&&node.hasOwnProperty(pname)){return node.fire(pname.substring(1),[parent]);}},onNodeRender(evt){var v;if((v=evt.target.vars(\"resource.uri\"))){this.print(\"rendering resource\",v)}},_onNodesNeeded:function(parent){var owner=this._owner;var root=parent===null;parent=parent||this;var uri=parent.getVar(\"resource.uri\")||\"\";var control=parent.getVar(\"control\");var uris=this._owner.getVar(\"uris\").sort(function(i1,i2){return i1<i2?-1:1;});if(root){var uriNodes={};function createUriNode(uri){var node=new NavigatorNode(owner);uri=uri.split(\";\");var item={uri:uri[0],name:uri[1]||getNodeText(uri[0]),type:uri[2]||\"Folder\"};root&&node.addClass(\"root\");node.setVar(\"resource\",item);node.setChecked(true);node.setExpandable(true);node.setParent(parent);return(uriNodes[uri[1]]=node);}\nuris.forEach(createUriNode);Method.override(uris,{splice:function(index,count){for(var i=0;i<count;++i){var node=uriNodes[this[index+i]];node&&node.destroy();}\nreturn Method.callInherited(this,arguments);},push:function(){for(var i=0;i<arguments.length;++i){createUriNode(arguments[i]).setIndex(0);}\nreturn Method.callInherited(this,arguments);}});}\nvar r=this._owner.apply(\"Resources.list\",[uri]).then(function(res){res.sort(function(i1,i2){if(i1.type===i2.type){return i1.name<i2.name?-1:1;}\nreturn i1.type!==\"Folder\"?1:-1;});parent.beginLoading();res.forEach(function(item,index){var node=new NavigatorNode(owner);item.uri=uri!==\"\"?(uri+\"/\"+item.name):item.name;node.setVar(\"resource\",item);root&&node.addClass(\"root\");root===true&&index===0&&node.addClass(\"seperator top\");var checked=false;for(var i=0;i<uris.length&&!checked;++i){checked=uris[i].indexOf(item.uri)===0;}\nif(checked&&uris.indexOf(item.uri)===-1){node.addClass(\"opaque-50\");}\nnode.setChecked(checked);if(control){node.setVar(\"control\",control);}\nconsole.log(node,js.sf(\"expandable: %s\",item.expandable));node.setExpandable(item.expandable||item.type.indexOf(\"Folder\")!==-1);node.setParent(parent);});parent.endLoading();return res;});return r;}},[[(\"devtools/NavigatorNode\"),\"Tools_devtools\",{onNodesNeeded:onNodesNeeded,vars:{resource:{name:\"Tools\",type:\"Folder\",uri:\"Library/cavalion-blocks/tools/devtools\",}},}],[(\"vcl/ui/Node\"),\"Overrides\",{classes:\"seperator top cascade-refresh\",text:\"Local Overrides\",icon:NavigatorNode.icons.folder},[[(\"devtools/NavigatorNode\"),\"devtools_Workspaces\",{expandable:true,vars:{resource:{type:\"Folder\",expandable:true,uri:Storage_uri(\"vcl-comps/devtools/Workspace$\"),name:\"Workspaces\"}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"devtools_Editors\",{expandable:true,vars:{resource:{type:\"Folder\",expandable:true,uri:Storage_uri(\"vcl-comps/devtools/Editor$\"),name:\"Editors\"}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"devtools_Main\",{vars:{resource:{uri:Storage_uri(js.sf(\"vcl-comps/devtools/Main$/%s.js\",app.getSpecializer())),name:js.sf(\"Main<%s>\",app.getSpecializer())}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"cavalion-blocks\",{classes:\"seperator top\",vars:{resource:{type:\"Folder\",expandable:true,uri:Storage_uri(\"cavalion-blocks\"),name:\"cavalion-blocks\"}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"vcl-comps\",{vars:{resource:{type:\"Folder\",expandable:true,uri:Storage_uri(\"vcl-comps\"),name:\"vcl-comps\"}},onNodesNeeded:onNodesNeeded}],]],[(\"devtools/NavigatorNode\"),\"Component_storage\",{classes:\"seperator top\",onNodesNeeded:onNodesNeeded,vars:{resource:{name:\"Local Storage\",uri:Storage_uri(\"\"),type:\"Folder\"}},}],[(\"vcl/ui/Node\"),\"Prototypes\",{classes:\"cascade-refresh\",text:\"Prototypes\",icon:NavigatorNode.icons.folder,onLoad(){this.vars(\"static-nodes\",[].concat(this._controls));}},[[(\"devtools/NavigatorNode\"),\"cavalion-blocks\",{vars:{resource:{type:\"Folder\",expandable:true,uri:\"Library/cavalion-blocks/prototypes\",name:\"cavalion-blocks/prototypes\"}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"vcl-comps\",{vars:{resource:{type:\"Folder\",expandable:true,uri:\"Library/vcl-comps/prototypes\",name:\"vcl-comps/prototypes\"}},onNodesNeeded:onNodesNeeded}]]],[(\"devtools/NavigatorNode\"),\"Library\",{vars:{resource:{type:\"Folder\",uri:\"Library\",name:\"Library\"}},onNodesNeeded:onNodesNeeded}],[(\"devtools/NavigatorNode\"),\"fs\",{onNodesNeeded:onNodesNeeded,vars:{resource:{name:js.sf(\"Server Resources\"),type:\"Folder\",uri:\"/\"}},classes:\"root-invisible\",expanded:true,onLoad:function(){this.vars(\"static-nodes\",[].concat(this._controls));}}],[(\"devtools/NavigatorNode\"),\"DragDropHandler_files\",{vars:{resource:{type:\"Folder\",uri:\"dropped://\",name:\"Dropped Resources\"}},classes:\"seperator top\",expandable:true,visible:false,onNodesNeeded:onNodesNeeded}],]],[(\"vcl/ui/List\"),\"search-list\",{action:\"search-open\",source:\"search-results\",visible:false,css:{\"background-color\":\"white\",\".{./ListHeader}\":{height:\"0\"},\".ListCell\":{\"margin-top\":\"1px\",\"padding-top\":\"4px\",\"padding-left\":\"34px\",\"background-repeat\":\"no-repeat\",\"background-position-x\":\"14px\",\"background-position-y\":\"1px\",\"&.file\":{\"background-image\":\"url(/shared/vcl/images/file16.png)\",},\"&.folder\":{\"background-image\":\"url(/shared/vcl/images/folder16.png)\",},\"span\":{\"font-size\":\"7.5pt\",color:\"silver\"}}}},[[(\"vcl/ui/ListColumn\"),{content:\"#\",rendering:\"innerHTML\",attribute:\".\",onGetValue:function(value,row,source){return[String.format(\"%H <span> - %H</span>\",value.name,value.uri.replace(/^Workspaces\\/[^\\/]*\\//,\"../\"))];},onRenderCell:function(cell,value,column,row,source,orgValue){var classes=cell.className.split(\" \");if(classes.length===4){classes.pop();}\nclasses.push(orgValue.type===\"Folder\"?\"folder\":\"file\");cell.className=classes.join(\" \");}}]]]]];");
define("text!vcl-comps/devtools/Bookmarks.js", "()=>{var Veloffice=require(\"entities/EM!Veldoffice\");var EM=require(\"entities/EM\");var Bookmarks=require(\"entities/EM!Bookmarks\");EM.monitor(\"veldoffice:Onderzoek#3432/meetpunten\",{}).addCallback(function(){});};$([\"ui/Form\"],{},[]);");
define("text!vcl-comps/devtools/Outline.js", "\"vcl/ui/Node, vcl/Factory\";[\"vcl/ui/Tree\",{css:{\".{./Node}\":{\"&:not(.selected) > .text > .class\":{color:\"silver\",\">a\":{color:\"rgba(0, 0, 255, 0.75)\"}},\"> .text > .class\":{\">a\":{\"font-size\":\"6.5pt\",\"text-decoration\":\"underline\",cursor:\"pointer\"}},\".root\":{\"font-weight\":\"bold\"}}},onLoad:function(){this.dispatch(\"nodesneeded\",null);return this.inherited(arguments);},onNodeCreated:function(){var app=this.getApp();var me=this;this._node.addEventListener(\"click\",function(e){if(e.target.nodeName===\"A\"){var uri=e.target.textContent;if(uri.charAt(0)!==\"#\"){if(uri.indexOf(\"<\")){uri=uri.split(\"<\").join(\"$/\").split(\">\").join(\"\");}\nuri+=\".js\";if(e.target.classList.contains(\"module\")){uri=\"Library/node-modules/cavalion-vcl/src/\"+uri;}else if(e.target.classList.contains(\"vcl\")){uri=js.sf(\"Library/vcl-comps/\"+uri);}else if(e.target.classList.contains(\"blocks\")){uri=js.sf(\"Library/cavalion-blocks/\"+uri);}\napp.qsa(\"devtools/Workspace<>:owner-of(.) #editor-needed\",me).execute({resource:{uri:uri},selected:true});}else{app.emit(\"print\",require(\"js/JsObject\").all[parseInt(uri.substring(1))]);}}});},onNodesNeeded:function(parent){var Node=require(\"vcl/ui/Node\"),VclFactory=require(\"vcl/Factory\");var owner=this;var arr;if(parent===null){arr=require(\"vcl/Component\").all.reduce(function(arr,item){if(item._isRoot){arr.push(item);}\nreturn arr;},[]);parent=this;}else{arr=parent.getVar(\"component\")._components||[];}\narr.forEach(function(comp){var node=new Node(owner);var className=comp.constructor['@class obj'].name;var name=comp._name;var vcl=comp['@factory']instanceof VclFactory;if(comp._isRoot){if(!(name=comp._name)){name=comp._uri;if(name.indexOf(\"<\")===-1){name+=\"<>\";}}}\nif(name){node.setText(String.format(\"<span class='name%s'>%H</span>\\\n                 <span class='class'>- <a class='module'>%H</a> - \\\n                 <a class='vcl'>%H</a> - <a>#%d</a></span>\",comp._isRoot?\" root\":\"\",name,className,comp._uri,comp.hashCode()));}else{node.setText(String.format(\"<span class='class'>- <a class='module'>%H</a> - \\\n                 <a class='vcl'>%H</a> - <a>#%d</a></span>\",className,comp._uri,comp.hashCode()));}\nnode.setVar(\"component\",comp);node.setParent(parent);node.setExpandable(comp._components);});}},[]];");
define("text!vcl-comps/devtools/OpenTabs.js", "\"use vcl/ui/ListHeader\";[\"vcl/ui/Form\",{activeControl:\"search-input\",onDispatchChildEvent:function(component,name,evt,f,args){if(name.indexOf(\"key\")===0){var scope=this.scope();if(component===scope['search-input']){if([13,27,33,34,38,40,116].indexOf(evt.keyCode)!==-1){var list=scope.list;if(evt.keyCode===116){this._onActivate.apply(this,[this._parent]);}else if(evt.keyCode===13&&list.getSelection().length===0&&list.getCount()){list.setSelection([0]);}else if(evt.keyCode===27){scope['search-input'].setValue(\"\");scope['search-input'].fire(\"onChange\",[true]);}else if(list.isVisible()){list.dispatch(name,evt);}\nevt.preventDefault();}}}\nreturn this.inherited(arguments);},onActivate:function(parent){this.scope().refresh.execute({});return this.inherited(arguments);}},[[\"vcl/data/Array\",(\"editors-array\"),{onFilterObject:function(obj){var filter=this.getVar(\"filter\");return filter?obj.uri.indexOf(filter)===-1:false;}}],[\"vcl/Action\",(\"refresh\"),{on(){this.scope(\"editors-array\").setArray(this.up(\"devtools/Workspace<>:root\").qsa(\"vcl/ui/Tab\").map(function(tab){var resource=tab.getVar(\"resource\");return!(resource&&resource.uri)?null:{name:resource.uri.split(\"/\").pop(),uri:resource.uri};}).filter(function(resource){return resource;}).sort(function(res1,res2){return res1.name<res2.name?-1:1;}));}}],[\"vcl/Action\",(\"editor-open\"),{onExecute:function(evt){var list=this.scope('list');var a=this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");list.getSelection(true).forEach(function(resource){a.execute({resource:resource,selected:true});},this);}}],[\"vcl/Action\",(\"search-focus\"),{hotkey:\"MetaCtrl+191|Alt+F\",onExecute:function(){var scope=this.getScope();var previous=this.getVar(\"previous\");var now=Date.now();if(previous!==undefined&&now-previous<175){scope['search-input'].setValue(\"\");scope['search-input'].fire(\"onChange\",[true]);}\nscope['search-input'].setFocus(true);this.setVar(\"previous\",now);}}],[\"vcl/Action\",(\"search\"),{onExecute:function(){var scope=this.getScope();var text=scope['search-input'].getInputValue();var lower=text.toLowerCase();var index=this._owner.getVar(\"index\");var exacts=[],lowers=[],names=[],uris=[];function sort(i1,i2){return i1.name<i2.name?-1:1;}\nfor(var k in index){index[k].forEach(function(item){item.uri=k?(k+\"/\"+item.name):item.name;if(item.name===text){exacts.push(item);}else if(item.name.toLowerCase()===lower){lowers.push(item);}else if(item.name.toLowerCase().indexOf(lower)!==-1){names.push(item);}else if((k+\"/\"+item.name).toLowerCase().indexOf(lower)!==-1){uris.push(item);}});}\nscope['editors-array'].setArray([exacts.sort(sort),lowers,names,uris].reduce(function(prev,curr){return prev.concat(curr.sort(sort));}));}}],[\"vcl/ui/Bar#search-bar\",{classes:\"no-border\"},[[\"vcl/ui/Input#search-input\",{placeholder:\"Filter (⌥+F)\",onDblClick:function(){this.setInputValue(\"\");},onFocus:function(){this.fire(\"onChange\",[!this.getInputValue()]);},onBlur:function(){this.fire(\"onChange\",[false]);},onChange:function(evt){var array=this.scope()['editors-array'];array.setVar(\"filter\",this.getInputValue());array.updateFilter();}}]]],[\"vcl/ui/List\",(\"list\"),{align:\"client\",action:\"editor-open\",source:\"editors-array\",css:{\"background-color\":\"white\",\".{./ListHeader}\":{height:\"0\"},\".ListCell\":{\"margin-top\":\"1px\",\"padding-top\":\"5px\",\"padding-left\":\"34px\",\"background-repeat\":\"no-repeat\",\"background-position-x\":\"14px\",\"background-position-y\":\"1px\",\"&.file\":{\"background-image\":\"url(/shared/vcl/images/file16.png)\",},\"&.folder\":{\"background-image\":\"url(/shared/vcl/images/folder16.png)\",},\"span\":{\"font-size\":\"7.5pt\",color:\"silver\"}}}},[[\"vcl/ui/ListColumn\",{content:\"#\",attribute:\".\",rendering:\"innerHTML\",onGetValue:function(value,row,source){return[String.format(\"%H <span> - %H</span>\",value.name,value.uri)];},onRenderCell:function(cell,value,column,row,source,orgValue){var classes=cell.className.split(\" \");if(classes.length===4){classes.pop();}\nclasses.push(orgValue.type===\"Folder\"?\"folder\":\"file\");cell.className=classes.join(\" \");}}]]]]];");
define("text!vcl-comps/devtools/Console.js", "\"use devtools/Resources\";var Resources=require(\"devtools/Resources\");[\"vcl/ui/Form\",(\"\"),{activeControl:\"console\"},[[\"vcl/ui/Console\",(\"console\"),{classes:\"no-time\",onEvaluate(expr){var scope=this.scope();var app=this.app(),me=this;var ws=this.up(\":root\");var ed=ws?ws.qsa(\"devtools/Editor<>:root:visible\").pop():null;var ace=ws&&ws.qsa(\"devtools/Editor<>:root:visible\").map(_=>_.down(\"#ace\")).pop();var pr=this.print.bind(this);var ctx=this.vars([\"eval-context\",0,this.vars(\"eval-context\",Object.create(null,{root:{get(){var ed=ws?ws.qsa(\"devtools/Editor<>:root:visible\").pop():null;return ed&&ed.vars(\"root\");}},ls:{get(){return(path)=>Resources.list(js.normalize((ace.vars([\"resource.uri\"])),path||\".\"));}}}))]);with(ctx){return eval(expr);}}}]]];");
define("text!vcl-comps/make/Build.js", "$([],{vars:{modules:[],components:[]}});");
define("text!vcl-comps/devtools/Editor$/html.js", "var q$=require(\"jquery\");[\"\",{onLoad:function(){var scope=this.scope();var uri=this.vars([\"resource.uri\"]);if(uri.indexOf(\"index.html\")!==-1){scope.preview.setVisible(false);}\nreturn this.inherited(arguments);}},[[(\"#ace\"),{align:\"left\",width:750,onChange:function(){this.setTimeout(\"render\",()=>this.scope().render.execute(),250);},}],[(\"vcl/Action\"),\"toggle-source\",{hotkey:\"Shift+MetaCtrl+S\",onLoad(){this.up().readStorage(\"toggle-source-state\",(state)=>{state=(state!==false);this.setState(state);if(!state){this.scope().ace.hide();}});},onExecute(){var state;if((state=this.toggleState())===true){this.scope().ace.show();}else{this.scope().ace.hide();}\nthis.up().writeStorage(\"toggle-source-state\",state);}}],[(\"vcl/Action\"),\"render\",{onExecute:function(evt){var scope=this.scope();evt=evt||{value:scope.ace.getValue()};var root=scope.preview._node;var pos=q$(\"*\",root).toArray().filter(_=>_.scrollTop).map(_=>{var n=_,s=[];while(n!==root){s.unshift(n.nodeName.toLowerCase()+(n.className?(\".\"+n.className.split(\" \").join(\".\")):\"\"));n=n.parentNode;}\nreturn[s.join(\" > \"),_.scrollTop];});var uri=this.vars([\"resource.uri\"]);var data=this._owner.vars(\"data\")||this.vars([\"devtools/Editor<html>://\"+uri]);if(typeof Template7!==\"undefined\"){try{scope.preview.setContent(Template7.compile(evt.value)(data));}catch(e){this.print(e);scope.preview.setContent(js.sf(\"<div style='padding:8px;background-color:red;color:white;font-weight:bold;'>%H</div>%s\",e.message,evt.value));}}else{scope.preview.setContent(evt.value);}\ntry{scope.preview.update(_=>pos.forEach(p=>q$(p[0]).scrollTop(p[1])));this._owner.emit(\"resource-rendered\",[{sender:this.up()}]);}catch(e){}},}],[(\"vcl/ui/Panel\"),\"preview\",{align:\"client\",css:{\"background-color\":\"#f0f0f0\",\"border-left\":\"1px solid silver\",\"border-right\":\"1px solid silver\",\"&.fw7\":{\"font-family\":\"-apple-system, SF UI Text, Helvetica Neue, Helvetica, Arial, sans-serif\",\"background-color\":\"rgba(224,224,224,0.8)\",\"border-radius\":\"12px\"}},visible:true,vars:{\"wrapper-start\":\"\",\"wrapper-end\":\"\"},onLoad(){this.override(\"setContent\",function(value){var args=[js.sf(\"%s%s%s\",this.vars(\"wrapper-start\"),value,this.vars(\"wrapper-end\"))];args.callee=arguments.callee;return this.inherited(args);});}}]]];");
define("text!vcl-comps/devtools/Editor.js", "\"devtools/Resources, util/Xml, vcl/ui/Tab, ace/range, util/Event, ace/ext/modelist\";var ExtensionToMode={\"html\":\"html\",\"css\":\"css\",\"scss\":\"scss\",\"json\":\"json\",\"geojson\":\"json\",\"js\":\"javascript\",\"jso\":\"javascript\",\"blocks\":\"javascript\",\"vcl\":\"javascript\",\"ts\":\"typescript\",\"md\":\"markdown\",\"markdown\":\"markdown\",\"java\":\"java\",\"jsx\":\"jsx\",\"rdf\":\"xml\",\"wsdl\":\"xml\",\"xsd\":\"xml\",\"xml\":\"xml\",\"kml\":\"xml\",\"xsl\":\"xml\",\"jsp\":\"jsp\",\"yml\":\"yaml\",\"openapi\":\"yaml\"};var Event_=require(\"util/Event\");var Resources=require(\"devtools/Resources\");var nameOf=(uri)=>(uri||\"\").split(\"/\").pop().replace(/\\//g,\".\");var getKey=(tab)=>{var parents=[];while(tab!==null&&tab.vars(\"resource\")){parents.unshift(tab);tab=tab.up(\"vcl/ui/Tab\");}\nparents=parents.map(_=>nameOf(_.vars(\"resource.uri\")));return parents.join(\"/\");};[[\"ui/Form\"],{activeControl:\"ace\",onActivate(){this.scope().loading.update();return this.inherited(arguments);},onLoad(){var tab=this.up(\"vcl/ui/Tab\");var scope=this.getScope();var ed=scope.ace.getEditor();ed.setTheme(\"ace/theme/eclipse\");ed.renderer.setHScrollBarAlwaysVisible(false);ed.setScrollSpeed(2);var resource=this.vars([\"resource\"]);var name=resource.name||(resource.uri||\"\").split(\"/\").pop();var type=(resource.contentType||\"\").split(\"/\").pop();var ext=name.split(\".\").pop();var session=ed.getSession();var ace_mode=require(\"ace/ext/modelist\").getModeForPath(resource.uri);var ext_mode=ExtensionToMode[type||ext||this.getSpecializer()];var mode=\"ace/mode/\"+(ext_mode?ext_mode:ace_mode?ace_mode.name:(type||ext||this.getSpecializer()||\"js\"));require([mode],function(){session.setMode(mode);},function(){console.log(\"Unknown mode \"+mode);});session.setUseWrapMode(false);session.setWrapLimitRange(null,null);session.on(\"change\",function(e){scope.ace.setTimeout(\"update\",function(){var modified=tab.getVar(\"modified\");if(modified===\"resetundo,gototop\"){session.getUndoManager().reset();tab.removeVar(\"modified\");tab.setState(\"invalidated\",true);}else{if(session.getUndoManager().hasUndo()){if(!modified){tab.setVar(\"modified\",true);tab.setState(\"invalidated\",true);}}else{if(tab.getVar(\"modified\")!==undefined){tab.removeVar(\"modified\");tab.setState(\"invalidated\",true);}}}},100);});scope.refresh.execute();return this.inherited(arguments);},vars:{reflectState(root,state){if(state===null)return;var ace=root.down(\"#ace\");var session=ace.getEditor().session;if(state.position){ace.getEditor().gotoLine(state.position.row+1,state.position.column);}\nstate.selection&&session.selection.fromJSON(state.selection);state.options&&session.setOptions(state.options);state.mode&&session.setMode(state.mode);state.folds&&state.folds.forEach(function(fold){try{var Range=require(\"ace/range\").Range;session.addFold(fold.placeholder,Range.fromPoints(fold.start,fold.end));}catch(e){console.error(e);}});session.setScrollTop(state.scrollTop);session.setScrollLeft(state.scrollLeft);}}},[[\"vcl/Action\",(\"menu-open\"),{hotkey:\"Shift+F10\",on(evt){this.udown(\"#ace\").getEditor().execCommand(\"showSettingsMenu\",evt.args||[]);}}],[\"vcl/Action\",(\"refresh\"),{hotkey:\"MetaCtrl+R\",on(evt){var scope=this.getScope();var tab=this.up(\"vcl/ui/Tab\");var resource=this.vars([\"resource\"]);var editor=scope.ace.getEditor();if(resource){scope.loading.show();editor.setReadOnly(true);editor.blur();Resources.get(resource.uri).then(function(res){if(res.text!==undefined&&res.text!==editor.session.getValue()){tab.setVar(\"modified\",\"resetundo,gototop\");editor.session.setValue(res.text);}else{tab.removeVar(\"modified\");}\ntab.setVar(\"resource.revision\",res.revision);editor.setReadOnly(false);editor.focus();scope.loading.hide();tab.emit(\"resource-loaded\");}).catch(function(res){editor.setReadOnly(false);editor.focus();tab.emit(\"resource-needed\");if(evt&&res.status===404){tab.app().confirm(String.format(\"404 - %s\\n\\nThis resource does not exist. Would you like to create it?\",resource.uri),function(res){if(res===true){Resources.create(resource.uri,resource).then(_=>editor.print(_)).catch(_=>editor.print(_));}});}\nscope.loading.hide();tab.emit(\"resource-loaded\");});}}}],[\"vcl/Action\",(\"save-local\"),{hotkey:\"Shift+MetaCtrl+Alt+S\",on(){const resource=this.vars([\"resource\"]);const text=this.ud(\"#ace\").getValue();const blob=new Blob([text],{type:\"text/plain\"});if(!resource.name){resource.path=resource.uri.split(\"/\");resource.name=resource.path.pop();resource.path=resource.join(\"/\");resource.ext=resource.name.split(\".\").pop();}\nconst link=document.createElement(\"a\");link.setAttribute(\"href\",URL.createObjectURL(blob));link.setAttribute(\"download\",resource.name);document.body.appendChild(link);this.nextTick(()=>{link.click();document.body.removeChild(link);});}}],[\"vcl/Action\",(\"save-resource\"),{on(){var scope=this.getScope();var resource=this.getVar(\"resource\",true);var text=scope.ace.getValue();var editor=scope.ace.getEditor();var tab=this.up(\"vcl/ui/Tab\");if(!resource.uri||!tab.getVar(\"modified\")){return;}\nscope.loading.show();editor.setReadOnly(true);editor.blur();resource.text=editor.getValue();Resources.update(resource.uri,resource).then(function(res){editor.setReadOnly(false);editor.focus();scope.loading.hide();return res;}).then(function(res){tab.removeVar(\"modified\");tab.setState(\"invalidated\",true);if(res.hasOwnProperty(\"revision\")){resource.revision=res.revision;}\ntab.emit(\"resource-saved\");}).catch(function(res){var msg;if(res.status===404){tab.app().confirm(String.format(\"404 - %s\\n\\nThis resource does not exist. Would you like to create it?\",resource.uri),function(res){if(res===true){Resources.create(resource.uri,resource).then(_=>tab.print(_)).catch(_=>tab.print(_));}});}else if(res.status===409){msg=\"**WARNING*** - The resource has not been saved because it has been changed since loading it. Copy the contents of the resource (to the clipboard eg.) before reloading it.\";}else{console.error(res);msg=res.message;}\nmsg&&alert(String.format(\"%s\\n\\n%s - %s\",msg,res.status,res.statusText));scope.loading.hide();});}}],[\"vcl/Action\",(\"save\"),{hotkey:\"MetaCtrl+S\",parent:\"save-resource\",parentExecute:true}],[\"vcl/Action\",(\"format\"),{hotkey:\"MetaCtrl+Shift+F\",on(){var Xml=require(\"util/Xml\");var scope=this.getScope();var editor=scope.ace.getEditor();var mode=editor.session.$modeId||\"\";switch(mode.split(\"/\").pop()){case\"javascript\":case\"json\":editor.setValue(js.b(editor.getValue()));break;case\"xml\":case\"svg\":case\"html\":case\"xsd\":editor.setValue(Xml.beautify(editor.getValue()));break;default:alert(\"Don't know how to format this (yet)\");}}}],[\"vcl/Action\",(\"toggle-wrap\"),{hotkey:\"MetaCtrl+Shift+W|MetaCtrl+Shift+50\",on(evt){var editor=this.scope().ace.getEditor();editor.getSession().setUseWrapMode(!editor.getSession().getUseWrapMode());evt.preventDefault();}}],[\"vcl/Action\",(\"evaluate\"),{parent:\"print\",on(){console.warn(\"Should 'evaluate' whether is component is really needed - \"+\"because it has been deprecated in favor of 'print'\");this._parent.execute.apply(this._parent,arguments);}}],[\"vcl/Action\",(\"print\"),{hotkey:\"MetaCtrl+Enter|Alt+MetaCtrl+Enter|Shift+MetaCtrl+Enter\",onExecute:function(evt){var all=require(\"js/JsObject\").all;var Deferred=require(\"js/Deferred\");var parentRequire=require;var uri=\"$HOME/\"+this.vars([\"resource.uri\"]);function normalize(uri,module){if(module.includes(\"!\")){module=module.split(\"!\");module[1]=js.normalize(uri,module[1]);module=module.join(\"!\");}else{module=js.normalize(uri,module);}\nreturn module;}\nfunction thisRequire(modules,success,error){if(modules instanceof Array){modules=modules.map(module=>normalize(uri,module));}else{modules=normalize(uri,modules);}\nreturn parentRequire(modules,success,error);}\nfor(var k in parentRequire){thisRequire[k]=parentRequire[k];}\nfunction defer(requirements,callback){var deferred=new Deferred();require(requirements,function(){var args=[deferred].concat(js.copy_args(arguments));return callback.apply(this,args);});return deferred;}\nvar app=this.app(),ws=this.up(\"devtools/Workspace<>:root\");var name=this.vars(\"label\")||this.vars([\"resource.uri\"]).split(\"/\").pop();var scope=this.scope();var text=scope.ace.getEditor().getSession().getValue();var printer=ws||this;if(text.charAt(0)===\"{\"){text=\"(\"+text+\")\";}\ntry{(function(require){var eval_=this.vars(\"eval\"),value;if(Event_.modifiersMatch(evt,[\"metactrl\",\"shift\"])){value=\"'Meta+Shift+Pressed'\";}else if(Event_.modifiersMatch(evt,[\"metactrl\",\"alt\"])){var hash=req(\"util/Hash\").md5(scope.ace.getValue())\nvalue={me:this,text:text,text_len:text.length,text_hash:hash,text_lines:scope.ace.getValue().split(\"\\n\"),editor:this.up(),scope:this.scope(),resource:this.vars([\"resource\"]),};var root=value.scope['@owner'];var map=(value.factories={});(value.components=root._components).map(component=>{var uri=component._uri,pre=\"vcl/Factory!\"\nif(uri.indexOf(\"$HOME/\")===0)uri=uri.substring(\"$HOME/\".length);map[uri]=map[uri]||{instances:[],factory:component['@factory']};map[uri].instances.push(component);});value.controls=root._controls;value=Object.create(value,{name:{value:hash}});}else{value=eval_?eval_(text,this):this.vars([\"root\"])||eval(text);}\nif(value!==undefined)printer.print(name,value);}.apply(this,[thisRequire]));}catch(e){printer.print(name,e);}}}],[\"vcl/Action\",(\"focus-in-navigator\"),{hotkey:\"MetaCtrl+121\",onExecute:function(evt){var app=this.getApp();var resource=this.getVar(\"resource\",true);this.ud(\"devtools/Workspace<>:root\",\"vcl/ui/Tab[control=navigator]\").selectVisible();app.qsa(\"devtools/Workspace<>:owner-of(.) #navigator #resource-focus\",this).execute({resource:resource},this);}}],[\"vcl/ui/Ace\",(\"ace\"),{onLoad(){var ace=this;var writeStorage=()=>{var ed=ace.getEditor();ace.up().writeStorage(\"ace\",{position:ed.selection.getCursor(),selection:ed.selection.toJSON(),options:ed.session.getOptions(),folds:ed.session.getAllFolds().map(function(fold){return{start:fold.start,end:fold.end,placeholder:fold.placeholder};}),scrollTop:ed.session.getScrollTop(),scrollLeft:ed.session.getScrollLeft(),fontSize:ed.getFontSize()});};this.up(\"vcl/ui/Tab\").once(\"resource-loaded\",function(){var root=ace.up();root&&root.readStorage(\"ace\",function(state){var ed=ace.getEditor();if(state){state.position&&ed.gotoLine(state.position.row+1,state.position.column);state.selection&&ed.session.selection.fromJSON(state.selection);state.options&&ed.session.setOptions(state.options);state.mode&&ed.session.setMode(state.mode);state.folds&&state.folds.forEach(function(fold){try{var Range=require(\"ace/range\").Range;ed.session.addFold(fold.placeholder,Range.fromPoints(fold.start,fold.end));}catch(e){console.error(e);}});ed.session.setScrollTop(state.scrollTop);ed.session.setScrollLeft(state.scrollLeft);ed.setFontSize(state.fontSize||\"12px\");}\ned.selection.on(\"changeCursor\",writeStorage);ed.session.on(\"changeFold\",writeStorage);ed.session.on(\"changeSelection\",writeStorage);});});}}],[\"vcl/ui/Panel\",(\"loading\"),{align:\"none\",autoSize:\"both\",css:{opacity:\"0.75\",background:\"white url(/shared/vcl/images/loading.gif) no-repeat center center\",\"z-index\":\"10000\",left:0,top:0,bottom:0,right:0},visible:false,onLoad(){var canHide=Date.now();this.override({showNode:function(){this.clearTimeout(\"hideNode\");canHide=Date.now()+250;return this.inherited(arguments);},hideNode:function(){var me=this,args=js.copy_args(arguments);args.callee=arguments.callee;this.setTimeout(function(){me.inherited(args);},canHide-Date.now());}});}}]]];");
define("text!vcl-comps/devtools/Editor$/vcl.js", "\"vcl/Factory, vcl/ui/Node, vcl/ui/Tab\";var Component=require(\"vcl/Component\");var Factory=require(\"vcl/Factory\");var Node=require(\"vcl/ui/Node\");var Tab=require(\"vcl/ui/Tab\");[[\"./Editor<js>\"],{onLoad:function(){var tab=this.up(\"vcl/ui/Tab\");var scope=this.scope();var sourceUri=tab.getVar(\"resource.uri\",true);var uri=sourceUri.split(\".\");var ext=uri.pop(),index;uri=uri.join(\".\").split(\"/\");if((index=uri.indexOf(\"vcl-comps\"))!==-1){uri=uri.join(\"/\");if(uri.indexOf(\"$/\")!==-1){uri=uri.split(\"$\");uri=uri[0]+(\"<\"+uri.pop().substring(1)+\">\");}}else{uri=uri.join(\"/\");}\nif(uri.indexOf(\"/tools/vcl-comps/\")!==-1||uri.indexOf(\"/vcl-comps/tools/\")!==-1){scope['toggle-source'].setState(false);scope.ace.hide();scope['toggle-component'].setState(true);}\nvar keys=Component.getKeysByUri(this.up(\"devtools/Workspace<>\")._uri);uri=String.format(\"$HOME/%s\",uri);function f(){scope.instantiate.execute({uri:uri,sourceUri:sourceUri});}\ntab.on({\"resource-loaded\":f,\"resource-saved\":f});var resource=this.getVar(\"resource\",true);var node=new Node(this);node.setText(resource.uri);node.setExpandable(true);node.setParent(scope.tree);return this.inherited(arguments);},onResize:function(){this.setTimeout(\"alignControls\",32);}},[[\"vcl/Action\",(\"instantiate\"),{onExecute:function(evt){var scope=this.scope(),uri=evt.uri;if(!scope.host.isVisible()){return;}\nvar factory=new Factory(require,uri,evt.sourceUri);var root=scope.host.getControls()[0];var ws=root.up(\"devtools/Workspace<>\");while(root){root&&root.setParent(null);root=scope.host.getControls()[0];}\nfactory.load(scope.ace.getValue(),function(){try{root&&root.destroy();root=factory.newInstance(scope['@owner'],uri);if(root instanceof require(\"vcl/Control\")){root.setParent(scope.host);}else{root.qsa(\":instanceOf(vcl/Control)\").forEach(function(c){if(c.getParentComponent()===root){c.setParent(scope.host);}});}\nws.print(scope['@this'],root);}catch(e){alert(e.message);}},function(e){root&&root.show();if(e instanceof Error){console.error(e);alert(e.message);scope.host.up().print(e);}});}}],[\"vcl/Action\",(\"toggle-source\"),{hotkey:\"Shift+MetaCtrl+S\",selected:\"state\",visible:\"state\",state:true,onExecute:function(){this.setState(!this.getState());}}],[\"vcl/Action\",(\"toggle-component\"),{hotkey:\"Shift+MetaCtrl+C\",selected:\"state\",visible:\"state\",state:false,onExecute:function(){this.setState(!this.getState());}}],[\"vcl/Action\",(\"toggle-instantiate\"),{hotkey:\"Shift+MetaCtrl+X\",onExecute:function(evt){var scope=this.scope();var tc=scope['toggle-component'];if(tc.getState()!==true){tc.setState(true);tc.setTimeout(\"reload-execute\",function(){scope.refresh.execute(evt,scope['@this']);},200);}else{tc.setState(false);}}}],[\"vcl/Action\",(\"toggle-notes\"),{hotkey:\"Shift+MetaCtrl+N\",selected:\"state\",visible:\"state\",state:false,on(){this.setState(!this.getState());}}],[\"#ace\",{align:\"left\",width:750}],[\"vcl/ui/Tabs\",(\"bottom-tabs\"),{align:\"bottom\",classes:\"bottom inset\",autoSize:\"height\"},[[(\"vcl/ui/Tab\"),{action:\"toggle-source\",text:locale(\"Source\"),control:\"ace\",groupIndex:-2,visible:\"always\"}],[(\"vcl/ui/Tab\"),{action:\"toggle-component\",text:locale(\"Component\"),control:\"host\",groupIndex:-3,visible:\"always\"}],[(\"vcl/ui/Tab\"),{action:\"toggle-notes\",text:locale(\"Notes\"),control:\"notes\",groupIndex:-4,visible:\"always\"}]]],[\"vcl/ui/Tree\",(\"tree\"),{align:\"client\",visible:false,css:{padding:\"8px\",\"background-color\":\"#f0f0f0\",\"border-left\":\"1px solid silver\",\"border-right\":\"1px solid silver\"},onNodesNeeded:function(parent){var owner=this._owner;for(var i=0;i<5;++i){var node=new Node(owner);node.setText(i);node.setExpandable(true);node.setParent(parent||this);}}}],[\"vcl/ui/Panel\",(\"host\"),{action:\"toggle-component\",align:\"client\",selected:\"never\",executesAction:false,classes:\"animated\",css:{\"border-left\":\"1px solid silver\",\"border-right\":\"1px solid silver\"}},[[\"vcl/ui/Element\",{content:\"<h3 style='margin-top:10%;'><center>\"+\"Reload <small>&#x2318;+R</small> or Save <small>&#x2318;+S</small> to view the component here<br><small>(or just click here to Reload)</small><br><br><br>\"+\"</center></h3><p style='padding-left:16px;'>Other shortcuts that might come handy:<ul>\"+\"<li><b>&#x21E7;&#x2318;+S</b> toggles the Source tab</li>\"+\"<li><b>&#x21E7;&#x2318;+C</b> toggles the Component tab</li>\"+\"<li><b>&#x21E7;&#x2318;+X</b> toggles the Component tab and reloads upon show</li></ul></p>\",onClick:function(){this.scope().refresh.execute();}}]]],]];");
define("text!vcl-comps/devtools/Editor$/png.js", "[[\"devtools/Editor<image>\"]]");
define("text!vcl-comps/devtools/Editor$/md.js", "\"use on, markdown, blocks/Factory, util/HtmlElement\";const resolveUri_blocks=require(\"blocks/Factory\").resolveUri;const on=require(\"on\");const markdown=require(\"markdown\");const Component=require(\"vcl/Component\");const HE=require(\"util/HtmlElement\");const resolveUri_comps=require(\"vcl/Factory\").resolveUri;js.dt=(a)=>a===undefined?new Date():new Date(a);function render(){var value=this.getValue();var impl;if((impl=this.vars([\"onGetRenderValue\"]))){value=impl(value,this);}\nif((impl=this.vars([\"onRender\"]))){return impl(value,this);}\nvar root=markdown.toHTMLTree(value);var resource=this.vars([\"resource\"]);this.up().vars(\"root\",markdown.toHTMLTree(value));this.up().qsa(\"#output\").forEach(_=>{_.setContent(markdown.renderJsonML(root));_.update(function(){var node=this.nodeNeeded(),me=this;node.qsa(\"a\").forEach(a=>{if(a.title&&a.title.startsWith(\"`\")&&a.title.endsWith(\"`\")){var params=[this.app(),this.up(\"devtools/Workspace<>:root\"),this.up(\"devtools/Editor<>:root\"),(a,b,c,d)=>this.vars.apply(this,[a,b,c,d].filter(a=>a!==undefined)),window.locale,(a,b,c,d)=>this.print.apply(this,[a,b,c,d].filter(a=>a!==undefined))];a.title=e_v_a_l1(a.title.substring(1,a.title.length-1)).f.apply(this,params);}});node.qsa(\"img\").forEach(img=>{var src=js.get(\"attributes.src.value\",img)||\"\";if(src.indexOf(\":\")===-1){img.src=\"/home/\"+js.up(resource.uri)+\"/\"+src;}});on(node.qsa(\"img\"),\"load\",function(img,r){img=this;r=window.devicePixelRatio||1;if(img.style.maxWidth===\"\"){r=img['@?x']||r;img.style.maxWidth=js.sf(\"%dpx\",(img.naturalWidth/r));}});node.qsa(\"img\").forEach(function(img){var r=window.devicePixelRatio>1?2:2,title,imgs;if(img.naturalWidth&&img.src.indexOf(\"?2x\")!==-1){img.style.widthWhenHovered=img.naturalWidth/r+\"px\";}\nif(img.title.match(/^@([0-9]*[.])?[0-9]+/)){imgs=img.title.split(' ');img['@?x']=parseFloat(imgs.shift().substring(1));while(imgs.length&&!imgs[0].startsWith('`')){HE.addClass(img,imgs.shift());}\nimg.title=imgs.join(' ');}\nif(img.title.startsWith('`')&&img.title.endsWith('`')){var backtick_params=[img,me.app(),me.up(\"devtools/Workspace<>:root\"),me.up(\"devtools/Editor<>:root\"),(i,a,b,c,d)=>me.vars.apply(me,[i,a,b,c,d].filter(a=>a!==undefined)),window.locale,(i,a,b,c,d)=>me.print.apply(me,[i,a,b,c,d].filter(a=>a!==undefined))];imgs=img.title.split('`');img.title=imgs.pop();imgs=e_v_a_l1(imgs[1]).i.apply(me,backtick_params).split(\";\");if(imgs.length===1){HE.addClasses(imgs.pop());}\nif(imgs.length){js.mixIn(img.style,js.str2obj(imgs.join(\";\")));}}});var insertA=(H)=>{var a=document.createElement(\"A\");a.id=H.textContent.toLowerCase().split(\" \").join(\"-\");a.href=\"#\"+H.textContent.toLowerCase().split(\" \").join(\"-\");H.appendChild(a);return a.href;};\"h1,h2,h3,h4,h5\".split(\",\").forEach(H=>node.qsa(H).map(insertA));}.bind(_));});}\ndocument.addEventListener(\"click\",(evt)=>{var anchor=evt.target.up(\"A\",true);if(anchor){var control=require(\"vcl/Control\").findByNode(anchor);if(!control||!(control.up(\"devtools/Editor<md>\")||control._owner)){return;}\nvar href=js.get(\"attributes.href.value\",anchor)||\"\";var blocks,blocks_vars,comps,comps_vars;var backticks=false;if(href.startsWith(\"javascript:\")){return;}\nif(href.startsWith(\"`\")&&href.endsWith(\"`\")){backticks=true;href=href.substring(1,href.length-1);if(href===\"!\"){href=\"${p(:)}\";}}\nvar show_console=href.match(/\\$\\{p\\(.*\\)\\}$/);var silent=href.match(/!!\\$\\{/);if(silent){href=href.substring(2);}\nif(href===\"[]\"){href=\"[:]\";}\nif(href===\"[.]\"){href=\"blocks:./:\";}else if(href===\"[!]\"){href=\"blocks:!:\";}else if(href.startsWith(\"[\")&&href.endsWith(\"]\")){href=\"blocks:\"+href.substring(1,href.length-1);}else if(href.startsWith(\"<[\")&&href.endsWith(\"]>\")){href=\"blocks:*\"+href.substring(2,href.length-2);}else if((blocks=href.match(/(\\[[^\\]]*\\])({.*})/))){href=\"blocks:\"+blocks[1].substring(1).split(\"]\")[0];blocks_vars=blocks[2];}\nif(href===\"()\"){href=\"(:)\";}\nif(href===\"(.)\"){href=\"comps:./:\";}else if(href===\"(!)\"){href=\"comps:!:\";}else if(href.startsWith(\"(\")&&href.endsWith(\")\")){href=\"comps:\"+href.substring(1,href.length-1);}else if((comps=href.match(/(\\([^\\)]*\\))({.*})/))){href=\"comps:\"+comps[1].substring(1).split(\")\")[0];comps_vars=comps[2];}\nif(href.startsWith(\":\")&&!href.startsWith(\"://\")){href=anchor.textContent+href.substring(1);}else if(href.startsWith(\"blocks:\")){href=href.substring(\"blocks:\".length);blocks=true;}else if(href.startsWith(\"comps:\")){href=href.substring(\"comps:\".length);comps=true;}\nvar swp=startsWithProtocol(href);if(!swp||href.split(\":\").length>2){if(href.charAt(0)===\"#\"){if(!href.endsWith(\":\")){return;}}else{href=href.replace(/:([^:]*)$/,anchor.textContent+\"$1\");}}\nevt.preventDefault();if(href===\"\"||href===\"*\"){href=href+anchor.textContent;}\nif(href.startsWith(\"://\")){var pre=blocks?\"/cavalion-blocks\":comps?\"/vcl-comps\":\"\";href=js.sf(\"pouchdb://%s%s/%s\",Component.storageDB.name,pre,href.substring(3)||anchor.textContent);}\nvar backtick_params=[control.app(),control.up(\"devtools/Workspace<>:root\"),control.up(\"devtools/Editor<>:root\"),(a,b,c,d)=>control.vars.apply(control,[a,b,c,d].filter(a=>a!==undefined)),window.locale,(a,b,c,d)=>control.print.apply(control,[a,b,c,d].filter(a=>a!==undefined))];if(backticks){href=e_v_a_l1(href).f.apply(control,backtick_params);blocks_vars=e_v_a_l1(blocks_vars).f.apply(control,backtick_params);comps_vars=e_v_a_l1(comps_vars).f.apply(control,backtick_params);}\nif(silent){return;}\nif(show_console){if(!evt.metaKey){control.up(\"devtools/Workspace<>:root\").qs(\"#left-sidebar-tabs > vcl/ui/Tab[control=console]\").selectVisible();}\nreturn;}\nif(href.startsWith(\"https://\")||href.startsWith(\"http://\")||href.startsWith(\"file://\")||href.startsWith(\"ftp://\")){return window.open(href,\"_blank\");}\nvar base=control.vars([\"resource.uri\"]);var tab,uri;if(href.endsWith(\"::\")){var hs=href.split(\":\"),action=control.udr(hs[0]);hs.pop();hs.pop();hs.shift();if(action instanceof require(\"vcl/Action\")){return action.execute(js.normalize(base,hs.join(\":\").replace(/::/g,anchor.textContent)||anchor.textContent),evt);}\nalert(js.sf(\"%s not found\",href.split(\":\")[0]));throw new Error(js.sf(\"%s not found\",href.split(\":\")[0]));}\nvar run,ins,title=anchor.title.trim(),sourceUri,props;if(title.startsWith('${')&&title.endsWith('}')){props=e_v_a_l(title).f.apply(control,backtick_params);}\nif(blocks){if(ins=href.charAt(0)===\"*\")href=href.substring(1);if(run=href.charAt(0)===\"!\")href=href.substring(1);if(href.startsWith(\"./\")){uri=js.normalize(base,href);}else if(href.startsWith(\"/\")){uri=href.substring(1);}else if(!swp){uri=\"Library/cavalion-blocks/\"+href;}else{uri=href;}\nsourceUri=resolveUri_blocks(uri).substring(\"cavalion-blocks/\".length)+\".js\";if(ins){if(!run){props=props||{};props.vars=js.mi({'storage-uri':uri},props.vars||{});control.print(B.i([\"Hover<>:root\",uri,props,[[\"$HOME/\"+uri]]],{owner:control}));}else{control.print(B.i([\"$HOME/\"+uri,props]));}}else{tab=editorNeeded(control,evt).execute({formUri:\"devtools/Editor<blocks>\",formParams:{run:run},formVars:blocks_vars,resource:{uri:sourceUri},selected:true});}}else if(comps){run=href.charAt(0)===\"!\";if(run)href=href.substring(1);if(href.startsWith(\"./\")){uri=js.normalize(base,href);}else if(href.startsWith(\"/\")){uri=href.substring(1);}else if(!swp){uri=\"Library/vcl-comps/\"+href;}else{uri=href;}\ntab=editorNeeded(control,evt).execute({formUri:\"devtools/Editor<blocks>\",formParams:{run:run},formVars:blocks_vars,resource:{uri:resolveUri_comps(uri).substring(\"vcl-comps/\".length)+\".js\",title:title===\"\"?\"\":title||anchor.textContent},selected:true});}else{swp=startsWithProtocol(href);if(!swp){uri=js.normalize(base,href.charAt(0)===\"/\"?href.substring(1):(\"./\"+href));}else{uri=href;}\nif(evt.altKey===true){if(uri.endsWith(\"/\")){uri+=\".md\";}else if(uri.endsWith(\"/.md\")){uri=uri.replace(/\\.md$/,\"\");}else if(!uri.endsWith(\".smdl\")){uri+=\".smdl\"}else{uri=uri.replace(/\\.smdl$/,\"\");}}\ntab=editorNeeded(control,evt).execute({resource:{uri:uri.endsWith(\"/\")?uri.substring(0,uri.length-1):uri,type:uri.endsWith(\"/\")?\"Folder\":\"File\",title:title===\"\"?\"\":title||anchor.textContent},bringToFront:evt.shiftKey===true,selected:true});}}});const editorNeeded=(control,evt)=>{if(evt.metaKey===true){return control.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");}\nreturn control.udr(\"#editor-needed\");}\nconst update_shrink=(me,value)=>me.ud(\"#output\").syncClass(\"shrink\",value);const isUpperCase=(s)=>s.toUpperCase()===s;const e_v_a_l=(s)=>{var E,s=js.sf(\"try { return `${r = %s`, r; } catch(e) { alert(e.message); throw p(e); } \",s.substring(2));return window[(E=\"e\")+'val'](js.sf(\"({\"+\"f: (app, ws, ed, v, l, p, r) => { %s }, \"+\"i: (img, app, ws, ed, v, l, p, r) => { %s } \"+\"})\",s,s));};const e_v_a_l1=(s,E)=>{s=js.sf(\"try { return `%s`; } catch(e) { alert(e.message); throw p(e); } \",s);return window[(E=\"e\")+'val'](js.sf(\"({\"+\"f: (app, ws, ed, v, l, p, r) => { %s }, \"+\"i: (img, app, ws, ed, v, l, p, r) => { %s } \"+\"})\",s,s));};const startsWithProtocol=(url)=>url.match(/^[^\\s]*:\\/\\//)!==null;var Handlers={onResize(){var cs=this.getComputedStyle();this.ud(\"#output\").syncClass(\"shrink\",parseInt(cs.width,10)<900);},\"#output onDblClick\":function(evt){if(evt.metaKey===true){this._node.qsa(\"img\").forEach(function(img){var r=window.devicePixelRatio>1?2:2;if(img.naturalWidth&&img.src.indexOf(\"?2x\")!==-1){img.style.width=img.naturalWidth/r+\"px\";}});}}};[\"\",{handlers:Handlers},[[(\"#evaluate\"),{onLoad(){this.vars(\"eval\",()=>this.vars([\"root\"]));return this.inherited(arguments);}}],[(\"#ace\"),{align:\"left\",width:600,action:\"toggle-source\",executesAction:\"none\",onChange(){if(!this._vars){render.apply(this,[]);this.vars();}else{this.setTimeout(\"render\",render.bind(this),750);}}}],[\"vcl/Action\",(\"toggle-source\"),{hotkey:\"Shift+MetaCtrl+S\",selected:\"state\",visible:\"state\",state:true,onLoad(){var resource=this.vars([\"resource\"]);var md_sourceInitiallyHidden=this.vars([\"markdown-source-intially-hidden\"])===true;if(!resource.name)resource.name=resource.uri.split(\"/\").pop();this.up().readStorage(\"source-visible\",(visible)=>{if(typeof visible===\"boolean\"){this.setState(visible);update_shrink(this,visible);}else if(visible===undefined&&(md_sourceInitiallyHidden||(resource.uri.split(\"/\").pop()===\".md\"||isUpperCase(resource.name.split(\".md\")[0])))){this.setState(false);update_shrink(this,false);}});},onExecute(){var state=!this.getState();this.setState(state);if(state===true){var ace=this.ud(\"#ace\");ace.setFocus();}\nupdate_shrink(this,state);this.up().writeStorage(\"source-visible\",this.getState());}}],[\"vcl/ui/Panel\",(\"output\"),{align:\"client\",css:{\"\":\"margin-left:auto;margin-right:auto;\",':not(.shrink)':\"width:795px;\",\"background-color\":\"rgba(240,240,240,1)\",\"border-left\":\"1px solid silver\",\"border-right\":\"1px solid silver\",\"font-family\":\"times,-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'\",\"font-size\":\"12pt\",'img':{'':\"width:75%; transition: width 1s ease 0s, box-shadow 1s ease 0s;\",':not(.inline)':\"display:block; margin:auto;\",'&:hover':\"width: 100%; box-shadow: rgb(0 0 0 / 40%) 0px 1px 2px 0px;\",},padding:\"10px 50px\",\"a\":\"text-decoration:underline;color:blue;\",\"code\":\"border-radius:3px;font-size: 10pt;background-color:white;padding:2px;line-height:12pt;\",},classes:\"shrink\",onMouseMove(evt){if(evt.shiftKey===false)return;var current=evt.target;if(current.nodeName!==\"IMG\"){current=undefined;}\nvar last=this.vars(\"last\");if(last!==current){if(last){last.style.width=\"\";}\nlast=current;if(last){last.style.width=last.style.widthWhenHovered;}}\nlast&&this.vars(\"last\",last);},onMouseLeave(evt){var last=this.removeVar(\"last\");if(last){last.style.width=\"\";}}}]]];");
define("text!vcl-comps/devtools/Editor$/folder.js", "\"use devtools/Resources\";var Resources=require(\"devtools/Resources\");function allowResource(resource){return[\".git\",\".svn\",\".DS_Store\"].includes(resource.uri.split(\"/\").pop())===false&&[\"zip\",\"7z\"].includes(resource.uri.split(\".\").pop())===false&&[\"prj\",\"sbn\",\"dbf\",\"sbx\",\"shp\",\"shx\"].includes(resource.uri.split(\".\").pop())===false;}\nfunction sortResource(resource1,resource2){if(resource1.name===\".md\")return-1;if(resource2.name===\".md\")return 1;var isnum1=!isNaN(resource1.name),isnum2=!isNaN(resource2.name);if(isnum1&&isnum2){return isnum1<isnum2?1:-1;}\nif(resource1.name.startsWith(\".\")&&!resource2.name.startsWith(\".\")){return-1;}\nif(resource2.name.startsWith(\".\")&&!resource1.name.startsWith(\".\")){return 1;}\nif(resource1.type===resource2.type){return resource1.name<resource2.name?-1:1;}\nif(resource1.type===\"Folder\")return-1;return 1;}\nfunction common(tab){var resource=tab.vars(\"resource\");tab.setCloseable(false);tab.on(\"dblclick\",function(){if(confirm(\"Are you sure you want to close this resource?\")===true){this.getControl().getForm().close();}});if(resource.uri.split(\"/\").pop().indexOf(\".\")===-1){tab.addClass(\"bold\");}}\n[(\"\"),{css:{},_onDispatchChildEvent:function(component,name,evt,f,args){if(name!==\"keyup\"){return;}\nvar tabs=this.down(\"#editors-tabs\");if(evt.ctrlKey===true&&evt.shiftKey===true){if(evt.keyCode===186){tabs.selectPrevious();}else if(evt.keyCode===222){tabs.selectNext();}else{}}else if(evt.ctrlKey===true){if(evt.keyCode===evt.KEY_PAGE_UP){tabs.selectPrevious();}else if(evt.keyCode===evt.KEY_PAGE_DOWN){tabs.selectNext();}}},onActivate:function(){this.qsa(\"vcl/ui/Tab[selected=true]\").each(tab=>tab.getControl().setFocus());return this.inherited(arguments);},onLoad:function(){var scope=this.scope();var uri=this.vars([\"resource.uri\",true]);var editor_needed=scope['editor-needed'];if(typeof uri===\"string\"&&!uri.startsWith(\"local:\")){Resources.list(uri).then(res=>res.filter(allowResource).sort(sortResource).forEach((resource,i)=>editor_needed.execute({resource:resource,selected:i===0}))).then(res=>{this.emit(\"editors-loaded\",[this,res]);});}\nscope.save._onExecute=null;var tab=this.up(\"vcl/ui/Tab\");tab.emit(\"resource-loaded\");if(tab)tab.addClass(\"bold\");scope['add-resources'].execute(this.vars(\"resources\")||[]);}},[[(\"#menu-open\"),{}],[(\"#refresh\"),{enabled:false}],[(\"#evaluate\"),{enabled:false}],[(\"#print\"),{enabled:false}],[(\"#format\"),{enabled:false}],[(\"#ace\"),{visible:false}],[\"vcl/ui/Tabs\",(\"editors-tabs\"),{action:\"prompt-add-resource\",executesAction:\"onDblClick\",onNodeCreated(){this.up().readStorage(\"editors-tabs\",(state)=>{state&&state.selected&&this.getControl(state.selected)?.setSelected(true);});},onChange(newTab,oldTab){if(!newTab)return;this.up().writeStorage(\"editors-tabs\",{selected:newTab&&newTab.getIndex()});}}],[\"vcl/Action\",(\"editor-needed\"),{on(evt){if(typeof evt===\"string\"){evt={resource:{uri:evt}};}\nvar scope=this.scope();evt.resource.uri=js.normalize(this.vars([\"resource.uri\"])+\"/\",evt.resource.uri);var owner=this._owner;var tabs=scope['editors-tabs'];var tab=(tabs._controls||[]).find(_=>_.vars(\"resource.uri\")===evt.resource.uri);if(!tab){var editor_needed=this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");tab=editor_needed.execute(js.mixIn({parents:{container:owner,tab:tabs},resource:evt.resource,selected:evt.selected,owner:owner},evt));if(evt.resource.type===\"Folder\"){tab.addClass(\"bold\");}\ntab.setCloseable(false);tab.on(\"dblclick\",function(){if(confirm(\"Do you want to close this resource?\")===true){this.getControl().getForm().close();}});}else{if(evt.formUri){tab._control._formUri=evt.formUri;}\nif(evt.formParams){tab._control._formParams=evt.formParams;}\nif(evt.selected)tab.setSelected(true);}\nvar callback=(f,args)=>{return f&&f.apply(this,args);},first=true;tab.once(\"editor-available\",(e)=>{first=false;callback(evt.onAvailable,[e]);});tab.on({\"resource-loaded\"(e){if(first){tab.emit(\"editor-available\",[e]);}\ncallback(evt.onResourceLoaded,[e]);},});if(tab.down(\"#ace\")){tab.setTimeout(\"available\",()=>tab.emit(\"editor-available\",[]),0);}\nreturn tab;}}],[\"vcl/Action\",(\"prompt-add-resource\"),{onExecute(evt){var editor_needed=this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");var uri=this.vars([\"resource.uri\"]);var scope=this.scope(),owner=this._owner;var rand=Math.random().toString(36).substring(2,15);if(!uri.endsWith(\"/\"))uri+=\"/\";app.prompt(js.sf(\"Enter new resource uri:\\n\\n[.=%s]\",uri),\"./Resource-\"+rand,function(value){if(value){var tab=editor_needed.execute({parents:{container:owner,tab:scope['editors-tabs']},resource:{uri:js.normalize(uri,value)},selected:true,owner:owner});common(tab);}});}}],[\"vcl/Action\",(\"add-resources\"),{onExecute:function(resources){var scope=this.scope(),app=this.app();var uri=this.vars([\"resource.uri\"]);var editor_needed=this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");var editors=this.up(\"devtools/Workspace<>:root\").down(\"#editors\");resources=resources.map(function(resource){resource=typeof resource===\"string\"?{uri:resource}:js.mixIn(resource);return resource;});var folders=resources.filter(_=>_.uri.indexOf(\"/\")>=0).map(_=>_.uri.split(\"/\").shift());folders=folders.filter(function(path,index){return folders.indexOf(path)===index;});var tabs={};folders.forEach(function(folder_uri,i){var tab=editor_needed.execute({selected:i===0,resource:{uri:folder_uri,type:\"Folder\"},parents:{container:scope['@owner'],tab:scope['editors-tabs']}});tab.on(\"resource-loaded\",function(){var lresources=resources.filter(function(resource){return resource.uri.indexOf(folder_uri+\"/\")===0;}).map(function(resource){return js.mixIn(js.mixIn(resource),{uri:resource.uri.substring(resource.uri.indexOf(\"/\")+1)});});tab.down(\"#add-resources\").execute(lresources);app.print(\"resource-loaded\",this);});app.print(folder_uri,tab);common(tab);});resources.forEach(function(resource,i){if(resource.uri.split(\"/\").length===1){var tab=editor_needed.execute({parents:{container:scope['@owner'],tab:scope['editors-tabs']},resource:resource,selected:i===0&&!folders.length,owner:scope['@owner']});tab.on(\"resource-loaded\",function(){if(typeof resource.onGenerate===\"function\"){tab.down(\"#ace\").setValue(resource.onGenerate(tab));}});common(tab);}});}}],[\"vcl/Action\",(\"add-resources-try\"),{onExecute:function(resources){var scope=this.scope(),app=this.app();var uri=this.vars([\"resource.uri\"])+\"/\";var editor_needed=this.up(\"devtools/Workspace<>:root\").down(\"#editor-needed\");var editors=this.up(\"devtools/Workspace<>:root\").down(\"#editors\");resources=resources.map(function(resource){resource=typeof resource===\"string\"?{uri:resource}:js.mixIn(resource);resource.uri=js.normalize(uri,resource.uri);return resource;});}}]]];");
define("text!blocks/prototypes/Console.js", "\"use js\";[\"vcl-ui:Console\",{align:\"client\",handlers:{loaded(){}}}];");
define("text!vcl-comps/devtools/Editor$/blocks.js", "\"use blocks/Factory\";var Blocks=require(\"blocks/Blocks\");var Factory=require(\"blocks/Factory\");var styles={\"#host\":{\"&.full-width\":\"min-width: 100%;\",\"border-right\":\"1px solid silver\"},\"#ace\":{\"border-right\":\"1px solid silver\"}};var handlers={};function print(comp,msg,value){comp.up(\"devtools/Workspace<>:selected\").qsa(\"devtools/Console<> #console\").print(msg,value);}\n[[\"./Editor<js>\"],{css:styles,onLoad:function(){var tab=this.up(\"vcl/ui/Tab\");var scope=this.scope();var sourceUri=this.getVar(\"resource.uri\",true);var uri=sourceUri.split(\".\");var ext=uri.pop(),index;uri=uri.join(\".\").split(\"/\");if((index=uri.indexOf(\"cavalion-blocks\"))!==-1){if(uri.length>1&&uri[uri.length-1].endsWith(\"<>\")){var specializer=uri.pop(),p=uri.join(\"/\");uri=String.format(\"$HOME/%s<%s>\",p.substring(p.length-2),n);}\nuri=uri.join(\"/\");if((index=uri.indexOf(\"<>/\"))!==-1){uri=uri.substring(0,index+1)+uri.substring(index+3)+\">\";}\nif(uri.indexOf(\"$/\")!==-1){uri=uri.split(\"$\");uri=uri[0]+(\"<\"+uri.pop().substring(1)+\">\");}}else{uri=uri.join(\"/\");}\nif(uri.indexOf(\"-blocks/tools/\")!==-1){scope['toggle-source'].setState(false);scope.ace.hide();scope['toggle-component'].setState(true);}\nvar keys=Blocks.parseUri(this.up(\"devtools/Workspace<>\")._uri);uri=String.format(\"$HOME/%s\",uri);var PATH=\"/src/cavalion-blocks/\";if(uri.indexOf(PATH)!==-1){uri=\"$HOME/\"+uri.substring(uri.indexOf(PATH)+PATH.length);}\nvar x=uri.split(\"/\");if(x[x.length-2].endsWith(\"<>\")){x[x.length-2]=js.sf(\"%s<%s>\",x[x.length-2].split(\"<\")[0],x.pop());uri=x.join(\"/\");}\nsourceUri=String.format(\"$HOME/%s\",sourceUri);function f(){scope.instantiate.execute({uri:uri,sourceUri:sourceUri});}\ntab.on({\"resource-loaded\":f,\"resource-saved\":f});return this.inherited(arguments);},onReceiveParams(params){if(params.run===true){var scope=this.scope();scope['toggle-source'].setState(false);scope.ace.hide();scope['toggle-component'].setState(true);}\nreturn this.inherited(arguments);},onResize:function(){this.setTimeout(\"alignControls\",32);}},[[(\"#print\"),{onLoad(){this.vars(\"eval\",()=>this.ud(\"#instantiate\").vars(\"root\"));return this.inherited(arguments);},onExecute(){return this.ud(\"#host\").isVisible()?this.inherited(arguments):false;}}],[(\"vcl/Action\"),\"instantiate\",{onExecute:function(evt){var scope=this.scope(),uri=evt.uri;var owner=scope['@owner'];if(!scope.host.isVisible()){return;}\nvar factory=new Factory(require,uri,evt.sourceUri);var root=owner.vars(\"root\");while(root){try{root&&root._owner===owner&&root.destroy();root=scope.host.getControls()[0];}catch(e){alert(e.message);console.error(e);owner.vars(\"root\",(root=null));}}\nfactory.load(scope.ace.getValue(),function(){try{root&&root._owner===owner&&root.destroy();root=factory.newInstance(owner,uri);owner.vars(\"root\",root);if(root instanceof require(\"vcl/Control\")){root.setParent(scope.host);}else{root.qsa(\":instanceOf(vcl/Control)\").forEach(function(c){if(c.getParentComponent()===root){c.setParent(scope.host);}});}}catch(e){alert(e.message);}},function(e){root&&root.show();if(e instanceof Error){console.error(e);alert(e.message);}});}}],[(\"vcl/Action\"),\"toggle-source\",{hotkey:\"Shift+MetaCtrl+S\",selected:\"state\",visible:\"state\",state:true,onExecute:function(){this.setState(!this.getState());}}],[(\"vcl/Action\"),\"toggle-component\",{hotkey:\"Shift+MetaCtrl+C\",selected:\"state\",visible:\"state\",state:false,onExecute:function(){this.setState(!this.getState());}}],[(\"vcl/Action\"),\"toggle-instantiate\",{hotkey:\"Shift+MetaCtrl+X\",onExecute:function(evt){var scope=this.scope();var tc=scope['toggle-component'];if(tc.getState()!==true){tc.setState(true);tc.setTimeout(\"reload-execute\",function(){scope.refresh.execute(evt,scope['@this']);},200);}else{tc.setState(false);}}}],[(\"vcl/Action\"),\"toggle-full-width\",{onExecute(){this.toggle();this.scope().host.toggleClass(\"full-width\");this.scope().host.toggleClass(\"full-width\");this.scope().host.toggleClass(\"full-width\");},state:false,selected:\"state\"}],[\"#ace\",{align:\"left\",width:750}],[\"vcl/ui/Tabs\",(\"bottom-tabs\"),{align:\"bottom\",classes:\"bottom inset\",autoSize:\"height\"},[[\"vcl/ui/Tab\",{action:\"toggle-source\",text:locale(\"Source\"),control:\"ace\",groupIndex:-2,visible:\"always\"}],[\"vcl/ui/Tab\",{action:\"toggle-component\",text:locale(\"Component\"),control:\"host\",groupIndex:-3,visible:\"always\"}],[\"vcl/ui/Tab\",{action:\"toggle-full-width\",classes:\"without-menu\",text:locale(\".full-width\"),groupIndex:-4,visible:\"always\"}]]],[\"vcl/ui/Panel\",(\"host\"),{action:\"toggle-component\",align:\"client\",selected:\"never\",executesAction:false,classes:\"animated\"},[[\"vcl/ui/Element\",{content:\"<h3 style='margin-top:10%;'><center>\"+\"Reload <small>&#x2318;+R</small> or Save <small>&#x2318;+S</small> to view the component here<br><small>(or just click here to Reload)</small><br><br><br>\"+\"</center></h3><p style='padding-left:16px;'>Other shortcuts that might come handy:<ul>\"+\"<li><b>&#x21E7;&#x2318;+S</b> toggles the Source tab</li>\"+\"<li><b>&#x21E7;&#x2318;+C</b> toggles the Component tab</li>\"+\"<li><b>&#x21E7;&#x2318;+X</b> toggles the Component tab and reloads upon show</li></ul></p>\",onClick:function(){this.scope().refresh.execute();}}]]]]];");
define("text!vcl-comps/devtools/Editor$/xml.js", "\"use blocks, fast-xml-parser, xml-funcs, veldapps-imsikb/util, veldapps-imkl/util, vcl/ui/ListColumn\";function match(obj,q){q=q.toLowerCase();for(var k in obj){var v=obj[k];if(!(v instanceof Array)){v=[v];}\nif(v.some(obj=>js.sf(\"%n\",obj).toLowerCase().includes(q))){return true;}}\nreturn false;}\nvar Blocks=require(\"blocks\");var Parser=require(\"fast-xml-parser\");var Xml=require(\"xml-funcs\");var ListColumn=require(\"vcl/ui/ListColumn\");var DetailViews={imsikb0101:[\"devtools/Alphaview\",{visible:false,vars:{selected:true},onLoad(){var root=this.vars([\"root\"]);var parsed=require(\"veldapps-imsikb/util\").parse(root);this.vars(\"root:parsed\",parsed);this.ud(\"#reflect\").execute([parsed.entities]);this.vars(\"history\",[]);}},[[\"#load\",{on(){this.ud(\"#reflect\").execute(sel);}}]]],imsikb0101_:[\"Container\",{css:{\"#bar\":\"text-align: center;\",\"#bar > *\":\"margin-right:5px;\",\"#bar input\":\"font-size:12pt;width:300px;max-width:50%; border-radius: 5px; border-width: 1px; padding: 2px 4px; border-color: #f0f0f0;\",\"#bar #left\":\"float:left;\",\"#bar #right\":\"float:right;\"},onLoad(){var root=this.vars([\"root\"]);var parsed=require(\"veldapps-imsikb/util\").parse(root);var tabs=[];for(var ent in parsed.entities){tabs.push([\"Tab\",{textReflects:\"innerHTML\",text:js.sf(\"%H <small>(%d)</small>\",ent.split(\":\").pop(),parsed.entities[ent].length),vars:{array:parsed.entities[ent]}}]);}\nthis.vars(\"root:parsed\",parsed);this.vars(\"history\",[]);if(tabs.length){B.i([\"Container\",tabs]).then(c=>{var tabs=this.scope().tabs;tabs.clearState(\"acceptChildNodes\");[].concat(c._controls).forEach(tab=>tab.setParent(tabs));tabs.setState(\"acceptChildNodes\",true);tabs._controls[0].setSelected(true);});}},visible:false,vars:{selected:true}},[[\"Array\",(\"array\"),{onFilterObject(obj){var q=this.vars(\"q\");if(!q)return false;return q.split(/\\s/).filter(q=>q.length>0).some(q=>!match(obj,q));},onUpdate(){this.ud(\"#list-status\").render();}}],[\"Bar\",(\"bar\"),[[\"Group\",(\"left\"),[[\"Button\",(\"back\"),{content:\"&lt;\",visible:false,onClick(){var history=this.vars([\"history\"]);var value=history.pop();if(value){this.ud(\"#array\").setArray([]);this.nextTick(()=>this.ud(\"#array\").setArray(value));}\nif(history.length===0)this.hide();}}],[\"Button\",(\"\"),{content:\"View on Map\",onClick:function(){this.print(\"selection\",this.ud(\"#list\").getSelection());}}],]],[\"Input\",(\"q\"),{placeholder:\"Filter\",onChange(){var array=this.ud(\"#array\");this.setTimeout(\"updateFilter\",()=>{array.vars(\"q\",this.getValue());array.updateFilter();},250);}}],[\"Group\",(\"right\"),[[\"Element\",(\"list-status\"),{content:\"-\",element:\"span\",onRender(){var status;this.setTimeout(()=>{var arr=this.ud(\"#array\");if(!arr._array)return;var total=arr._array.length;var filtered=this.ud(\"#q\").getValue().length>0?(arr._arr||[]).length:0;var selected=this.ud(\"#list\").getSelection().length;if(filtered===0&&selected===0){status=js.sf(\"%d items\",total);}else{status=js.sf(\"%d/%d\",selected,filtered||total);}\nif(filtered){status+=js.sf(\" (%d)\",total);}\nthis.setContent(status);},250);}}]]],[\"Radiobutton\",(\"opt-and\"),{visible:false,label:\"AND\",groupIndex:1}],[\"Radiobutton\",(\"opt-or\"),{visible:false,checked:true,groupIndex:1,label:\"OR\"}],[\"Checkbox\",(\"check-exact-case\"),{visible:false,label:\"Exact case\",checked:false}]]],[\"List\",(\"list\"),{css:{\".ListCell\":\"color:red;\"},autoColumns:true,source:\"array\",css:\"background-color:white;\",onSelectionChange(){this.ud(\"#list-status\").render();},onDispatchChildEvent(component,name,evt,f,ms){if(name===\"dblclick\"&&component instanceof ListColumn){var arr=this._source._arr.map(_=>_[component._attribute]);var old=this._source._arr;var history=this.vars([\"history\"]);history.push(this._source._array);this.ud(\"#array\").setArray(null);this.ud(\"#array\").setArray(arr.filter(_=>_!==undefined));this.ud(\"#back\").show();}},onDblClick(){var selection=this.getSelection(true);this.print(selection.length===1?selection[0]:selection);}}],[\"Ace\",(\"ace\"),{visible:false}],[\"Tabs\",(\"tabs\"),{css:\"text-align:center;\",onChange(newTab,oldTab){var list=this.scope().list;var n=list.nodeNeeded();if(oldTab!==null){oldTab.vars(\"scrollInfo\",[n.scrollLeft,n.scrollTop]);console.log(\"scrollInfo\",oldTab.vars().scrollInfo);}\nthis.ud(\"#array\").setArray([]);this.setTimeout(\"change\",()=>{if(newTab!==null){var n=this.ud(\"#list\").nodeNeeded();this.ud(\"#array\").setArray(newTab.vars(\"array\"));this.setTimeout(\"change\",()=>{var si=newTab.vars(\"scrollInfo\");si&&(n.scrollLeft=si[0]);si&&(n.scrollTop=si[1]);},200);}},50);}}]]]};[(\"\"),{css:{\"#output\":\"background-color: #f0f0f0; border-right: 1px solid silver;\"},onLoad(){var render=(evt)=>this.qsa(\"#render\").execute(evt);this.up(\"vcl/ui/Tab\").on({\"resource-loaded\":render,\"resource-saved\":render});return this.inherited(arguments);}},[[\"vcl/Action\",(\"toggle-source\"),{hotkey:\"Shift+MetaCtrl+S\",selected:\"state\",visible:\"state\",state:true,onExecute:function(){this.setState(!this.getState());}}],[\"vcl/Action\",(\"toggle-output\"),{hotkey:\"Shift+MetaCtrl+O\",selected:\"state\",visible:\"state\",state:true,onExecute:function(){var output=this.scope().output;output.setVisible(!output.isVisible());}}],[\"vcl/Action\",(\"render\"),{onExecute:function(){var owner=this._owner;var scope=this.scope();var root=Parser.parse(scope.ace.getValue(),{ignoreAttributes:false});var format,formats=[];var console=scope.console;console.print(\"root\",owner.vars(\"root\",root));if(root.hasOwnProperty(\"imsikb0101:FeatureCollectionIMSIKB0101\")){formats.push(\"imsikb0101\");}else if(js.get(\"bodeminformatie.metainformatie.@_versie\",root)){formats.push(\"imsikb0101\")}\nformat=formats[0];if(formats.length){console.print(\"formats detected\",formats.join(\", \"));this.setTimeout(\"load-detailviews\",()=>{var dva=this.ud(\"#detailview-available\");console.print(\"loading extensions\",Promise.all(formats.map(format=>Blocks.instantiate(DetailViews[format],{setIsRoot:true,loaded(view){}}).then(view=>{view.setOwner(owner);view.loaded();dva.execute({name:format,view:view,selected:view.vars(\"selected\")});return view;}))));},500);}}}],[\"vcl/Action\",(\"detailview-available\"),{on(evt){var Tab=require(\"vcl/ui/Tab\");var scope=this.scope();var tab=new Tab({owner:this._owner,text:evt.name,parent:scope['details-tabs'],control:evt.view,selected:evt.selected||false});evt.view.setParent(scope.output);return tab;}}],[\"vcl/ui/Panel\",(\"output\"),{align:\"client\"},[[\"vcl/ui/Tabs\",(\"details-tabs\"),{align:\"bottom\",classes:\"bottom\"},[[\"vcl/ui/Tab\",{text:locale(\"Console\"),control:\"console\",selected:true}]]],[\"vcl/ui/Console\",(\"console\"),{align:\"client\",vars:{'skip-print':true},onEvaluate:function(expr){var root=this._owner.getVar(\"root\"),scope=this.scope();return eval(expr);}}]]],[(\"#ace\"),{align:\"left\",width:600,action:\"toggle-source\",executesAction:\"none\"}],[(\"#print\"),{onLoad(){this.vars(\"eval\",()=>this.vars([\"root\"]));return this.inherited(arguments);}}]]];");
define("text!vcl-comps/devtools/Editor$/xsd.js", "var XSD_NS=\"http://www.w3.org/2001/XMLSchema\";var XS_NAMESPACE_PREFIXES=['','xs:','xsd:'];var at__=\"@__\";var sf=String.format;function asArray(arr){if(arr===null||arr===undefined)return[];if(!(arr instanceof Array))return[arr];return arr;}\nfunction xsArray(path,obj){var r=[];path=path.split(\".\");XS_NAMESPACE_PREFIXES.forEach(function(ns){var namePath=sf(\"%s%s\",ns,path.join(\".\"+ns));r=r.concat(asArray(js.get(namePath,obj)));});return r;}\nfunction js_getXs(path,elem){var r;XS_NAMESPACE_PREFIXES.some(function(prefix){var namePath=path.split(\".\").map(part=>js.sf(part,prefix)).join(\".\");r=r||js.get(namePath,elem);});return r;}\nfunction onDblClick(){var console=this.up(\"devtools/Workspace<>\").down(\"vcl/ui/Console#console\");this.getSelection(true).map(_=>console.print(_.__name||_['@_name']||_.name,_));}\nfunction resolveUri(uri,me){var url_map=me.vars([\"devtools/Editor<xsd>/url_map\"])||{};var v=url_map[uri];if(v){return v;}\nif(uri.indexOf(\"https://schema.broservices.nl/\")===0){uri=\"Library/schema.broservices.nl/\"+uri.substring(\"https://schema.broservices.nl/\".length);}else if(uri.indexOf(\"http://schemas.opengis.net/\")===0){uri=\"Library/opengis.net/\"+uri.substring(\"http://schemas.opengis.net/\".length);}else if(uri.indexOf(\"http://www.w3.org/1999/\")===0||uri.indexOf(\"http://www.w3.org/2001/\")===0){uri=\"Library/opengis.net/\"+uri.substring(\"http://www.w3.org/1999/\".length);}else if(uri.indexOf(\"/\")===-1){uri=js.up(me.vars([\"resource.uri\",true]))+\"/\"+uri;}\nreturn uri;}\nfunction parserNeeded(workspace,uri,callback,once){var tab=workspace.qs(\"#editor-needed\").execute({dontBringToFront:true,resource:{uri:uri}});var parser=tab.qs(\":root\");if(parser&&(parser=parser.vars(\"parser\"))){callback(parser);}else{tab[!once?\"on\":\"once\"](\"resource-rendered\",function(){parserNeeded(workspace,uri,callback,once);});}}\nvar xsTypes={};[\"ID\",\"anyType\",\"anyURI\",\"boolean\",\"complexContent/extension\",\"date\",\"dateTime\",\"decimal\",\"double\",\"duration\",\"integer\",\"nonNegativeInteger\",\"positiveInteger\",\"string\",\"time\",\"xs:anyURI\",\"xs:boolean\",\"xs:dateTime\",\"xs:decimal\",\"xs:double\",\"xs:duration\",\"xs:integer\",\"xs:string\"].map(_=>(xsTypes[_]={xstype:_}));[[\"devtools/Editor<xml>\"],{handlers:{\"loaded\":function(){var tab=this.up(\"vcl/ui/Tab\"),scope=this.scope();tab.on(\"resource-loaded\",function(){scope.render.setTimeout(\"execute\",500);});},\"#elements onDblClick\":onDblClick,\"#complexTypes onDblClick\":onDblClick,\"#simpleTypes onDblClick\":onDblClick,\"#attributes onDblClick\":onDblClick,\"#imports onDblClick\":function(evt){var action=this.up(\"devtools/Workspace<>\").down(\"#editor-needed\");var me=this;evt=evt||{};this.getSelection(true).forEach(function(imp){var uri=resolveUri(imp['@_schemaLocation'],me);var tab=action.execute({dontBringToFront:evt.altKey!==false,selected:evt.altKey===true,resource:{uri:uri}});var root=tab._control.down(\":root\");if(!root){me.up(\"devtools/Workspace<>\").down(\"devtools/OpenTabs<>\").dispatch(\"activate\",{});}});},\"#search-input onChange\":function(){var me=this,scope=me.scope();function filter(object){var values=me.getInputValue().toLowerCase().trim().split(\" \");var or=values.some(function(value){return Object.keys(object).some(function(key){return(\"\"+object[key]).toLowerCase().indexOf(value)!==-1;});});var and=values.every(function(value){return Object.keys(object).some(function(key){return(\"\"+object[key]).toLowerCase().indexOf(value)!==-1;});});return!and;}\nthis.setTimeout(\"change\",function(){var value=me.getInputValue();scope.stypes.setOnFilterObject(!value.length?null:filter);scope.ctypes.setOnFilterObject(!value.length?null:filter);scope.elems.setOnFilterObject(!value.length?null:filter);scope.attrs.setOnFilterObject(!value.length?null:filter);scope.stars.setOnFilterObject(!value.length?null:filter);},200);}}},[[(\"#render\"),{onExecute(){var r=this.inherited(arguments);var app=this.app(),scope=this.scope(),me=this;var resource=this.vars([\"resource\",true]);var workspace=this.up(\"devtools/Workspace<>:root\");var schema_id=resource.uri.split(\"/\").splice(2).join(\"/\");var root=this.vars([\"root\"]),schema,ns_prefix;XS_NAMESPACE_PREFIXES.some(function(prefix){ns_prefix=prefix;schema=root[ns_prefix+\"schema\"];return root.hasOwnProperty(prefix+\"schema\");});var xmlns={};schema&&Object.keys(schema).forEach(function(key){if(key.indexOf('@_xmlns:')===0){xmlns[key.split(\":\").pop()]=schema[key];if(schema['@_targetNamespace']===schema[key]){xmlns['']=key.split(\":\").pop();}}});var parser={root:root,xmlns:xmlns,schema:schema_id,ns_prefix:ns_prefix,included_stypes:[],included_ctypes:[],included_elems:[],included_groups:[],included_imps:[],included_attrs:[],included_agroups:[],stamp:function(xsel){if(!js.get(at__+\".parser\",xsel)){js.set(at__+\".parser\",this,xsel);}\nif(!js.get(at__+\".schema\",xsel)){js.set(at__+\".schema\",schema_id,xsel);}\nif(!js.get(at__+\".xmlns\",xsel)){js.set(at__+\".xmlns\",xmlns[''],xsel);}},stars:[],imps:xsArray(\"import\",schema).concat(xsArray(\"schema.include\",root).map(function(include){include['@_namespace']=schema['@_targetNamespace'];js.set(at__+\".include\",true,include);return include;})),attrs:xsArray(\"attribute\",schema),elems:xsArray(\"element\",schema),ctypes:xsArray(\"complexType\",schema),stypes:xsArray(\"simpleType\",schema),groups:xsArray(\"group\",schema),agroups:xsArray(\"attributeGroup\",schema),elems_map:workspace.vars(\"devtools/Editor<xsd>/elems_map\",false,{}),attrs_map:workspace.vars(\"devtools/Editor<xsd>/attrs_map\",false,{}),ctypes_map:workspace.vars(\"devtools/Editor<xsd>/ctypes_map\",false,{}),stypes_map:workspace.vars(\"devtools/Editor<xsd>/stypes_map\",false,{}),groups_map:workspace.vars(\"devtools/Editor<xsd>/groups_map\",false,{}),agroups_map:workspace.vars(\"devtools/Editor<xsd>/agroups_map\",false,{}),log:function(elem,msg){if(msg instanceof Array){scope.console.print(msg[0],msg.splice(1));}else{scope.console.print(msg,elem);}\n(elem[at__].messages=elem[at__].messages||[]).push(msg);},parse:function(){this.stypes.forEach(this.parseSimpleType,this);this.ctypes.forEach(this.parseComplexType,this);this.agroups.forEach(this.parseAttributeGroup,this);this.groups.forEach(this.parseGroup,this);this.imps.forEach(this.parseImport,this);this.attrs.forEach(this.parseAttribute,this);this.elems.forEach(this.parseElement,this);this.elems.forEach(function(elem){var at=elem[at__];for(var k in at.features){var feature=at.features[k];this.stars.push({xmlns:at.xmlns,namespace:feature.namespace,namespace_type:feature.namespace_type,name:k,element:elem['@_name'],kind:feature.kind,type:feature.type,schema:at.schema,feature:feature,attribute:feature});}},this);this.ctypes.forEach(function(ctype){var at=ctype[at__];for(var k in at.features){var feature=at.features[k];this.stars.push({xmlns:at.xmlns,namespace:feature.namespace,namespace_type:feature.namespace_type,name:k,complexType:ctype['@_name'],kind:feature.kind,type:feature.type,schema:at.schema,feature:feature,attribute:feature});}},this);},findType:function(name){return this.ctypes_map[name]||this.stypes_map[name]||xsTypes[name];},findGroup:function(name){return this.groups_map[name];},findAttributeGroup:function(name){return this.agroups_map[name];},findElement:function(name){return this.elems_map[name];},parseImport:function(xselem){this.stamp(xselem);var uri=resolveUri(xselem['@_schemaLocation'],me);xselem[at__].uri=uri;this.inheritImport(xselem,uri,parser);},parseSimpleType:function(xselem,i){this.stypes_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);},parseAttributeGroup:function(xselem,i){this.agroups_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);this.inheritAttributeGroup(xselem,xselem,xselem['@_name']);this.stamp(xselem);this.inheritAttributeGroup(xselem,xselem,\"root\");},parseGroup:function(xselem,i){this.groups_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);this.inheritGroup(xselem,xselem,xselem['@_name']);this.stamp(xselem);this.inheritGroup(xselem,xselem,\"root\");},parseComplexType:function(xselem,i){this.ctypes_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);this.inheritType(xselem,xselem,xselem['@_name']);},parseElement:function(xselem,i){this.elems_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);var base,type,ref;if(xselem['@_base']){throw new Error(\"Unexpected\");}else if(xselem['@_type']){if((type=this.findType(xselem['@_type']))){js.set(at__+\".type-resolved\",type,xselem);this.inheritType(xselem,type,xselem['@_type']);}else{this.log(xselem,sf(\"@_type %s not found (291)\",xselem['@_type']));}}else if(xselem[sf(\"%scomplexType\",ns_prefix)]){this.inheritType(xselem,xselem[sf(\"%scomplexType\",ns_prefix)],\"inline?\");}else{me.print(\"parseElement.notHandled\",xselem);}},parseAttribute:function(xselem,i){this.attrs_map[xmlns['']+\":\"+xselem['@_name']]=xselem;this.stamp(xselem);this.inheritAttribute(xselem,xselem,\"root\");},inheritImport:function(xselem,uri,parser){if(js.get(at__+\".include\",xselem)===true){[\"stypes\",\"ctypes\",\"groups\",\"elems\",\"attrs\"].map(function(key){this[\"included_\"+key][uri]=[].concat(parser[key]);},this);me.up().setTimeout(\"refresh\",function(){this.reflect();}.bind(this),200);}},inheritType:function(xselem,xstype,xstype_name,as_base){var base,ref;if(xstype['@_base']){if((base=this.findType(xstype['@_base']))){js.set(at__+\".base-resolved\",base,xstype);this.inheritType(xselem,base,xstype_name);}else{this.log(xselem,sf(\"@_base %s not found\",xstype['@_base']));}}\nif(xstype['@_ref']){console.log(\"inheritType.@_ref\",xselem,xstype);}\nif(xstype['@_substitutionGroup']){console.log(\"inheritType.@_substitutionGroup\",xselem,xstype);}\nxsArray(\"simpleContent.extension\",xstype).map(function(xsext,i){this.stamp(xsext);this.inheritType(xselem,xsext,\"simpleContent/extension\");},this);xsArray(\"complexContent.extension\",xstype).map(function(xsext,i){this.stamp(xsext);this.inheritType(xselem,xsext,\"complexContent/extension\");},this);xsArray(\"attribute\",xstype).map(function(xsattr,i){this.stamp(xsattr);this.inheritAttribute(xselem,xsattr,xstype_name);},this);xsArray(\"attributeGroup\",xstype).map(function(xsattributegroup,i){this.stamp(xsattributegroup);this.inheritAttributeGroup(xselem,xsattributegroup,xstype_name);},this);xsArray(\"sequence.group\",xstype).map(function(xsgroup,i){this.stamp(xsgroup);this.inheritGroup(xselem,xsgroup,xstype_name);},this);xsArray(\"sequence.attributeGroup\",xstype).map(function(xsattributegroup,i){this.stamp(xsattributegroup);this.inheritAttributeGroup(xselem,xsattributegroup,xstype_name);},this);xsArray(\"sequence.element\",xstype).map(function(xsel,i){this.stamp(xsel);this.inheritElement(xselem,xsel,xsel['@_type']||xsel['@_name']);},this);xsArray(\"choice.element\",xstype).map(function(xsel,i){this.stamp(xsel);this.inheritElement(xselem,xsel,xsel['@_type']);},this);xsArray(\"sequence.sequence.element\",xstype).map(function(xsel,i){this.stamp(xsel);this.inheritElement(xselem,xsel,xsel['@_type']);},this);},inheritAttribute:function(xselem,xsattribute,xsattribute_name){var ref=xsattribute['@_ref'],type;var name=xsattribute['@_name']||ref;if(ref){if(!(type=this.attrs_map[ref])){this.log(xselem,sf(\"@_ref %s not found\",ref));}}else if(xsattribute.xs){this.log(xselem,\">>> xsattribute.xs\")\nif((type=js_getXs(\"%scomplexType.%ssimpleContent.%srestriction.@_base\",xsattribute))){}\nthis.log(xselem,[\"not understood\",xsattribute,xsattribute_name]);}else{if(!(type=this.findType(xsattribute['@_type']||xsattribute_name))){this.log(xselem,sf(\"@_type .%s. not found (380)\",xsattribute['@_type']||xsattribute_name));}}\nvar info,x;js.set(at__+\".features.\"+name,(info={namespace:xsattribute[at__].xmlns,reference:!!ref,kind:\"attribute\",type:ref||xsattribute['@_type']||xsattribute_name,'type-resolved':type,cardinality:[typeof(x=xsattribute['@_minOccurs'])===\"number\"?x:x||1,typeof(x=xsattribute['@_maxOccurs'])===\"number\"?x:x||1].join(\"-\"),xs:xsattribute}),xselem);if(info['type-resolved']){info.namespace_type=js.get(sf(\"type-resolved.%s.xmlns\",at__),info);}},inheritElement:function(xselem,xsel,xsel_name){var ref=xsel['@_ref'],name=xsel['@_name']||ref;var info={namespace:xsel[at__].xmlns,kind:\"element\",type:xsel_name,cardinality:[typeof(x=xsel['@_minOccurs'])===\"number\"?x:x||1,typeof(x=xsel['@_maxOccurs'])===\"number\"?x:x||1].join(\"-\"),xs:xsel};if(ref){info.type=ref;info.reference=true;if(!(info['type-resolved']=this.elems_map[ref])){this.log(xselem,sf(\"@_ref %s not found\",ref));}}else if((type=js_getXs(\"%scomplexType\",xsel))){if((ref=js_getXs(\"%scomplexType.%ssequence.%selement.@_ref\",xsel))){if(!type['@_name'])type['@_name']=js.sf(\"autogen_%s\",xsel_name);this.log(xselem,info['type-resolved']=this.parseComplexType(type,-1)||type);}else if((ref=js_getXs(\"%scomplexType.%ssimpleContent.%srestriction\",xsel))){if(!type['@_name'])type['@_name']=js.sf(\"autogen_%s\",xsel_name);this.log(xselem,info['type-resolved']=this.parseComplexType(ref,-1)||ref);}}else if(!(info['type-resolved']=this.findType(info.type))){this.log(xselem,sf(\"type %s not found (415)\",info.type||name));}\nif(info['type-resolved']){info.namespace_type=js.get(sf(\"type-resolved.%s.xmlns\",at__),info);}\njs.set(at__+\".features.\"+name,info,xselem);},inheritGroup:function(xselem,xsgroup,xsgroup_name){var ref;if(xsgroup['@_ref']){if((ref=this.findGroup(xsgroup['@_ref']))){js.set(at__+\".ref-resolved\",ref,xsgroup);this.inheritType(xselem,ref,xsgroup['@_ref']);}else{this.log(xselem,sf(\"@_ref %s not found\",xsgroup['@_ref']));}}},inheritAttributeGroup:function(xselem,xsattributegroup,xsattributegroup_name){var ref;if((ref=xsattributegroup['@_ref'])){if((ref=this.findAttributeGroup(ref))){js.set(at__+\".ref-resolved\",ref,xsattributegroup);this.inheritAttributeGroup(xselem,ref,xsattributegroup['@_ref']);}else{this.log(xselem,sf(\"@_ref %s not found\",xsattributegroup['@_ref']));}}\nxsArray(\"attributeGroup\",xsattributegroup).map(function(xsattrgroup,i){this.stamp(xsattrgroup);this.inheritAttributeGroup(xselem,xsattrgroup,xsattrgroup['@ref']);},this);[\"\",\"xs:\",\"xsd:\"].map(function(ns_prefix){xsArray(\"attribute\",xsattributegroup).map(function(xsattr,i){this.stamp(xsattr);this.inheritAttribute(xselem,xsattr,xsattr['@_name']);},this);},this);},reflect:function(){var me=this;function sort_name(i1,i2){return i1['@_name']<i2['@_name']?-1:1;}\n[\"stypes\",\"ctypes\",\"groups\",\"agroups\",\"elems\",\"attrs\",\"stars\"].map(function(key){var included=[];for(var k in me[\"included_\"+key]){included=included.concat(me[\"included_\"+key][k]);}\nscope[key].setArray(me[key].concat(included).sort(sort_name));});scope.imps.setArray(this.imps);}};parser.parse();parser.reflect();var sorted=[].concat(scope.elements._columns).sort(function(c1,c2){return c1._attribute<c2._attribute?-1:1;});scope.elements._columns.forEach(function(col){col.setIndex(sorted.indexOf(col));});scope.console.print(\"parser\",parser);this.up(\":root\").vars(\"parser\",parser);this.up(\"vcl/ui/Tab\").emit(\"resource-rendered\",[this]);return r;}}],[(\"vcl/data/Array\"),\"imps\"],[(\"vcl/data/Array\"),\"stars\"],[(\"vcl/data/Array\"),\"attrs\"],[(\"vcl/data/Array\"),\"groups\"],[(\"vcl/data/Array\"),\"agroups\"],[(\"vcl/data/Array\"),\"elems\"],[(\"vcl/data/Array\"),\"ctypes\"],[(\"vcl/data/Array\"),\"stypes\"],[(\"#output\"),[[(\"vcl/ui/Bar\"),[[\"vcl/ui/Input\",\"search-input\",{classes:\"search-top\"}]]],[(\"#details-tabs\"),[[\"vcl/ui/Tab\",{text:locale(\"-/Import.plural\"),control:\"imports\"}],[\"vcl/ui/Tab\",{text:\"*\"||locale(\"-/Star.symbol\"),control:\"allstars\"}],[\"vcl/ui/Tab\",{text:locale(\"-/Attribute.plural\"),control:\"attributes\"}],[\"vcl/ui/Tab\",{text:locale(\"-/Element.plural\"),control:\"elements\"}],[\"vcl/ui/Tab\",{text:locale(\"-/ComplexType.plural\"),control:\"complexTypes\"}],[\"vcl/ui/Tab\",{text:locale(\"-/Group.plural\"),control:\"groupsl\"}],[\"vcl/ui/Tab\",{text:locale(\"-/SimpleType.plural\"),control:\"simpleTypes\"}],[\"vcl/ui/Tab\",{text:locale(\"-/AttributeGroup.plural\"),control:\"attributeGroups\"}]]],[(\"#console\"),{visible:false}],[\"vcl/ui/List\",(\"imports\"),{autoColumns:true,source:\"imps\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"allstars\"),{autoColumns:true,source:\"stars\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"attributes\"),{autoColumns:true,source:\"attrs\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"elements\"),{autoColumns:true,source:\"elems\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"complexTypes\"),{autoColumns:true,source:\"ctypes\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"groupsl\"),{autoColumns:true,source:\"groups\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"attributeGroups\"),{autoColumns:true,source:\"agroups\",visible:false,onDblClick:onDblClick}],[\"vcl/ui/List\",(\"simpleTypes\"),{autoColumns:true,source:\"stypes\",visible:false,onDblClick:onDblClick}]]]]];");
define("text!vcl-comps/devtools/Main$/code.js", "\"use blocks\";[\"\",{vars:{\"default-workspaces\":[{\"name\":\"⌘1\",\"selected\":true,\"vars\":{\"#navigator favorites\":[\".md;.md;File\"]},\"state\":{\"left-sidebar.visible\":false,\"editors\":[{\"selected\":true,\"resource\":{\"uri\":\".md\",\"type\":\"File\"}}]}},{\"name\":\"⌘2\",\"state\":{\"editors\":[{\"selected\":true,\"resource\":{\"uri\":\"README.md\",\"type\":\"File\"}},{\"resource\":{\"uri\":\".js\",\"type\":\"File\"}},{\"resource\":{\"uri\":\".blocks\",\"type\":\"File\"}}]}},{name:\"⌘3\"},{name:\"⌘4\"}]}},[]];");
define("text!vcl-comps/devtools/Workspace$/code.js", "\"use js\";[\"\",{vars:{\"#navigator home\":\"Workspaces/cavalion.org/cavalion-code\",\"#navigator favorites\":[\"Workspaces/cavalion.org/cavalion-code/src;src\",\"Workspaces/cavalion.org/cavalion-code/.md;.md;File\",]}}];");
define("text!vcl-comps/devtools/Editor$/js.js", "[\"\",{onLoad(){var ace=this.down(\"#ace\"),firstRun=false;ace.up().readStorage(\"ace\",function(state){firstRun=state===undefined;});this.up(\"vcl/ui/Tab\").once(\"resource-loaded\",()=>{if(firstRun===true){var editor=ace.getEditor();editor.execCommand(\"foldall\");var fold=editor.session.getAllFolds()[0];fold&&editor.session.expandFold(fold);}});return this.inherited(arguments);}}];");
define("text!vcl-comps/devtools/Workspace$/vcl.js", "$([\"devtools/Workspace\"],{vars:{\"#navigator favorites\":[\"Workspaces/cavalion.org/cavalion-js/src\",\"Workspaces/cavalion.org/cavalion-vcl/src\",\"Workspaces/cavalion.org/cavalion-vcl/.md;vcl/.md;File\"]},handlers:{\"loaded\":function(){}}});");
define("text!vcl-comps/devtools/Workspace$/blocks.js", "\"use devtools/Resources-dropbox\";[\"\",{onLoad(){const host=this.qs(\"#host\");let uri=host.vars(\"uri\");if(!uri){const spec=this.getSpecializer().split(\":\");if(spec.length>1){uri=spec.pop();if(uri.endsWith(\"/\")){uri+=\".blocks\";}else{uri+=\".js\";}\nif(uri.startsWith(\"/\")){uri=\"$HOME\"+uri;this.setTimeout(\".md\",()=>this.open(js.up(uri.substring(6))+\"/.md\"),500);}else if(uri.startsWith(\"./\")){console.warn(\"TODO\");}\nhost.vars(\"uri\",uri);}else{this.qs(\"#editors-visible\").toggle();this.qs(\"#viewer-visible\").toggle();host.hide();}}\nuri&&app.toast({content:uri,classes:\"glassy fade centered\"});return this.inherited(arguments);},},[[\"vcl/Action\",(\"editors-visible\"),{state:false,visible:\"state\",on(){this.toggle();},hotkey:\"Alt+Cmd+F1\"}],[\"vcl/Action\",(\"viewer-visible\"),{parent:\"editors-visible\",state:\"parent\",visible:\"notState\"}],[\"#editors\",{action:\"editors-visible\",executesAction:false}],[\"#left-sidebar\",{action:\"editors-visible\",executesAction:false}],[[\"cavalion-blocks\"],(\"host\"),{action:\"viewer-visible\",executesAction:false}]]];");
define("text!vcl-comps/App$/code.js", "\"use js\";[[\"devtools/App<>\"]];");
define("text!vcl-comps/App$/bxv.js", "\"use locale\";require(\"locale\").mixIn({});[[\"devtools/App<veldoffice>\"],{title:\"BXV\",vars:{\"markdown-source-intially-hidden\":true}},[]];");
define("text!vcl-comps/devtools/Main$/bxv.js", "\"\";[\"\",{overrides:{},vars:{\"default-workspaces\":[{name:\"✪\",vars:{\"#navigator favorites\":[\"Dropbox-veldapps/BXV/.md;.md;File\"]},state:{\"left-sidebar.visible\":false,\"editors\":[{\"selected\":true,\"resource\":{\"uri\":\"Dropbox-veldapps/BXV/.md\",\"type\":\"File\"}}]},onTabRender(){this.addClass(\"star\");this.set(\"onRender\",null);}},{\"name\":\"Start\",\"selected\":true,\"vars\":{\"#navigator favorites\":[\"Dropbox-veldapps/BXV/Start/.md;.md;File\"]},\"state\":{\"left-sidebar.visible\":false,\"editors\":[{\"selected\":true,\"resource\":{\"uri\":\"Dropbox-veldapps/BXV/Start/.md\",\"type\":\"File\"}}]}},{\"name\":\"Kaart\",\"specializer\":\"cavalion-blocks:Dropbox-veldapps/Issues/VA-20220501-1-Map/Map\"},{\"name\":\"Documenten\",\"vars\":{\"#navigator favorites\":[\"Dropbox-veldapps/Issues/VA-20230903-1-Docs/.md;.md;File\"]}}]}},[[(\"#title\"),{classes:\"smdl\"}]]];");
define("text!vcl-comps/devtools/Workspace$/cavalion-blocks.js", "\"use blocks\";[\"\",{onLoad(){const spec=this.getSpecializer().split(\":\").pop();app.toast({content:spec,classes:\"glassy fade centered\"});this.scope().host.vars(\"uri\",\"$HOME/\"+spec+\".js\");this.setTimeout(\".md\",()=>this.open(js.up(spec)+\"/.md\"),500);return this.inherited(arguments);}},[[\"vcl/Action\",(\"editors-visible\"),{state:false,visible:\"state\",on(){this.toggle();},hotkey:\"Alt+Cmd+F1\"}],[\"vcl/Action\",(\"viewer-visible\"),{parent:\"editors-visible\",state:\"parent\",visible:\"notState\"}],[\"#editors\",{action:\"editors-visible\",executesAction:false}],[\"#left-sidebar\",{action:\"editors-visible\",executesAction:false}],[[\"cavalion-blocks\"],(\"host\"),{action:\"viewer-visible\",executesAction:false}]]];");
define("text!vcl/prototypes/cavalion-blocks.js", "\"use B\";[\"vcl/ui/Panel\",{align:\"client\",onNodeCreated(){var uri=this.vars(\"uri\")||js.sf(\"%s<%s>\",this.getSpecializer(),this.vars(\"specializer\")||this._name);var onLoad=this.vars(\"onLoad\");require(\"B\").instantiate(uri,{owner:this}).then(_=>{_.setParent(this);if(onLoad){onLoad.apply(this,[_]);}});}}];");
define("text!cavalion-blocks/veldapps/Map.js", "\"use veldapps-ol/Map-default, veldapps-ol/Map-klic, veldapps-ol/Map-bro, veldapps-ol/proj/RD\";var RD=require(\"veldapps-ol/proj/RD\");var default_layers=require(\"veldapps-ol/Map-default\");var klic_layers=require(\"veldapps-ol/Map-klic\");var bro_layers=require(\"veldapps-ol/Map-bro\");[[\"veldapps/OpenLayers<PDOK-v2>\",\"devtools/OpenLayers<Documents>\"],{css:{\"\":\"background-color: #f0f0f0;\",\".ol-scale-line\":{\"background\":\"rgba(155,155,155,0.45)\",\"left\":\"32px\",\"bottom\":\"32px\",\"padding\":\"8px 8px 4px 8px\"},\".ol-scale-line-inner\":{\"color\":\"black\",\"font-size\":\"9pt\",\"font-family\":\"Lucida Grande, Arial, sans-serif\",\"border-color\":\"black\",\"border-bottom-left-radius\":\"3px\",\"border-bottom-right-radius\":\"3px\"},\".glassy-overlay\":{\"\":\"pointer-events: none;\",\">.{./Element}\":\"pointer-events: auto;\",},'#root-layers .{Node} .icon':\"padding-top: 6px;\"},vars:{layers:[[(\"ol:layer.Group\"),{treeLayers:[].concat(default_layers).concat(klic_layers).concat(bro_layers)}],[(\"ol:layer.Vector\"),{source:[\"ol:source.Vector\",{features:[]}]}]],view:[(\"ol:View\"),{minZoom:0,maxZoom:20,projection:RD.projection,center:[150000,450000],zoom:3}]},handlers:{mapready(map){this.setTimeout(\"update\",()=>this.getNode().qsa(\".ol-scale-line\").forEach(node=>node.className+=\" floating rounded blurred with-shadow animate-width\"),250);}}},[[\"veldapps/Features<imsikb0101>\"],[\"veldapps/Features<imbro>\"],[\"veldapps/Features<itwbm>\"],]];");
define("text!blocks/prototypes/Node.js", "\"use strict\";[\"vcl-ui:Node\",{},[]];");
define("text!cavalion-blocks/veldapps/OpenLayers<>/PDOK-v2.js", "\"use v7/pdok/themes, veldapps-ol/proj/RD\";var RD=require(\"veldapps-ol/proj/RD\");var themes=require(\"v7/pdok/themes\");[(\"\"),{vars:{layers:[[(\"ol:layer.Group\"),{}],[(\"ol:layer.Vector\"),{source:[\"ol:source.Vector\",{features:[]}]}]],view:[(\"ol:View\"),{minZoom:0,maxZoom:20,projection:RD.projection,center:[150000,450000],zoom:3}]},handlers:{'map:ready'(){var layer_needed=this.down(\"#ol-layer-needed\");var map=this.vars([\"map\",true]);var node=this.down(\"#root-layers\");var layers=map.getLayers().getArray().filter(_=>_ instanceof ol.layer.Group).map(_=>_.get(\"treeLayers\")||_.get(\"pdokLayers\")).flat(2).filter(_=>_);map.getView().on(\"change:resolution\",()=>{node.setTimeout(\"render\",()=>{var r=map.getView().getResolution();node._controls.forEach((cnode)=>{var min=cnode.vars(\"layer.minResolution\");var max=cnode.vars(\"layer.maxResolution\");var invisible=(r<min||r>max);if(invisible!==cnode.hasClass(\"invisible-layer\")){cnode.toggleClass(\"invisible-layer\");}});},0);});layers.forEach(layer=>layer_needed.execute({layer:layer}));}}},[[(\"#tree\"),{},[[(\"Node\"),\"root-pdok-v2\",{css:{\".icon.icon\":\"width: 12px;\",\".text i.fa\":\"margin-left: 2px; margin-right: 6px;\"},classes:\"seperator\",text:\"<i class='fa fa-map-o'></i>\"+themes.uri,expanded:true,onLoad(){var tree=this.ud(\"devtools/Workspace<>:root\",\"#navigator #tree\");if(tree){var index=tree.vars([\"index\",true]);index[themes.uri]=themes['devtools/Navigator:index']();this.setParent(tree);}\nvar resource=this.vars([\"resource\"]);resource&&this.setText(js.sf(\"<i class='fa fa-map-o'></i>\",resource.name||resource.uri.split(\"/\").pop()));},onNodesNeeded(parent){var Node=require(\"vcl/ui/Node\");var owner=this._owner;var root,theme,dataset,service;var nodes=[];if(parent===this){themes.root.forEach(theme=>{nodes.push(new Node().setProperties({text:js.sf(\"%H (%d)\",theme.themeName,theme.datasets.length),vars:{theme:theme}}));});}else if((theme=parent.vars(\"theme\"))){theme.datasets.forEach(dataset=>{nodes.push(new Node().setProperties({text:js.sf(\"%H (%d)\",dataset.datasetName,dataset.services.length),vars:{dataset:dataset}}));});}else if((dataset=parent.vars(\"dataset\"))){dataset.services.forEach(service=>{nodes.push(new Node().setProperties({text:js.sf(\"%H [%H]\",service.title,service.type),vars:{service:service}}));});}else if((service=parent.vars(\"service\"))){service.layers.forEach(layer=>{nodes.push(new Node().setProperties({text:js.sf(\"%H\",layer.name),vars:{layer:layer}}));});}\nparent.beginLoading();try{nodes.sort((n1,n2)=>n1._text<n2._text).map(_=>_.setParent(parent));}finally{parent.endLoading();}},onDispatchChildEvent(component,name,evt,f,args){var layer;if(name===\"dblclick\"&&(layer=component.vars(\"layer\"))){this.ud(\"#ol-layer-needed\").execute({layer:layer});}}}]]]]];");
define("text!cavalion-blocks/devtools/OpenLayers<>/Documents.js", "\"use devtools/Resources\";var Node=require(\"vcl/ui/Node\");var Resources=require(\"devtools/Resources\");function Document_onNodesNeeded(parent){var resource=this.vars(\"resource\"),ln=this.ud(\"#ol-layer-needed\");Promise.resolve(resource.text?resource:Resources.get(resource.uri)).then(resource=>parent.app().qsa(\"#ol-sources-needed\").execute({resource:resource}).flat().forEach(source=>{ln.execute({parent:parent,layer:{name:source.get(\"name\")||resource.name||(resource.uri||\"\").split(\"/\").pop(),source:source}});}));}\nfunction isResourceSupported(resource){if(!resource)return false;var uri=(resource.uri||\"\").toLowerCase();return uri.endsWith(\".xml\")||uri.endsWith(\".geojson\")||uri.endsWith(\".topojson\")||uri.endsWith(\"-itwbm.json\");}\n[(\"\"),{onActivate(){this.down(\"#root-documents\").update(true);return this.inherited(arguments);}},[[(\"#tree\"),{css:{\".{Node} .icon\":\"vertical-align: top; padding-top: 2px;\"},},[[(\"Node\"),\"root-documents\",{text:locale(\"OpenLayers-documents\"),expandable:true,expanded:true,index:0,onLoad(){this.app().qs(\"devtools/DragDropHandler<>\").on(\"dropped\",(evt)=>{const files=evt.files;if(this._childNodesLoaded===false){return this.reloadChildNodes(()=>this.setExpanded(true));}\nconst parent=this,owner=this.up();const uris=this.getControls().map(c=>c.vars(\"resource.uri\"));const dropped=this.app().qs(\"devtools/DragDropHandler<>\").vars(\"dropped\").map(d=>d.files).flat().map((f,i)=>js.sf(\"dropped://%d/%s\",i,f.name));parent.beginLoading();try{dropped.filter(uri=>!uris.includes(uri)).map(uri=>new Node({text:uri.split(\"/\").pop(),expandable:true,parent:parent,owner:owner,onNodesNeeded(parent){return parent===this&&Document_onNodesNeeded.apply(this,arguments);},vars:{resource:{uri:uri,type:\"File\"}}})).forEach(node=>this.nextTick(()=>node.childNodesNeeded()));}finally{parent.endLoading();}});},onNodeCreated(){this.setTimeout(()=>this.setExpanded(false),200);},onKeyDown(evt){if(evt.keyCode===evt.KEY_F5){this.reloadChildNodes(()=>this.setExpanded(true));}},onNodesNeeded(parent){var dropped=this.app().qs(\"devtools/DragDropHandler<>\").vars(\"dropped\").map(d=>d.files).flat().map((f,i)=>({uri:js.sf(\"dropped://%d/%s\",i,f.name),type:\"File\"}));var resources=this.vars(\"resources\",this.app().qsa(\"*\").filter(c=>isResourceSupported(c.vars(\"resource\"))).filter(c=>c instanceof require(\"vcl/ui/Tab\")).map(c=>c.vars(\"resource\")));var owner=this.up();resources=dropped.concat(resources.filter((r,i,a)=>a.indexOf(r)===i));parent.beginLoading();try{resources.forEach(resource=>new Node({text:resource.name||(resource.uri||\"\").split(\"/\").pop(),type:\"File\",expandable:true,parent:parent,owner:owner,onNodesNeeded:function(parent){return parent===this&&Document_onNodesNeeded.apply(this,arguments);},vars:{resource:resource}}));}finally{parent.endLoading();}}}]]],[\"#root-layers\",{classes:\"root-invisible\",expanded:true}]]];");
define("text!cavalion-blocks/veldapps/Features<>/imsikb0101.js", "\"use fast-xml-parser, xml-funcs, proj4, veldapps-imsikb/util, ../_\";var Parser=require(\"fast-xml-parser\");var Xml=require(\"xml-funcs\");var proj4=require(\"proj4\");var util=require(\"veldapps-imsikb/util\");var _=require(\"../_\");_.Features.registerFormatMatcher(function(evt,resource,ext,uri,text){if(ext===\"xml\"){var version=((text.match(/<metainformatie[^>]*/)||{})[0]||\"\").split(\"versie=\").pop().split(\"\\\"\")[1]||(text.match(/:version>[\\d.]*/)[0].split(\">\").pop());var exec=this.ud(\"#ol-sources-needed-sikb-\"+version.split(\".\")[0]);if(exec){return exec.execute(evt);}}});[(\"\"),[[\"Executable\",(\"ol-sources-needed-sikb-8\"),{on(evt){return this.ud(\"#ol-sources-needed-sikb-9\").execute(evt);}}],[\"Executable\",(\"ol-sources-needed-sikb-9\"),{on(evt){var root=Parser.parse(evt.resource.text,{ignoreAttributes:false});var features=[];var all={features:features,locaties:[],onderzoeken:[],meetpunten:[]};require(\"veldapps-imsikb/util\").parse(root);Array.as(js.get(\"bodeminformatie.locatie\",root)||[]).forEach(locatie=>{var points=js.get(\"geoobject.polygon.part.point\",locatie);if(points){all.locaties.push(locatie);features.push(new ol.Feature({'sikb:Locatie':locatie,geometry:new ol.geom.Polygon(points.map(point=>[parseFloat(point['@_xcoord']),parseFloat(point['@_ycoord'])]))}));}\nArray.as(js.get(\"onderzoek\",locatie)||[]).forEach(onderzoek=>{points=js.get(\"geoobject.polygon.part.point\",onderzoek);if(points){all.onderzoeken.push(onderzoek);features.push(new ol.Feature({'sikb:Onderzoek':onderzoek,geometry:new ol.geom.Polygon(points.map(point=>[parseFloat(point['@_xcoord']),parseFloat(point['@_ycoord'])]))}));}\nArray.as(js.get(\"meetpunt\",onderzoek)||[]).forEach(meetpunt=>{if(meetpunt.point){var pt=[parseFloat(meetpunt.point['@_xcoord']),parseFloat(meetpunt.point['@_ycoord'])];all.meetpunten.push(meetpunt);features.push(new ol.Feature({'sikb:Meetpunt':meetpunt,geometry:new ol.geom.Point(pt)}));}});});});this.print(all);return all.features;}}],[\"Executable\",(\"ol-sources-needed-sikb-10\"),{on(evt){return this.ud(\"#ol-sources-needed-sikb-9\").execute(evt);}}],[\"Executable\",(\"ol-sources-needed-sikb-11\"),{on(evt){return this.ud(\"#ol-sources-needed-sikb-12\").execute(evt);}}],[\"Executable\",(\"ol-sources-needed-sikb-12\"),{on(evt){var root=Parser.parse(evt.resource.text,{ignoreAttributes:false});util.parse(root);var features=Xml.gml(root);var propPath=[\"imsikb0101:geometry\",\"gml:Polygon\",\"gml:exterior\",\"gml:LinearRing\",\"gml:posList\"];var proj=this.vars([\"projection\",true])||\"EPSG:28992\";var me=this;var projects=(Array.as(features['imsikb0101:Project'])||[]).filter(project=>project.hasOwnProperty(\"imsikb0101:geometry\")).filter(project=>js.get(propPath,project)).map(project=>{var posList=js.get(propPath,project);if(posList['#text'])posList=posList['#text'];posList=posList.split(\" \").map(f=>parseFloat(f));var coords=[];while(posList.length){coords.push([posList.shift(),posList.shift()]);}\nreturn new ol.Feature({geometry:new ol.geom.Polygon([coords]),'imsikb0101:Project':project});});propPath=[\"immetingen:geometry\",\"gml:Point\",\"gml:pos\",\"#text\"];var boreholes=(Array.as(features['imsikb0101:Borehole'])||[]).filter(borehole=>js.get(propPath,borehole)||js.get(propPath.slice(0,3),borehole)).map(borehole=>{var srsName=js.get([\"immetingen:geometry\",\"gml:Point\",\"@_srsName\"],borehole)||\"\";var pt=(js.get(propPath,borehole)||js.get(propPath.slice(0,3),borehole)).split(\" \").map(_=>parseFloat(_));var ft=new ol.Feature({'imsikb0101:Borehole':borehole,geometry:new ol.geom.Point(srsName.includes(\"28992\")?pt:proj4(\"EPSG:4326\",proj,pt))});return ft;});this.print({evt:evt,root:root,input:features,output:{projects:projects,boreholes:boreholes}});return projects.concat(boreholes);}}],[\"Executable\",(\"ol-sources-needed-sikb-13\"),{on(evt){return this.ud(\"#ol-sources-needed-sikb-12\").execute(evt);}}],[\"Executable\",(\"ol-sources-needed-sikb-14\"),{on(evt){return this.ud(\"#ol-sources-needed-sikb-12\").execute(evt);}}]]];");
define("text!cavalion-blocks/veldapps/Features<>/imbro.js", "\"use ../_, veldapps-xml/index, veldapps-imbro/util, ol\";var Xml=require(\"veldapps-xml/index\");var _=require(\"../_\");var ol=require(\"ol\");_.Features.registerFormatMatcher(function(evt,resource,ext,uri,text){if(ext===\"xml\"){var header=text.match(/<registrationRequest/),flavor;if(header&&header.length>0){if(header[0].indexOf(\"xsd/isbhr-gt/1.0\")!==-1){flavor=\"bhr-gt\";}}\nif(flavor){var exec=this.ud(\"#ol-sources-needed-imbro-\"+flavor);if(exec){return exec.execute(evt);}}}});var gml2ol=(gml_feature,opts)=>{var r=(new ol.format.GeoJSON()).readFeatures(Xml.gml2geojson(gml_feature));console.log(\"gml2ol\",gml_feature,r);return r;};[(\"\"),[[\"Executable\",\"ol-sources-needed-imbro-bhr-gt\",{on(evt){var root=Xml.parse(evt.resource.text);var report=js.get(\"registrationRequest.sourceDocument\",root);if(report){var keys=Object.keys(report);if(keys.length===1&&keys[0].endsWith(\"Report_V1\")){report=js.get(keys[0],report);var intervals={layers:Array.as(js.get(\"boreholeSampleDescription.bhrgtcom:descriptiveBoreholeLog.bhrgtcom:layer\",report)||[]),bored:Array.as(js.get(\"boring.bhrgtcom:boredInterval\",report)||[]),sampled:Array.as(js.get(\"boring.bhrgtcom:sampledInterval\",report)||[])};var features=gml2ol(js.get(\"deliveredLocation.bhrgtcom:location\",report));features.forEach(ft=>{ft.set(\"bhrgt:\"+keys[0],report);ft.set(\"bhrgtcom:layer\",intervals.layers);ft.set(\"bhrgtcom:boredInterval\",intervals.bored);ft.set(\"bhrgtcom:sampledInterval\",intervals.sampled);});return features;}}}}]]];");
define("text!cavalion-blocks/veldapps/Features<>/itwbm.js", "\"use ../_\";var _=require(\"../_\");_.Features.registerFormatMatcher(function(evt,resource,ext,uri,text){if(uri.endsWith(\"-itwbm.json\")){return this.ud(\"#ol-sources-needed-itwbm\").execute(evt);}});[(\"\"),[[\"Executable\",(\"ol-sources-needed-itwbm\"),{on(evt){var itwbm=JSON.parse(evt.resource.text);var boreholes=itwbm.itwbmbo0.records.filter(borehole=>borehole.Xcoord&&borehole.Ycoord).map(borehole=>{var pt=[parseFloat(borehole.Xcoord),parseFloat(borehole.Ycoord)];var srsName=\"EPSG:28992\";var ft=new ol.Feature({geometry:new ol.geom.Point(srsName.includes(\"28992\")?pt:proj4(\"EPSG:4326\",proj,pt)),values:{'itwbm:borehole':borehole}});return ft;});this.print({evt:evt,input:itwbm,output:boreholes});return boreholes;}}]]];");
define("text!cavalion-blocks/veldapps/OpenLayers.js", "\"use ol, proj4, veldapps-ol/proj/RD, ./locales, ./_, veldapps-imsikb/util, util/HtmlElement\";const proj4=require(\"proj4\");const RD=require(\"veldapps-ol/proj/RD\");const HE=require(\"util/HtmlElement\");const _=require(\"./_\");const widthOf=(c)=>parseInt(c.getComputedStyle().width);const flyTo=(view,center,opts)=>{opts=opts||{};var duration=opts.duration||750;var done=opts.done||function(){};var zoom=view.getZoom();var parts=2;var called=false;function callback(complete){--parts;if(called){return;}\nif(parts===0||!complete){called=true;done(complete);}}\nview.animate({center:center,duration:duration,},callback);view.animate({zoom:zoom-1,duration:duration/2,},{zoom:opts.zoom||zoom,duration:duration/2,},callback);};const getFeatureName=(feature)=>{var props=feature.getProperties?feature.getProperties():feature;if(props.name)return props.name;return Object.keys(props).filter(name=>name.includes(\":\")).map(name=>js.nameOf(props[name])).filter(name=>name)[0]||js.nameOf(props);};function KLIC_onClick(evt){var node=this._node.down(\"input\");if(evt.target===node){var controls=this._parent._controls.filter(_=>_._node.down(\"input\").checked);var layer=this._parent.vars(\"ol\");var source=layer.get(\"source\");var params=source.getParams();params.LAYERS=controls.map(_=>_._vars.layer.definition.Name).join(\",\");params.STYLES=controls.map(_=>\"\").join(\",\");source.refresh();}else if(!evt.target.classList.contains(\"icon\")){node.click();}}\nfunction realign(obj){var this_height=parseInt(obj.getComputedStyle().height);var this_sheight=obj._node.scrollHeight;var parent_height=parseInt(obj._parent.getComputedStyle().height)-32;if(obj._align===\"none\"){if(this_height>parent_height){obj.print(\"left\",[this_height,parent_height].join(\",\"));obj.setAlign(\"left\");obj.setAutoPosition(\"\");}}else if(this_sheight<=parent_height){obj.print(\"none\",[this_sheight,parent_height].join(\",\"));obj.setAlign(\"none\");obj.setAutoPosition(\"all\");}}\nvar locale=require(\"./locales\").prefixed(\"OpenLayers\");[(\"vcl-ui:Form\"),{onActivate(){var map=this.vars(\"map\");map&&map.updateSize();},onNodeCreated(){var props={features:this.vars(\"features\")||[],resolutions:RD.resolutions,projection:RD.projection,extent:RD.extent,matrixIds:RD.matrixIds};this.nextTick(()=>{var map=ol.create([\"ol:Map\",{target:this.scope().host.getNode(),layers:this.vars(\"layers\"),view:this.vars(\"view\"),controls:this.vars(\"control\")||ol.control.defaults.defaults({attribution:false,zoom:false,}).extend([new ol.control.ScaleLine()])}],props);map.flyTo=(center,opts)=>flyTo(map.getView(),center,opts);var node=this.qs(\"#host\").getNode();node.qsa(\".ol-rotate\").forEach(node=>HE.addClass(node,\"glassy\"));node.qsa(\".ol-scale-line\").concat(node.qsa(\".ol-rotate\")).forEach(node=>{HE.addClasses(node,\"with-shadow\");});if(!this.vars(\"do-not-select\")){var select=new ol.interaction.Select({style:(feature,resolution)=>{var f=this.vars(\"styles.interaction.select\");return typeof f===\"function\"?f(feature,resolution):f;}});map.addInteraction(select);var selection=select.getFeatures();var dragBox=new ol.interaction.DragBox({condition:ol.events.condition.platformModifierKeyOnly});map.addInteraction(dragBox);dragBox.on('boxstart',(evt)=>{selection.clear();this.emit(\"map:boxstart\",[evt]);});dragBox.on(\"boxend\",(evt)=>{var rotation=map.getView().getRotation();var oblique=rotation%(Math.PI/2)!==0;var candidateFeatures=oblique?[]:selection;var extent=dragBox.getGeometry().getExtent();var tree=this.ud(\"#tree\");var sources=tree.qsa(\"< vcl/ui/Node\").filter(node=>node.vars(\"layer.source\")).filter(node=>(node=node.getNode().down(\"input\"))&&node.checked).map(node=>node.vars(\"layer.source\"));sources.forEach(source=>source.forEachFeatureIntersectingExtent(extent,feature=>{candidateFeatures.push(feature);}));if(oblique){var anchor=[0,0];var geometry=dragBox.getGeometry().clone();geometry.rotate(-rotation,anchor);var extent$1=geometry.getExtent();candidateFeatures.forEach(function(feature){var geometry=feature.getGeometry().clone();geometry.rotate(-rotation,anchor);if(geometry.intersectsExtent(extent$1)){selection.push(feature);}});}\nthis.emit(\"map:boxend\",[evt]);});var infobox=this.ud(\"#infobox\");selection.on(['add','remove'],()=>this.setTimeout(\"update-selection\",()=>{var arr=selection.getArray().map(ft=>Object.create(js.mixIn(ft.getProperties(),{feature:ft}),{name:{value:getFeatureName(ft)}}));if(arr.length>0){}\nvar names=selection.getArray().map(feature=>getFeatureName(feature));if(names.length>100){names=names.splice(0,100).concat([\"...\"]);}\nif(names.length>0){infobox.setContent(names.sort().join(', '));}else{infobox.setContent(locale(\"-features.no-selection\"));}\nthis.emit(\"map:selectionchange\",[arr]);},0));this.vars(\"map:select-interaction\",select);}\nthis.vars(\"map\",map);this.emit(\"map:ready\",[map]);});},onResize(){var map=this.vars(\"map\");map&&map.updateSize();},css:{\"#host\":{\".ol-scale-line\":{\"background\":\"rgba(155,155,155,0.45)\",\"left\":\"32px\",\"bottom\":\"32px\",\"padding\":\"8px 8px 4px 8px\"},\".ol-scale-line-inner\":{\"color\":\"black\",\"font-size\":\"9pt\",\"font-family\":\"Lucida Grande, Arial, sans-serif\",\"border-color\":\"black\",\"border-bottom-left-radius\":\"3px\",\"border-bottom-right-radius\":\"3px\"},\".ol-rotate button\":\"background-color: transparent; color: black;\",\".ol-dragbox\":{\"background-color\":\"rgba(255,255,255,0.4)\",\"border-color\":\"rgba(56,150,217,1)\"},}},handlers:{'map:selectionchange'(selection){var sf=this.ud(\"#root-features-selected\");sf.vars(\"features\",selection);sf.setExpandable(selection.length>0);if(selection.length){selection=selection.map(_=>js.mixIn(js.mixIn(Object.getPrototypeOf(_)),_));sf.setText(js.sf(locale(\"-features.selected-N\"),selection.length));sf.reloadChildNodes();}else{sf.setText(js.sf(\"<i>%H</i>\",locale(\"-features.selected-none\")));sf.destroyControls();sf.setExpandable(false);this.setTimeout(\"realign\",()=>realign(this.ud(\"#tree\")),50);}}}},[[(\"Executable\"),\"ol-sources-needed\",{vars:{sources:[]},on(evt){var text=js.get(\"resource.text\",evt);var uri=js.get(\"resource.uri\",evt);var features=js.get(\"resource.features\",evt);if(!features){if(!uri||!text){this.print(\"ignored\");return false;}}\nvar cached=this.vars(\"sources\")[uri];if(cached)return cached;var ext=uri.indexOf(\".\")!==-1&&uri.toLowerCase().split(\".\").pop();var matchers=_.Features.getMatchers();while(!features&&matchers.length){try{features=matchers.pop().apply(this,[evt,evt.resource,ext,uri,text]);}catch(e){this.print(e);}}\nif(!features){try{if(ext===\"geojson\"){features=new ol.format.GeoJSON().readFeatures(JSON.parse(text));this.print(\"features-geojson\",{features:features,evt:evt});}else if(ext===\"topojson\"){features=new ol.format.TopoJSON().readFeatures(JSON.parse(text));this.print(\"features-topojson\",{features:features,evt:evt});}}catch(e){this.print(e);features=[];}}\nvar r=ol.create([\"ol:source.Vector\",{features:features}]);r.set(\"name\",js.get(\"resource.name\",evt)||js.sf(locale(\"-features.\"+(features&&features.length?\"N\":\"none\")),(features&&features.length)));var sources=this.vars(\"sources\");sources[uri]=r;return r;}}],[(\"Executable\"),\"ol-layer-needed\",{on(evt){var map=this.vars([\"map\"]);var st=js.get(\"layer.service.type\",evt),layer;var group=map.getLayers().item(0);var resolution=map.getView().getResolution();var config={},text;if(evt.layer.features instanceof Array){evt.layer.source=new ol.source.Vector({features:evt.layer.features});}\n[\"minResolution\",\"maxResolution\",\"minZoom\",\"maxZoom\",\"zIndex\"].forEach((key)=>{if(evt.layer.hasOwnProperty(key)){config[key]=evt.layer[key];}});if(evt.layer.source instanceof ol.source.Vector){layer=ol.create([\"ol:layer.Vector\",{source:evt.layer.source}]);text=js.sf(\"<input type='checkbox'> %s <a href='#'>(%d)</a>\",evt.layer.name,evt.layer.source.getFeatures().length);}else if(st===\"wmts\"){layer=ol.create([\"ol:layer.Tile\",js.mixIn(config,{opacity:evt.layer.opacity,source:[\"ol:source.WMTS\",{url:evt.layer.service.url,layer:evt.layer.technicalName,style:evt.layer.style,format:evt.layer.format||\"image/png\",matrixSet:evt.layer.matrixSet||\"EPSG:28992\",tileGrid:evt.layer.tileGrid||[\"ol:tilegrid.WMTS\",{matrixIds:evt.layer.matrixIds||RD.matrixIds,resolutions:evt.layer.resolutions||RD.resolutions,origin:evt.layer.origin||ol.extent.getTopLeft(RD.extent)}]}]})]);}else if(st===\"wms\"){layer=ol.create([(\"ol:layer.Tile\"),js.mixIn(config,{opacity:0.9,source:[\"ol:source.TileWMS\",{url:evt.layer.service.url,params:{VERSION:evt.layer.version||\"1.3.0\",LAYERS:evt.layer.technicalName,STYLES:evt.layer.style||\"\",FORMAT:evt.layer.format||\"image/png\",},}]})]);text=js.sf(\"<input type='checkbox'> %s\",evt.layer.name);}\nvar parent=this.udown(\"#root-layers\");if(typeof evt.parent===\"string\"){evt.parent=this.udr(\"#\"+evt.parent);}\nvar Node=this.ud(\"#root-layers\").constructor;var node=(evt.node||new Node(this._owner)).setProperties({parent:evt.parent||parent,classes:\"cursor-pointer\",text:text||js.sf(\"<input type='checkbox'> %s\",evt.layer.name),vars:{layer:evt.layer,ol:layer},onTap(evt){var node=this._node.down(\"input\");if(evt.target.nodeName===\"A\"){evt.preventDefault();if(!node.checked)return;return this.setTimeout(\"fit-layer\",()=>{var layer=this.vars(\"layer\");var view=map.getView();var cr=view.getResolution(),r;var treeW=widthOf(this.getTree());var mapW=widthOf(this.up());var ratio=treeW/mapW;if(layer.source){var extent=layer.source.getExtent(),d=2;this.print(\"fit-layer\",extent.join(\", \"));view.fit(extent,{duration:725,maxZoom:15});}else if(layer.minResolution&&layer.maxResolution){if(cr>layer.minResolution){view.setResolution(layer.minResolution-0.0001);}else{view.setResolution(layer.maxResolution+0.0001);}}else if((r=layer.maxResolution||layer.minResolution)){if(cr<r){view.setResolution(r+0.0001);}else{view.setResolution(r-0.0001);}}},250);}\nif(node===evt.target||evt.target.classList.contains(\"text\")){evt.target!==node&&(node.checked=!node.checked);var checked=node.checked;if(!checked){group.getLayers().remove(layer);}else{if(this.getParent()._name===\"root-layers\"){var index=this.getParent().getControls().filter(c=>c===this||c.getNode().qs(\"input\").checked).indexOf(this);group.getLayers().insertAt(index,layer);}else{group.getLayers().push(layer);}}}else if(evt.target.classList.contains(\"text\")){}},onDblClick(evt){this.clearTimeout(\"fit-layer\");var layer=this.vars(\"layer\");var view=map.getView();if(layer.source){var treeW=widthOf(this.getTree());var mapW=widthOf(this.up());var ratio=treeW/mapW;var extent=layer.source.getExtent(),d=2;extent[0]-=d;extent[1]-=d;extent[2]+=d;extent[3]+=d;extent[0]-=(extent[2]-extent[0])*ratio;flyTo(view,ol.extent.getCenter(extent),{});}},});if(resolution<evt.layer.minResolution||resolution>evt.layer.maxResolution){node.addClass(\"invisible-layer\");}\nif(evt.layer.seperator)node.addClass(\"seperator\");if(evt.layer.checked===false){}else if(layer){node.nodeNeeded();node.update(function(){if(layer instanceof ol.source.Vector){group.getLayers().insertAt(this.getIndex(),layer);}else{group.getLayers().push(layer);}\nnode.setTimeout(\"check\",function(){node.update(function(){var cb=node.getNode().down(\"input\");cb.checked=true;});var layers=Object.keys(evt.layer.layers||{}).map(_=>evt.layer.layers[_]);if(layers.length){Promise.all(layers.map(_=>B.i([\"vcl-ui:Node\",{parent:node,owner:node._owner,onClick:KLIC_onClick,vars:{layer:_},text:js.sf(\"<input type='checkbox' checked><img align='absmiddle' src='%s'> %H\",js.get(\"definition.Style.LegendURL.OnlineResource.xlink:href\",_),_.caption)}]))).then(node.update.bind(node));}},250);});return layer;}\nparent.update();}}],[(\"Executable\"),\"ol-source-needed\",{on(evt){var parent=this.ud(\"#root-documents\");var Node=parent.constructor;var resource=evt.resource;var node=new Node({text:resource.name||resource.uri,type:\"File\",expanded:true,owner:parent._owner,onNodesNeeded:function(parent){var arr=parent===this&&Document_onNodesNeeded.apply(this,arguments);this.print(\"nodes\",arr);return arr;},vars:{resource:resource}});node.setParent(parent);return node;}}],[(\"Executable\"),\"toggle-tree\",{hotkey:\"MetaCtrl+Escape\",on(evt){var focused=require(\"vcl/Control\").focused;var tree=this.scope().tree;if(tree.vars(\"collapsed\")){tree._controls.forEach(node=>node.setExpanded(node.vars(\"expanded\")));focused?.focus();}else{tree._controls.forEach(node=>{node.vars(\"expanded\",node.isExpanded());node.collapse();});}\ntree.vars(\"collapsed\",!tree.vars(\"collapsed\"));}}],[(\"Executable\"),\"layer-needed\",{on(evt){console.warn(\"deprecated #layer-needed => #ol-layer-needed\");return this.ud(\"#ol-layer-needed\").execute(evt);}}],[(\"Executable\"),\"source-needed\",{on(evt){console.warn(\"deprecated #source-needed => #ol-source-needed\");return this.ud(\"#ol-source-needed\").execute(evt);}}],[(\"Bar\"),\"bar\",{visible:false},[[(\"Element\"),\"infobox\",{content:\"Nothing selected\"}]]],[(\"Container\"),\"host\"],[(\"Container\"),{classes:\"glassy-overlay\"},[[(\"Tree\"),\"tree\",{align:\"none\",autoSize:\"both\",autoPosition:\"all\",css:\"max-width:375px; margin: 32px;\",classes:\"glassy with-shadow rounded\",onSelectionChange(){if(!this.__blocked){this.__blocked=true;this._lastSelection=this.getSelection();this.setSelection([]);delete this.__blocked;}},onDispatchChildEvent(component,name,evt,f,args){if(name===\"expand\"||name===\"collapse\"){this.setTimeout(\"realign\",()=>realign(this),50);}else if(name===\"keyup\"&&evt.keyCode===46){this._lastSelection&&this._lastSelection.forEach(function(node){var map=this.vars([\"map\",true]);map.removeLayer(node.vars(\"ol\"));node.destroy();}.bind(this));}else if(name===\"keyup\"&&evt.keyCode===38){if(this._lastSelection){var map=this.vars([\"map\",true]);this._lastSelection.forEach(function(node){var ol=node.vars(\"ol\");map.getLayers().remove(ol);node.setIndex(node.getIndex()-1);map.getLayers().insertAt(node.getIndex(),ol);});}}else if(name===\"keyup\"&&evt.keyCode===40){if(this._lastSelection){var map=this.vars([\"map\",true]);this._lastSelection.forEach(function(node){var ol=node.vars(\"ol\");map.getLayers().remove(ol);node.setIndex(node.getIndex()+1);map.getLayers().insertAt(node.getIndex(),ol);});}}else if(name!==\"mousemove\"){}}},[[(\"Node\"),\"root-layers\",{text:locale(\"-layers\")}],[(\"Node\"),\"root-features\",{text:locale(\"-features\")}],[(\"Node\"),\"root-features-selected\",{classes:\"seperator\",text:locale(\"-features.selected-none\"),onNodesNeeded(parent){var getFeatureName=(feature)=>{var props=feature.getProperties?feature.getProperties():feature;if(props.name)return props.name;return Object.keys(props).filter(name=>name.includes(\":\")).map(name=>js.nameOf(props[name])).filter(name=>name)[0]||js.nameOf(props);};var features=this.vars(\"features\")||[];var Node=this.constructor;for(var i=0;i<features.length&&i<250;++i){new Node({parent:parent,text:getFeatureName(features[i])});}}}]]]]]]];");
define("text!cavalion-blocks/veldapps/Features.js", "\"use strict\";[\"vcl:Component\",{},[]];");
define("text!blocks/prototypes/Executable.js", "\"use override, vcl/Action\";var Action=require(\"vcl/Action\");var override=require(\"override\");override(Action.prototype,\"getContent\",function(inherited){return function(){return inherited.apply(this,arguments)||String.format(\"<i>%s</i>\",this._name);};});[\"vcl:Action\",{},[]];");
define("text!blocks/prototypes/Bar.js", "\"use strict\";[\"vcl-ui:Bar\",{css:{\"&.loading\":{background:\"url(/shared/vcl/images/loading.gif) no-repeat 50% 10%\"}}}];");
define("text!blocks/prototypes/Tree.js", "\"use strict\";[\"vcl-ui:Tree\",{onNodesNeeded:function(parent){var node=parent,pname=\"_onChildNodesNeeded\";while(node&&!node.hasOwnProperty(pname)){node=node._parent;}\nif(node===parent)return;if(node&&node.hasOwnProperty(pname)){return node.fire(pname.substring(1),[parent]);}}},[]];");
define("text!blocks/prototypes/Container.js", "\"use strict\";[\"vcl-ui:Form\"];");
define("text!blocks/prototypes/Element.js", "\"use strict\";[\"vcl-ui:Element\",{},[]];");
define("text!vcl-comps/make/Build$/code.js", "\"use js\";[\"\",{vars:{\"app-js\":\"Workspaces/cavalion.org/cavalion-code/src/app.js\",modules:[\"js/global\",\"js/beautify\",\"js/minify\",\"js/nameOf\",\"js/serialize\",\"util/Browser\",\"util/Event\",\"locales/prototype\",\"locales/en-US\",\"text\",\"vcl/ui/Ace\",\"vcl/ui/FormContainer\",\"vcl/ui/Form\",\"vcl/ui/Panel\",\"vcl/Control\",\"vcl/ui/Container\",\"vcl/ui/Element\",\"util/Stylesheet\",\"util/DocumentHook\",\"vcl/Action\",\"vcl/EventDispatcher\",\"vcl/ControlUpdater\",\"vcl/CssRules\",\"vcl/Dragger\",\"data/SourceEvent\",\"util/Ajax\",\"util/HotkeyManager\",\"util/Keyboard\",\"util/Fullscreen\",\"vcl/Application\",\"util/Command\",\"vcl/ui/Sizer\",\"entities/EM\",\"entities/ExpressionBuilder\",\"util/Rest\",\"features/FM\",\"entities/Instance\",\"jquery\",\"data/Source\",\"data/SourceState\",\"vcl/ui/Button\",\"vcl/ui/Console\",\"vcl/ui/Console.evaluate\",\"vcl/ui/Tab\",\"vcl/ui/Bar\",\"vcl/ui/Input\",\"vcl/ui/Tabs\",\"vcl/ui/Node\",\"vcl/ui/ListHeader\",\"vcl/ui/Group\",\"devtools/NavigatorNode\",\"devtools/Resources\",\"devtools/Resources-node\",\"vcl/data/Array\",\"vcl/ui/List\",\"vcl/ui/ListColumn\",\"vcl/ui/Tree\",\"vcl/ui/ListFooter\",\"vcl/ui/ListBody\",\"vcl/ui/ListRow\",\"util/Xml\",\"../lib/bower_components/framework7/dist/js/framework7\",\"on\",\"../lib/bower_components/markdown/lib/markdown\",\"vcl/ui/CheckGroup\",\"util/HtmlElement\",\"v7/pdok/viewer-metadata\",\"v7/pdok/themes\",\"util/Hash\",\"utils/asarray\",\"json\",\"fast-xml-parser\",\"js/Type\",\"js/Property\",\"vcl/Listeners\",\"js/mixInRecursive\",\"vcl/Component.query\",\"console/node/OnlyKey\",\"util/net/Url\",\"blocks/Blocks\",\"ace/ace\",\"ace/commands/default_commands\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/virtual_renderer\",\"ace/undomanager\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/ext/error_marker\",\"ace/theme/textmate\",\"ace/config\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/keys\",\"ace/lib/oop\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/search\",\"ace/keyboard/keybinding\",\"ace/mouse/fold_handler\",\"ace/commands/command_manager\",\"ace/bidihandler\",\"ace/token_iterator\",\"ace/clipboard\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/requirejs/text\",\"ace/layer/font_metrics\",\"ace/range_list\",\"ace/mouse/multi_select_handler\",\"ace/commands/multi_select_commands\",\"ace/line_widgets\",\"ace/lib/app_config\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/lib/bidiutil\",\"ace/mouse/touch_handler\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/apply_delta\",\"ace/anchor\",\"ace/edit_session/fold_line\",\"ace/layer/lines\",\"ace/edit_session/fold\",\"ace/lib/net\",\"ace/tooltip\",\"ace/mode/behaviour\",\"devtools/Resources-pouchdb\",\"devtools/Resources-dropbox\",\"devtools/Resources-dropped\",\"../lib/node_modules/dropbox/dist/Dropbox-sdk\",\"../lib/node_modules/dropbox/dist/DropboxTeam-sdk\",\"ace/theme/eclipse\",\"ace/mode/javascript\",\"ace/mode/matching_brace_outdent\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/folding/cstyle\",\"ace/mode/doc_comment_highlight_rules\",\"handlebars\",\"ace/mode/markdown\",\"ace/mode/folding/markdown\",\"ace/mode/html\",\"ace/mode/sh\",\"ace/mode/css\",\"ace/mode/xml\",\"ace/mode/html_highlight_rules\",\"ace/mode/folding/html\",\"ace/mode/behaviour/xml\",\"ace/mode/html_completions\",\"ace/mode/sh_highlight_rules\",\"ace/mode/css_highlight_rules\",\"ace/mode/css_completions\",\"ace/mode/behaviour/css\",\"ace/mode/xml_highlight_rules\",\"ace/mode/folding/xml\",\"ace/mode/folding/mixed\",\"ace/mode/markdown_highlight_rules\",\"ace/ext/searchbox\",\"ace/mode/gitignore\",\"ace/mode/gitignore_highlight_rules\",\"ace/mode/json\",\"ace/mode/json_highlight_rules\",\"js/referenceClass\",\"js/Enum\",\"js/_js\",\"cavalion-pouch/bower_components/relational-pouch/dist/pouchdb.relational-pouch\",\"cavalion-pouch/bower_components/pouchdb-find/dist/pouchdb.find\",\"cavalion-pouch/pouchdb.save\",\"cavalion-pouch/bower_components/pouchdb/dist/pouchdb\",\"lib/bower_components/pouchdb-find/dist/pouchdb.find\",\"lib/bower_components/pouchdb/dist/pouchdb\",\"lib/bower_components/relational-pouch/dist/pouchdb.relational-pouch\",\"pouchdb.save\",\"pouchdb.authentication\",\"pouchdb.memory\",\"lib/node_modules/dropbox/dist/DropboxTeam-sdk\",\"lib/node_modules/dropbox/dist/Dropbox-sdk\",\"ace/lib/es6-shim\",\"veldapps-ol/Map-default\",\"veldapps-ol/Map-bro\",\"veldapps-ol/Map-klic\",\"veldapps-ol/proj/RD\",\"veldapps-ol/Map-nederland\",\"veldoffice/KLIC\",\"lib/node_modules/proj4/dist/proj4-src\",\"lib/ol-6.14.1-dist/ol\",\"veldapps-xml/index\",\"veldapps-imsikb/util\",\"cavalion-blocks/veldapps/_\",\"veldapps-imbro/util\",\"veldapps-imsikb/js/nameOf/methods\",\"veldapps-imsikb/urns\",\"veldapps-imsikb/lookup\",\"veldapps-xml/fast-xml-parser/parser\",\"veldapps-imsikb/traverse\",\"veldapps-imsikb/guess\",\"veldapps-imbro/codes\",\"veldapps-imbro/js/nameOf/methods\",\"cavalion-blocks/veldapps/locales\",\"veldoffice/devtools\",\"veldoffice/VO\",\"veldoffice/EM\",\"veldoffice/Session\",\"veldoffice/models\",\"entities/Model\",\"ace/ext/modelist\",\"lib/bower_components/markdown/lib/markdown\",\"cavalion-blocks/veldapps/ListOf<>/where\",\"vcl/ui/PopupButton\",\"vcl/ui/Select\",\"vcl/ui/Popup\",\"vcl-veldoffice/Query\",\"vcl/entities/Query\"],components:[\"text!vcl-comps/devtools/App.js\",\"text!vcl-comps/App.js\",\"text!vcl/prototypes/App.v1.js\",\"text!vcl/prototypes/App.console.js\",\"text!vcl/prototypes/App.glassy.js\",\"text!vcl/prototypes/App.js\",\"text!vcl-comps/ui/forms/util/Console.js\",\"text!vcl/prototypes/ui/forms/util/Console.js\",\"text!vcl/prototypes/App.openform.js\",\"text!vcl/prototypes/App.toast.js\",\"text!vcl/prototypes/ui/controls/SizeHandle.js\",\"text!vcl/prototypes/ui/Form.js\",\"text!vcl/prototypes/ui/controls/Toolbar.js\",\"text!vcl-comps/devtools/Main.js\",\"text!vcl-comps/devtools/TabFactory.js\",\"text!vcl-comps/devtools/DragDropHandler.js\",\"text!vcl-comps/devtools/CtrlCtrl.js\",\"text!vcl-comps/devtools/Workspace.js\",\"text!vcl-comps/devtools/Navigator.js\",\"text!vcl-comps/devtools/Bookmarks.js\",\"text!vcl-comps/devtools/Outline.js\",\"text!vcl-comps/devtools/OpenTabs.js\",\"text!vcl-comps/devtools/Console.js\",\"text!vcl-comps/make/Build.js\",\"text!vcl-comps/devtools/Editor$/html.js\",\"text!vcl-comps/devtools/Editor.js\",\"text!vcl-comps/devtools/Editor$/vcl.js\",\"text!vcl-comps/devtools/Editor$/png.js\",\"text!vcl-comps/devtools/Editor$/md.js\",\"text!vcl-comps/devtools/Editor$/folder.js\",\"text!blocks/prototypes/Console.js\",\"text!vcl-comps/devtools/Editor$/blocks.js\",\"text!vcl-comps/veldoffice/Session.js\",\"text!vcl-comps/devtools/Editor$/xml.js\",\"text!vcl-comps/devtools/Editor$/xsd.js\",\"text!vcl-comps/devtools/App$/code.js\",\"text!vcl-comps/devtools/Main$/code.js\",\"text!vcl-comps/devtools/Main$/Cavalion-code.js\",\"text!vcl-comps/devtools/Workspace$/code.js\",\"text!vcl-comps/devtools/Editor$/js.js\",\"text!vcl-comps/devtools/Workspace$/vcl.js\",\"text!vcl-comps/devtools/Workspace$/blocks.js\",\"text!vcl-comps/App$/code.js\",\"text!vcl-comps/App$/bxv.js\",\"text!vcl-comps/devtools/Main$/bxv.js\",\"text!vcl-comps/devtools/Workspace$/cavalion-blocks.js\",\"text!vcl/prototypes/cavalion-blocks.js\",\"text!cavalion-blocks/veldapps/Map.js\",\"text!blocks/prototypes/Node.js\",\"text!cavalion-blocks/veldapps/OpenLayers<>/PDOK-v2.js\",\"text!cavalion-blocks/devtools/OpenLayers<>/Documents.js\",\"text!cavalion-blocks/veldapps/Features<>/imsikb0101.js\",\"text!cavalion-blocks/veldapps/Features<>/imbro.js\",\"text!cavalion-blocks/veldapps/Features<>/itwbm.js\",\"text!cavalion-blocks/veldapps/OpenLayers.js\",\"text!veldapps-imsikb/imsikb0101-all.js\",\"text!cavalion-blocks/veldapps/Features.js\",\"text!veldapps-imsikb/immetingen-all.js\",\"text!veldapps-imbro/domains.js\",\"text!blocks/prototypes/Executable.js\",\"text!blocks/prototypes/Bar.js\",\"text!blocks/prototypes/Tree.js\",\"text!blocks/prototypes/Container.js\",\"text!blocks/prototypes/Element.js\",\"text!vcl-comps/make/Build$/code.js\",\"text!vcl/prototypes/devtools/App.js\",\"text!vcl/prototypes/App.v1.console.js\",\"text!vcl/prototypes/App.openform.toast.glassy.js\",\"text!vcl-comps/ui/Form.js\",\"text!vcl-comps/ui/controls/Toolbar.js\",\"text!vcl-comps/ui/controls/SizeHandle.js\",\"text!vcl-comps/devtools/DragDropHandler$/dropbox.js\",\"text!vcl/prototypes/devtools/CtrlCtrl.js\",\"text!vcl/prototypes/devtools/Navigator.js\",\"text!cavalion-blocks/veldoffice/ListOf<>/Document.js\",\"text!cavalion-blocks/veldapps/ListOf<>/Document.js\",\"text!blocks/prototypes/Column.js\",\"text!blocks/prototypes/Group.js\",\"text!cavalion-blocks/veldapps/ListOf.js\",\"text!blocks/prototypes/Input.js\",\"text!blocks/prototypes/Tab.js\",\"text!veldoffice/models.json\",\"text!blocks/prototypes/Button.js\",\"text!blocks/prototypes/List.js\",\"text!blocks/prototypes/Array.js\",\"text!blocks/prototypes/Radiobutton.js\",\"text!blocks/prototypes/Checkbox.js\",\"text!blocks/prototypes/Ace.js\",\"text!blocks/prototypes/Tabs.js\"]}}];");
define("text!cavalion-blocks/veldoffice/ListOf<>/Document.js", "\"use js\";const require_onderzoek=(id)=>{const required=(require_onderzoek.cache=require_onderzoek.cache||{});if(!required[id]){required[id]=true;if(!require_onderzoek.loading){const iterate=()=>{const all=VO.em.instances.Onderzoek;const needed=Object.keys(required).filter(id=>required[id]===true&&(all[id]===undefined||all[id].naam===undefined));if(needed.length){var keys=needed.slice(0,50);VO.em.query(\"Onderzoek\",\"id,naam,projectcode,created,modified\",{where:VO.em.or(keys.map(id=>[\"equals\",\"id\",id]))}).then(res=>{keys.forEach(key=>{required[id]=VO.em.get(\"Onderzoek\",key);required[id].naam=required[id].naam||\"\";});if(require_onderzoek.owner['@hashCode']>0){iterate();}\nrequire_onderzoek.owner.qs(\"#list\").render_(true);});}};require_onderzoek.owner&&require_onderzoek.owner.setTimeout(iterate,500);}}};function where(criteria,page){if(this.vars(\"all\")===true){return undefined;}\nvar onderzoek=this.vars([\"veldoffice/Onderzoek.id\"]);return onderzoek?[\"and\",[\"equals\",\"autoRemove\",false],[\"equals\",\"onderzoek.id\",onderzoek]]:[\"equals\",\"autoRemove\",false];}\nfunction onGetRequestCriteria(criteria,page){return this.ud(\"#query\")._onGetRequestCriteria.apply(this,arguments);}\nfunction onBusyChanged(){var menubar=this.udown(\"#menubar\");if(this.isBusy()){menubar.beginLoading();}else{menubar.endLoading();}\nif(menubar.isLoading()&&!menubar.hasClass(\"loading\")){menubar.addClass(\"loading\");}else if(!menubar.isLoading()&&menubar.hasClass(\"loading\")){menubar.removeClass(\"loading\");}\nthis.udown(\"#list\").render(true);}\nfunction onUpdate(){this.udown(\"#list\").render(true);}\n[(\"veldapps/ListOf<Document>.export\"),{handlers:{}},[[(\"#refresh\"),{on(evt){if(evt.altKey){const q=this.ud(\"#query\");q.vars(\"all\",q.vars(\"all\")!==true);}\nreturn this.inherited(arguments);}}],[(\"#query\"),{attributes:\"id,omschrijving,naam,extensie,autoRemove,created,modified\",orderBy:\"created desc\",where:where,count:{where:where},onLoad(){var range={start:0,end:-1},app=this.app(),me=this;var queries=this.up().qsa(\"#query_details\");this.override(\"requestPage\",function(){var args=js.copy_args(arguments);queries.forEach(function(query){var v;if((v=query.removeVar(\"refresh-needed\"))){query.print(\"refresh-needed\",Date.now()-v);query.refresh();}else{query.requestPage(args[0])}});return this.inherited(arguments);});return this.inherited(arguments);},onActiveChanged(active){if(!active){this._owner.qsa(\"#query_details\").vars(\"refresh-needed\",Date.now());}\nreturn this.inherited(arguments);}}],[(\"#item_open\"),{on(evt){var ws=this.up(\"devtools/Workspace<>:root\");if(ws){var selection=this.ud(\"#list\").getSelection(true);return selection.forEach(doc=>{ws.open(js.sf(\"veldoffice://onderzoek/document/%s/%s\",doc.id,doc.naam));});}\nreturn this.inherited(arguments);},vars:{modal:false,formUri:\"Tabs<Document>\",title(selection){instance=selection[0]._values;return js.sf(\"%s - %s\",instance.omschrijving,instance.naam);}}}],[(\"#list\"),{autoColumns:false,onLoad(){require_onderzoek.owner=this._owner;return this.inherited(arguments);}},[[\"Column\",{attribute:\"omschrijving\"}],[\"Column\",{attribute:\"naam\"}],[\"Column\",{attribute:\"created\"}],]],[(\"veldoffice:Query\"),\"query_details\",{entity:\"Document\",attributes:\"id,onderzoek.id,onderzoek.naam,onderzoek.projectcode,onderzoek.bedrijf.naam\",orderBy:\"created desc\",where:where,count:false,onGetRequestCriteria:onGetRequestCriteria,onBusyChanged:onBusyChanged,onUpdate:onUpdate}],]];");
define("text!cavalion-blocks/veldapps/ListOf<>/Document.js", "\"use js, util/Xml, ./where\";var locale=window.locale.prefixed(\"Document\");var where=require(\"./where\");var Xml=require(\"util/Xml\");var Using={locales:{\"Document\":{\"-onderzoek-projectcode.label\":\"Projectcode\",\"-bedrijf.label\":\"Bedrijf\",\"-naam.label\":\"Naam\",\"-omschrijving.label\":\"Omschrijving\",\"-extensie.label\":\"Extensie\"}}};[(\"veldapps/ListOf<>\"),[[(\"#query\"),{entity:\"Document\",attributes:\"id,onderzoek.id onderzoek_id,onderzoek.projectcode onderzoek_projectcode,naam,created,onderzoek.bedrijf.naam,onderzoek.naam,omschrijving,modified\",count:{where:where},orderBy:\"onderzoek.created desc,created desc\"}],[(\"#filters\"),[[(\"Group\"),[[(\"Element\"),{content:locale(\"-onderzoek-projectcode.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{attribute:\"onderzoek.projectcode\",operator:\"contains\",type:\"string\"}}]]],[(\"Group\"),[[(\"Element\"),{content:locale(\"-bedrijf.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{attribute:\"onderzoek.bedrijf.naam\",operator:\"contains\",type:\"string\"}}]]],[(\"Group\"),[[(\"Element\"),{content:locale(\"-naam.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{attribute:\"naam\",operator:\"contains\",type:\"string\"}}]]],[(\"Group\"),[[(\"Element\"),{content:locale(\"-omschrijving.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{attribute:\"omschrijving\",operator:\"contains\",type:\"string\"}}]]],[(\"Group\"),\"not-omschrijving\",[[(\"Element\"),{content:\"NOT \"+locale(\"-omschrijving.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{onGetExpression(value){return[\"or\",[\"lt\",\"omschrijving\",value],[\"gt\",\"omschrijving\",value+\"Z\"]];}}}]]],[(\"Group\"),[[(\"Element\"),{content:locale(\"-extensie.label\"),classes:\"header\"}],[(\"Input\"),\"input\",{vars:{attribute:\"extensie\",operator:\"contains\",type:\"string\"}}]]]]],[(\"Tab\"),\"tab_foo\",{css:\"display:none;\",vars:{resource:{name:\"tab_foo\"}}}],]];");
define("text!blocks/prototypes/Column.js", "\"use strict\";[\"vcl-ui:ListColumn\",{},[]];");
define("text!blocks/prototypes/Group.js", "\"use strict\";[\"vcl-ui:Group\",{},[]];");
define("text!cavalion-blocks/veldapps/ListOf.js", "\"use ./ListOf<>/where, blocks/Blocks, vcl/ui/Tab, vcl/ui/Group, vcl/ui/Select, entities/Instance, data/Source, veldoffice/EM, vcl/ui/Input, vcl/ui/Button, vcl/ui/PopupButton\";var Source=require(\"data/Source\");var EM=require(\"veldoffice/EM\");var Input=require(\"vcl/ui/Input\");var Event=require(\"util/Event\");var Instance=require(\"entities/Instance\");var Control=require(\"vcl/Control\");var override=require(\"override\");var locale=window.locale;var css={\"#filters\":{\"padding-top\":\"8px\",\"overflow-x\":\"auto\",\".{Element}\":{\"margin-right\":\"8px\"},\".{Group}\":{\"vertical-align\":\"top\",\"padding-bottom\":\"5px\",\"padding-right\":\"20px\",\"&:not(.seperator)\":{\"display\":\"inline-block\"}},\".{Select}\":{\"&.disabled\":{opacity:\"0.5\"},\"padding-top\":\"1px\",\"padding-bottom\":\"1px\"},\".header\":{\"font-weight\":\"bold\"},\".block\":{\"display\":\"block\"},\".disabled\":{opacity:\"0.5\"}},\"#menubar\":{\"\":\"padding: 4px 4px 8px; overflow: hidden; border-bottom: 1px solid #f0f0f0;\",\"input\":{\"border-color\":\"rgb(240, 240, 240)\",\"border-width\":\"1px\",\"border-radius\":\"5px\",\"padding\":\"2px 4px\",\"margin-right\":\"8px\",\"&[type='date']\":{\"padding-top\":\"2px\",\"padding-bottom\":\"0px\",\"font-family\":\"BlinkMacSystemFontuser, \\\"Apple Braille\\\", \"+\"\\\"Segoe UI\\\", \\\"Lucida Grande\\\", sans-serif\"}},\">.right\":\"float: right;\",\">.{Tab}.selected\":\"background-color: rgb(56, 121, 217); color: white;\",\">.{Button}\":{\"background\":\"none\",\"background-color\":\"transparent\",\"border\":\"none\",\"text-shadow\":\"none\",\"box-shadow\":\"none\",cursor:\"pointer\",outline:\"none\",\"&.glyph-only\":\"padding-right: 2px;\",\"&.link\":{\"color\":\"blue\",\"text-decoration\":\"underline\"},\"&.disabled\":{color:\"silver\",cursor:\"default\"},\"&:hover\":\"background-color: #f0f0f0;\",\"&:not(.disabled):active\":{color:\"red\",\"background-color\":\"#f0f0f0\"},\"&.selected\":\"background-color: rgb(56, 121, 217);\",\"i.fa\":\"padding: 2px 4px;\"},\">.{PopupButton}\":\"padding-right:2px;\",'#status':\"font-size:smaller; color: gray; margin-right: 4px; margin-left: 4px;\",'#q':\"position:absolute;left:25%;width:50%;margin-top:2px;margin-bottom:4px;\",'&.loading input':\"background-color: transparent;\",'&:not(.loading):not(.transparent)':\"background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, to(rgba(245, 245, 245, 0.975)), from(rgba(229, 229, 229, 0.9)));\"},\"#list\":{\".ListCell.naam\":\"font-weight: bold; _color: #3979d9;\",\".selected\":{\".ListCell.naam\":\"color:white;\",\".ListCell.id\":{color:\"#f0f0f0\",'i.fa.fa-flag':\"color: white; font-weight:bold;\"}},\".ListCell.id\":{color:\"gray\",'i.fa.fa-flag':\"color: rgb(56, 121, 217); font-weight:bold;\"},}};var handlers={onLoad(){var spec=this.getSpecializer();var query=this.qs(\"#query\");if(!query._entity){query._entity=spec;}\nvar value=this.qs(\"#q\").getValue();if(value){query.vars(\"q\",value);}\nreturn this.inherited(arguments);},onDispatchChildEvent:function(component,name,evt,f,args){if(name.indexOf(\"key\")===0){if(component._name===\"q\"){var scope=this.scope();if([13,27,38,40].indexOf(evt.keyCode)!==-1){if(evt.keyCode===13&&name===\"keyup\"){if(scope.list.getSelection().length===0&&scope.list.getCount()){scope.list.setSelection([0]);}\nscope.item_open.execute(evt);}else if(evt.keyCode===27){scope.q.setValue(\"\");scope.q.fire(\"onChange\",[true]);}\nif(scope.list.isVisible()){scope.list.dispatch(name,evt);}\nevt.preventDefault();}}}\nreturn this.inherited(arguments);},\"#filters onDispatchChildEvent\":function(component,name,evt,f,args){if(name===\"keyup\"&&evt.keyCode===13){this.scope().refresh.execute(this);}}};[\"Container\",{css:css,handlers:handlers},[[\"veldoffice:Query\",(\"query\"),{onActiveChanged(active){this.ud(\"#status\").render();if(!active){this.ud(\"#query_load_all\").setState(false);}},onUpdate(){this.ud(\"#status\").render();},onBusyChanged(busy){var scope=this.scope();scope.refresh.setEnabled(!busy);scope.status.render();if(!this.isBusy()){scope.menubar.removeClass(\"loading\");}else if(this.isBusy()){scope.menubar.addClass(\"loading\");}},onGetRequestCriteria(criteria,page){var expressions=this._owner.qsa(\"< #filters < #input\").filter(function(input){var r=input.hasValue();if(input.vars(\"required\")===true&&r===false){criteria=null;}\nreturn r;}).map(function(input){var value=input.getValue();var attribute=input.vars(\"attribute\");var operator=input.vars(\"operator\")||\"equals\";var type=input.vars(\"type\")||\"string\";var onGetValue=input.vars(\"onGetValue\");var onGetExpression=input.vars(\"onGetExpression\");if(typeof onGetValue===\"function\"){value=onGetValue.apply(input,[value]);}\nif(typeof onGetExpression===\"function\"){return onGetExpression.apply(input,[value]);}\nif(type===\"string\"){value=value.split(\",\").map(_=>_.trim());if(value.length===1){return[operator,attribute,value[0]];}else{var values=value.map(_=>[operator,attribute,_]);value=[\"or\",values.pop(),values.pop()];while(values.length){value=[\"or\",value,[operator,attribute,values.pop()]];}\nreturn value;}}\nreturn[operator,attribute,value];});if(criteria!==null&&expressions.length){criteria.where&&expressions.push(criteria.where);if(expressions.length===1){criteria.where=expressions[0];}else if(expressions.length>1){criteria.where=[\"and\",expressions.pop(),expressions.pop()];while(expressions.length){criteria.where=[\"and\",criteria.where,expressions.pop()];}}\nif(criteria.hasOwnProperty(\"count\")&&criteria.count){if(criteria.count===true){criteria.count={where:criteria.where};}else{criteria.count.where=criteria.where;}}}\nreturn criteria;},onFilterObject(obj,row,context){var q=this.vars(\"q\");if(!context.list){context.list=this.ud(\"#list\");context.columns={};context.q=q?q.split(\" \"):[\"\"];}\nfunction match(obj,q){q=q.toLowerCase();if((inverse=(q&&q.charAt(0)===\"!\"))){q=q.substring(1);}\nif(typeof obj===\"string\"){return obj.toLowerCase().includes(q);}\nfor(var k in obj){if(js.sf(\"%n\",obj[k]).toLowerCase().includes(q)){return inverse?false:true;}}\nreturn inverse?true:false;}\nfunction match_columns(obj,q){var column,value,inverse=false;if(q.indexOf(\":\")===-1){q=q.toLowerCase();if(q&&(inverse=(q.charAt(0)===\"!\"))){q=q.substring(1);}\nfor(var i=0,n=context.list.getColumnCount();i<n;++i){column=context.list.getColumn(i);value=context.list.valueByColumnAndRow(column,row);if(js.sf(\"%n\",value).toLowerCase().includes(q)){return inverse?false:true;}}\nreturn inverse?true:false;}else{q=q.split(\":\");column=context.columns[q[0]]||(context.columns[q]=context.list.getColumnByName(q[0]));if(column){value=context.list.valueByColumnAndRow(column,row);if(js.sf(\"%n\",value).toLowerCase().includes(q[1])){return true;}}\nreturn false;}}\nreturn context.q.some(q=>q?!(match_columns(obj,q)):false);},where:require(\"./ListOf<>/where\")}],[\"Executable\",(\"item_selected\"),{enabled:false}],[\"Executable\",(\"item_open\"),{content:locale(\"Open\")||\"Openen\",enabled:\"parent\",parent:\"item_selected\",onExecute:function(evt){var scope=this.scope(),uri,selection;if(scope.query.isBusy()){return setTimeout(()=>this.execute.apply(this,arguments),500);}\nif(evt.by){if(evt.by.key){var entity=scope.query.getEntity();return scope.query.getEM().get_(entity,evt.by.key).then(instance=>{this.execute({by:{instance:instance}});});}else if(evt.by.instance){selection=[evt.by.instance];}}else{selection=scope.list.getSelection(true);}\nselection=(selection||[]).map(_=>EM.instance(_));if(selection.length&&(uri=this.vars(\"formUri\"))){var modal=this.vars(\"modal\");uri=js.sf(uri,this.up().getSpecializer());var home=this.up(\"Home<>:root\"),parent,title;parent=this.up(\"ui/forms/Home<>#tree > vcl/ui/Node\");if(this.vars(\"multiselect\")&&selection.length>1){title=this.vars(\"title\");if(typeof title===\"function\"){title=title.apply(this,[selection]);}\nthis.bubble(!this.vars(\"modal\")?\"openform\":\"openform_modal\",{uri:uri+(modal?\".modal\":\"\"),title:title||js.nameOf(instance),parent:parent,params:{selection:selection},callback:function(form){form.on(\"close\",function(){form.un(\"close\",arguments.callee);});}});}else{selection.forEach((instance,i)=>{title=this.vars(\"title\");if(typeof title===\"function\"){title=title.apply(this,[[instance]]);}\nthis.bubble(!this.vars(\"modal\")?\"openform\":\"openform_modal\",{uri:uri+(modal?\".modal\":\"\"),title:title||js.nameOf(instance),params:{parent:parent,instance:instance,selection:selection},activate:i===selection.length-1,callback:function(form){form.on(\"close\",function(){form.un(\"close\",arguments.callee);});}});});}}},vars:{formUri:\"ui/entities/Edit<%s>\"}}],[\"Executable\",(\"item_new\"),{content:\"<i class='fa fa-plus'></i>\"+locale(\"New\"),visible:false,vars:{formUri:\"ui/entities/Edit<%s>.modal.new\"},onExecute:function(){var EM=require(\"entities/EM\");var scope=this.scope();var specializer=this._owner.getSpecializer();var uri=String.format(this.getVar(\"formUri\"),specializer);this.bubble(\"openform_modal\",{uri:uri,params:{instance:this.applyVar(\"newInstance\",[EM,specializer])},callback:function(form){form.on(\"close\",function(){form.un(\"close\",arguments.callee);scope.refresh.execute();});}});}}],[\"Executable\",(\"item_remove\"),{enabled:\"parent\",content:locale(\"Delete\"),parent:\"item_selected\",vars:{getMessage:function(){return\"Are you sure you want to delete the selected items?\";}},onExecute:function(){var EM=require(\"entities/EM\");var scope=this.scope();var app=this.app();app.confirm(this.applyVar(\"getMessage\"),function(res){if(res===true){var instances=scope.list.getSelection(true);var indices=scope.list.getSelection().sort(function(i1,i2){return i1<i2?1:-1;});indices.forEach(function(i){scope.query.splice(i,1);});scope.query.arrayChanged();scope.item_remove.setEnabled(false);EM.commit([],instances).addCallback(function(res){scope.item_remove.setEnabled(\"parent\");}).addErrback(function(err){scope.item_remove.setEnabled(\"parent\");app.alert(\"Could not delete items\");scope.item_remove.log(err);scope.refresh.execute();});}});}}],[\"Executable\",(\"export\"),{content:locale(\"Export\"),enabled:\"parent\",parent:\"item_selected\"}],[\"Executable\",(\"refresh\"),{content:locale(\"Refresh\"),onExecute:function(){this.scope().query.refresh();}}],[\"Executable\",(\"print\"),{hotkey:\"MetaCtrl+Enter\",on(){var a=this.ud(\"#query\");var q=this.ud(\"#q\");var ws=this.up(\"devtools/Workspace<>\");var objs=this.ud(\"#list\").getSelection(true);if(objs.length===0){ws=null;objs=[].concat(a.getObjects());}\nif(objs.length>1){(ws||q).print((q&&q.getValue())||this.vars([\"resource.name\"])||\"*\",objs);}else{(ws||q).print((q&&q.getValue())||js.nameOf(objs[0]),objs[0]);}}}],[\"Executable\",(\"toggle_search\"),{content:locale(\"Search\"),visible:false,hotkey:\"Alt+F\",onExecute:function(){this.setVisible(!this.getVisible());}}],[\"Executable\",(\"toggle_filters\"),{content:locale(\"Filters\"),state:false,selected:\"state\",visible:\"state\",hotkey:\"MetaCtrl+F\",onExecute:function(){this.setState(!this.getState());if(this.getState()===true){var scope=this.scope();scope.filters.update(function(){scope.filters.down(\"< #input\").setFocus();});}}}],[\"Executable\",(\"toggle_options\"),{content:locale(\"Options\")}],[\"Executable\",(\"toggle_info\"),{content:locale(\"Info\"),state:false,selected:\"state\",visible:\"state\",onExecute:function(){this.setState(!this.getState());}}],[\"Executable\",(\"toggle_new\"),{content:locale(\"New\"),state:false,selected:\"state\",visible:\"state\",onExecute:function(){this.setState(!this.getState());}}],[\"Executable\",(\"focus_q\"),{hotkey:\"Cmd+191\",on(){this.ud(\"#q\").setFocus(true);}}],[\"Executable\",(\"query_load_all\"),{enabled:!false,state:false,on(){var query=this.ud(\"#query\");if(!query.isActive()){query.print(\"not-sooooo-fast-pls\");return new Promise(resolve=>this.setTimeout(\"wait\",()=>this.execute(),500))}\nif(!this.isEnabled()||this.getState())return this.vars(\"Promise\");this.setState(true);var status=this.ud(\"#status\"),list=this.ud(\"#list\");var reqs=query._pageReqs;var pages=Math.round(query._size/query._limit+0.5);if(pages>25){this.print(\"limited to 25 pages\");pages=25;}\nfunction next(resolve,reject){status.render();list.render_(true);for(var i=0;i<reqs.length;++i){if(reqs[i]===undefined){return query.requestPage(i-1).then(res=>(next(resolve,reject),res));}}\nif(reqs.length<pages){return query.requestPage(reqs.length).then(res=>(next(resolve,reject),res));}\nquery.updateFilter();query.notifyEvent(\"busyChanged\",false);resolve(query._array);}\nlist.addClass(\"ignore-busy\");return this.vars(\"Promise\",new Promise((resolve,reject)=>{next(resolve,reject);}).then(res=>{list.removeClass(\"ignore-busy\");return res;}));}}],[\"Bar\",(\"menubar\"),{classes:\"transparent\"},[[\"Element\",(\"status\"),{classes:\"right\",onRender(){var scope=this.scope(),source=scope.list.getSource(),active=source.isActive();var content=[],selection=scope.list.getSelection();var items=this.vars(\"items\")||\"items\";this.setTimeout(()=>{var arr=source,status=[];if(arr._array){var count_id=source.getSummary?parseInt(js.get(\"0.count:id\",source.getSummary()),10):0;var total=count_id||arr._array.length;var loaded=arr._array.filter(_=>_!==Source.Pending).length;var filtered=(arr._arr||[]).length;var selected=this.ud(\"#list\").getSelection().length;var q=source.vars(\"q\")||\"\";if(filtered===arr._array.length&&!this.vars(\"filtered\"))filtered=0;selected&&status.push(js.sf(\"[%s]\",selected));(filtered||q.length||this.vars(\"filtered\"))&&status.push(js.sf(\"%d\",filtered));status.push(js.sf(\"%d %s\",total,status.length>1?\"totaal\":items));}\nstatus=[status.join(\" / \")];if(this.vars(\"filtered\")){if(filtered&&(total>filtered)){status.push(js.sf(\"(%d%%)\",(filtered/total)*100));}}else{if(loaded&&(total>loaded)){status.push(js.sf(\"(%d%%)\",(loaded/total)*100));}}\nthis.setContent(status.join(\" \"));},250);}}],[\"Button\",(\"button_refresh\"),{content:\"<i class='fa fa-refresh'></i>\",classes:\"glyph-only\",action:\"refresh\"}],[\"Group\",(\"filters\"),{action:\"toggle_filters\",executesAction:false,onLoad(){this.bringToFront();}}],[\"Button\",(\"button_search\"),{action:\"toggle_search\",content:\"<i class='fa fa-search'></i>\"+locale(\"Search\"),classes:\"toggle\",}],[\"Button\",(\"button_info\"),{action:\"toggle_info\",content:\"<i class='fa fa-info-circle'></i>\"+locale(\"Info\"),classes:\"toggle\",visible:false}],[\"Button\",(\"button_filters\"),{action:\"toggle_filters\",content:\"<i class='fa fa-filter'></i>\",classes:\"toggle\",visible:\"always\"}],[\"Button\",(\"button_new\"),{action:\"item_new\",}],[\"Button\",(\"button_open\"),{action:\"item_open\",css:\"font-weight: bold;\"}],[\"Button\",(\"button_delete\"),{action:\"item_remove\",visible:false}],[\"Button\",(\"button_refresh\"),{action:\"refresh\",visible:false}],[\"Button\",(\"button_search\"),{action:\"toggle_search\",visible:false}],[\"Button\",(\"button_options\"),{action:\"toggle_options\",visible:false}],[\"Input\",(\"q\"),{placeholder:\"Filteren (⌘+/)\"||locale(\"-filter\"),onKeyDown(evt){if(evt.keyCode===27)evt.preventDefault();},onChange(){this.ud(\"#query_load_all\").execute();this.setTimeout(\"updateFilter\",()=>{var value=this.getValue(),source=this.ud(\"#list\").getSource();source.vars(\"q\",value);source.updateFilter();this.ud(\"#status\").render();},250);}}]]],[\"List\",(\"list\"),{autoColumns:true,source:\"query\",css:{'.{ListColumn}':{':active':\"font-weight:bold;\"},'.{ListHeader}':{':active':\"background-color: gold;\"}},onDispatchChildEvent:function(component,name,evt,f,args){if(name===\"click\"){if(this._columns&&this._columns.includes(component)){if(!this.vars(\"sorted-by-disabled\")){if(this.vars(\"sorted-by\")!==component){this.vars(\"sorted-by\",component);dir=this.vars(\"sorted-by-dir\",\"asc\");}else{dir=this.vars(\"sorted-by-dir\",this.vars(\"sorted-by-dir\")===\"asc\"?\"desc\":\"asc\");}\nconst mb=this.ud(\"#menubar\");mb.addClass(\"loading\");Promise.resolve(this.ud(\"#query_load_all\").execute()).then(res=>this.sortBy(component,dir)).finally(()=>mb.removeClass(\"loading\"));}}}},onKeyPress:function(evt){var scope=this.scope();if(evt.keyCode===13&&Event.modifiersMatch(evt,[])&&scope.item_open.isEnabled()){scope.item_open.execute(evt);}},onDblClick:function(evt){var selection=this.getSelection(true);var io=this.scope().item_open;if(io.isEnabled())io.execute(evt);},onColumnGetValue:function(column,value,rowIndex,source){if(column._attribute===\"id\"&&value!==undefined){var object=source.getObject(rowIndex),page=Math.floor(rowIndex/source._limit);return js.sf(\"%d/%d/%s%s\",page,rowIndex,value,\"\");}\nreturn value;},onSelectionChange:function(evt){var scope=this.scope();var enabled=evt.newValue.length>0;scope.item_selected.setEnabled(enabled);this.ud(\"#status\").render();}}]]];");
define("text!blocks/prototypes/Input.js", "\"use strict\";[\"vcl-ui:Input\",{},[]];");
define("text!blocks/prototypes/Tab.js", "\"use locale, js, blocks/Blocks\";var locale=window.locale;var js=require(\"js\");var B=require(\"blocks/Blocks\");var config={text:locale(\"-text.default\")};[\"vcl-ui:Tab\",{handlers:{\"selected\":function(){var me=this,cls=this.getSpecializer();var uri=this.vars(\"uri\"),specializer;if(this._control===null&&(cls||uri)){cls=cls?cls.split(\"!\"):[\"\"];if(cls.length>1){specializer=cls.pop();cls=cls.join(\"!\");}else{specializer=this._name;cls=cls.pop();}\nthis._control=B.instantiate([uri||String.format(\"%s<%s>\",cls,specializer)],{uri:uri||String.format(\"%s<%s>\",cls.split(\":\").pop(),specializer),owner:this,setIsRoot:true,loaded:function(control){var parent=me._parent.vars(\"parent\")||me._parent._parent;me.setControl(control);control.setVisible(me.isSelected());control.setParent(parent);control.loaded();}});}},\"unselected\":function(){}},vars:{\"Alt+Cmd\":function(console,evt){var control=this._control;this.app().confirm(\"Reload \"+control._uri+\"?\",function(res){});}}}];");
define("text!veldoffice/models.json", "{\n    \"Aanleiding\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Aanvulmateriaal\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Account\": {\n        \"access\": \"set:OnderzoekAccess\",\n        \"active\": \"boolean\",\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"connected\": \"set:AccountConnection\",\n        \"connections\": \"set:AccountConnection\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"name\": \"string\",\n        \"password\": \"string\",\n        \"role\": \"enum:ADMIN,USER,USER_ADMIN\",\n        \"sessions\": \"set:Sessie\",\n        \"username\": \"string\"\n    },\n    \"AccountConnection\": {\n        \"account\": \"ref:Account\",\n        \"connected\": \"ref:Account\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\"\n    },\n    \"Adres\": {\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"gem_code\": \"string\",\n        \"huisletter\": \"string\",\n        \"huisletter2\": \"string\",\n        \"huisnummer\": \"string\",\n        \"huisnummer2\": \"string\",\n        \"id\": \"long\",\n        \"land\": \"string\",\n        \"lettertoevoeging\": \"string\",\n        \"lettertoevoeging2\": \"string\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\",\n        \"plaats\": \"string\",\n        \"postcode\": \"string\",\n        \"straat\": \"string\"\n    },\n    \"Afspraak\": {\n        \"afspraaknummer\": \"string\",\n        \"begindatum\": \"timestamp\",\n        \"einddatum\": \"timestamp\",\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"omschrijving\": \"string\"\n    },\n    \"Afwerking\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Analyse\": {\n        \"analysecode\": \"string\",\n        \"analysepakket\": \"ref:AnalysePakket\",\n        \"id\": \"long\",\n        \"minlevertermijn\": \"integer\",\n        \"omschrijving\": \"string\"\n    },\n    \"AnalysePakket\": {\n        \"analysepakketcode\": \"string\",\n        \"analyses\": \"set:Analyse\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"minlevertermijn\": \"integer\",\n        \"modified\": \"timestamp\",\n        \"omschrijving\": \"string\",\n        \"volgorde\": \"integer\"\n    },\n    \"AnalyseResultaat\": {\n        \"analysemonster\": \"ref:LabAnalysemonster\",\n        \"component\": \"ref:Lovcomponent\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"eenheid\": \"ref:Eenheid\",\n        \"id\": \"long\",\n        \"meetwaarde\": \"double\",\n        \"meetwaardeomschrijving\": \"string\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\",\n        \"referentie\": \"ref:Lovreferentie\"\n    },\n    \"Analysemonster\": {\n        \"analysepakketten\": \"set:AnalysePakket\",\n        \"created\": \"timestamp\",\n        \"deelmonsters\": \"set:Deelmonster\",\n        \"id\": \"long\",\n        \"labAnalysemonster\": \"has:LabAnalysemonster\",\n        \"labopdracht\": \"ref:Labopdracht\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"volgorde\": \"integer\"\n    },\n    \"ApparaatType\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Artikel\": {\n        \"categorie\": \"ref:ArtikelCategorie\",\n        \"code\": \"string\",\n        \"created\": \"timestamp\",\n        \"eenheid\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"omschrijving\": \"string\",\n        \"opmerking\": \"string\",\n        \"standaardprijs\": \"double\",\n        \"variabele\": \"has:ArtikelVariabele\",\n        \"volgorde\": \"int\"\n    },\n    \"ArtikelCategorie\": {\n        \"artikelen\": \"set:Artikel\",\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"omschrijving\": \"string\",\n        \"volgorde\": \"int\"\n    },\n    \"ArtikelVariabele\": {\n        \"artikel\": \"has:Artikel\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"parameters\": \"ELEMENT_COLLECTION\",\n        \"type\": \"enum:BORING_INTERVAL,PEILBUIS_INTERVAL,SLEUF_INTERVAL,WATERMONSTERS,WATERMONSTERS_ZWARE_METALEN,WATERMONSTERS_ZONDER_ZWARE_METALEN,OPSTARTKOSTEN_BETONBOREN,BETON_BOREN,PID_METING,STEEKBUSSEN,INSPECTIEGATEN,INSPECTIEGATEN_MET_POT,INSPECTIEGATEN_ZONDER_POT,SLIB_MONSTERS,STRAATPOT_NIET_AFSLUITBAAR,STRAATPOT_AFSLUITBAAR,REIS_EN_CERTIFICERINGS\"\n    },\n    \"Asbest\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bedrijf\": {\n        \"accounts\": \"set:Account\",\n        \"created\": \"timestamp\",\n        \"expressions\": \"set:RegistratieExpressie\",\n        \"huisnummer\": \"string\",\n        \"id\": \"long\",\n        \"klanten\": \"set:Klant\",\n        \"logoUrl\": \"string\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"plaats\": \"string\",\n        \"postcode\": \"string\",\n        \"resources\": \"set:BedrijfResource\",\n        \"straat\": \"string\",\n        \"toevoeging\": \"string\",\n        \"uri\": \"string\"\n    },\n    \"BedrijfLab\": {\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"klantcode\": \"string\",\n        \"koppelingen\": \"set:BedrijfLabKoppeling\",\n        \"lab\": \"ref:Lab\",\n        \"labaanleveringen\": \"set:Labaanlevering\",\n        \"modified\": \"timestamp\"\n    },\n    \"BedrijfLabKoppeling\": {\n        \"attributes\": \"ELEMENT_COLLECTION\",\n        \"bedrijflab\": \"ref:BedrijfLab\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"koppeling\": \"ref:LabKoppeling\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\"\n    },\n    \"BedrijfOnderzoekAccess\": {\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"ref:Onderzoek\"\n    },\n    \"BedrijfResource\": {\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"resource\": \"string\",\n        \"type\": \"string\"\n    },\n    \"BemonsteringsKwaliteit\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BemonsteringsMethodeBRO\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BemonsteringsProcedure\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bericht\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"onderwerp\": \"string\",\n        \"recipients\": \"set:Recipient\",\n        \"tekst\": \"string\",\n        \"van\": \"ref:Account\"\n    },\n    \"BeschrijfKwaliteit\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BeschrijfKwaliteitBL\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BeschrijfLocatie\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BeschrijfProcedure\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BijzonderMateriaal\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bijzonderheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bijzonderheidgradatie\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bodemlaag\": {\n        \"apparaat\": \"ref:Boorapparaat\",\n        \"bijzonderheden\": \"set:BodemlaagBijzonderheid\",\n        \"bodemvocht\": \"double\",\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"ex_diameter\": \"double\",\n        \"externId\": \"string\",\n        \"geoTechnisch\": \"has:BodemlaagGT\",\n        \"geuren\": \"set:BodemlaagGeur\",\n        \"grind\": \"ref:Grind\",\n        \"grondsoort\": \"ref:Grondsoort\",\n        \"grondsoortMatrix\": \"ref:GrondsoortMatrix\",\n        \"humus\": \"ref:Humus\",\n        \"id\": \"long\",\n        \"kenmerk\": \"ref:Kenmerk\",\n        \"kleuren\": \"set:BodemlaagKleur\",\n        \"laagsoort\": \"ref:Laagsoort\",\n        \"lutum\": \"ref:Lutum\",\n        \"mediaan\": \"ref:Mediaan\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"oliewatermate\": \"ref:Oliewatermate\",\n        \"omschrijving\": \"string\",\n        \"onderkant\": \"double\",\n        \"opmerking\": \"string\",\n        \"pid\": \"double\",\n        \"plasticiteit\": \"ref:Plasticiteit\",\n        \"schuifsterkte\": \"ref:Schuifsterkte\",\n        \"sikb_id\": \"string\",\n        \"sleufbreedte\": \"double\",\n        \"sleuflengte\": \"double\",\n        \"steensoort\": \"ref:Steensoort\",\n        \"xid\": \"string\"\n    },\n    \"BodemlaagBijzonderheid\": {\n        \"bodemlaag\": \"ref:Bodemlaag\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"gradatie\": \"ref:Bijzonderheidgradatie\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"oorsprong\": \"ref:Oorsprong\",\n        \"opmerking\": \"string\",\n        \"sikb_id\": \"string\",\n        \"type\": \"ref:Bijzonderheid\"\n    },\n    \"BodemlaagGT\": {\n        \"antropogeen\": \"ref:JaNeeIndicatie\",\n        \"beschrijfKwaliteit\": \"ref:BeschrijfKwaliteitBL\",\n        \"bijzonderMateriaal\": \"ref:BijzonderMateriaal\",\n        \"bodemlaag\": \"has:Bodemlaag\",\n        \"boorTechniek\": \"ref:BoorTechniek\",\n        \"consistentieFijn\": \"ref:ConsistentieFijn\",\n        \"created\": \"timestamp\",\n        \"disperseInhomogeniteit\": \"ref:DisperseInhomogeniteit\",\n        \"gelaagdheid\": \"ref:Gelaagdheid\",\n        \"grindMediaan\": \"ref:GrindMediaan\",\n        \"grondsoort\": \"ref:GrondsoortBRO\",\n        \"id\": \"long\",\n        \"kalkgehalte\": \"ref:Kalkgehalte\",\n        \"kleur\": \"ref:KleurBRO\",\n        \"korrelGrootteBereik\": \"ref:KorrelgrootteBereik\",\n        \"korrelHoekigheid\": \"ref:KorrelHoekigheid\",\n        \"korrelRuwheid\": \"ref:KorrelRuwheid\",\n        \"korrelSfericiteit\": \"ref:KorrelSfericiteit\",\n        \"laagGrensBepaling\": \"ref:LaagGrensBepaling\",\n        \"modified\": \"timestamp\",\n        \"organischeStofgehalte\": \"ref:OrganischeStofgehalte\",\n        \"tertaireBestanddelen\": \"set:TertairBestanddeel\",\n        \"veenConsistentie\": \"ref:VeenConsistentie\",\n        \"veenTextuur\": \"ref:VeenTextuur\",\n        \"vezelTrekSterkte\": \"ref:VezelTreksterkte\",\n        \"zandMediaan\": \"ref:ZandMediaan\"\n    },\n    \"BodemlaagGeur\": {\n        \"bodemlaag\": \"ref:Bodemlaag\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"geur\": \"ref:GeurWaarneming\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"sikb_id\": \"string\"\n    },\n    \"BodemlaagKleur\": {\n        \"bijkleur\": \"ref:Kleur\",\n        \"bodemlaag\": \"ref:Bodemlaag\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"hoofdkleur\": \"ref:Kleur\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\",\n        \"sikb_id\": \"string\",\n        \"sterkte\": \"ref:Kleurint\"\n    },\n    \"Bodemmonster\": {\n        \"asbestGewicht\": \"double\",\n        \"asbestStuks\": \"double\",\n        \"barcode1\": \"string\",\n        \"barcode2\": \"string\",\n        \"bemonsteringsapparaat\": \"string\",\n        \"bemonsteringsmethode\": \"string\",\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"ex_monsterverpakking\": \"ref:ExMonsterverpakking\",\n        \"externId\": \"string\",\n        \"geoTechnisch\": \"has:BodemmonsterGT\",\n        \"gewicht\": \"double\",\n        \"guid\": \"string\",\n        \"id\": \"long\",\n        \"matrix\": \"ref:Veldmatrix\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"monsternemer\": \"string\",\n        \"naam\": \"string\",\n        \"onderkant\": \"double\",\n        \"opm1\": \"string\",\n        \"opmerking\": \"string\",\n        \"pid\": \"integer\",\n        \"puin\": \"double\",\n        \"sikb_id\": \"string\",\n        \"tijd\": \"timestamp\",\n        \"veldwaarnemingen\": \"set:Veldwaarneming\",\n        \"xid\": \"string\"\n    },\n    \"BodemmonsterGT\": {\n        \"apparaatDiameterContainer\": \"double\",\n        \"apparaatDoorgangsDiameter\": \"double\",\n        \"apparaatHaakseSteekmond\": \"ref:Codering\",\n        \"apparaatKousGebruikt\": \"ref:Codering\",\n        \"apparaatLengteContainer\": \"double\",\n        \"apparaatSteekmondApex\": \"double\",\n        \"apparaatSteekmondDiameter\": \"double\",\n        \"apparaatSteunvloeistofGebruikt\": \"ref:Codering\",\n        \"apparaatType\": \"ref:ApparaatType\",\n        \"apparaatVoorzienVanVanger\": \"ref:Codering\",\n        \"apparaatVoorzienVanZuiger\": \"ref:Codering\",\n        \"bemonsteringsKwaliteit\": \"ref:BemonsteringsKwaliteit\",\n        \"bemonsteringsMethode\": \"ref:BemonsteringsMethodeBRO\",\n        \"bodemmonster\": \"has:Bodemmonster\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"monstervochtigheid\": \"ref:Monstervochtigheid\"\n    },\n    \"BoorProcedure\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"BoorTechniek\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Boorapparaat\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Bronhouder\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n\t\"BuisStatus\": {\n\t    \"actief\": \"boolean\",\n\t    \"coderingSet\": \"set:CoderingSet\",\n\t    \"created\": \"timestamp\",\n\t    \"exportValues\": \"set:CoderingExportValue\",\n\t    \"externId\": \"string\",\n\t    \"id\": \"long\",\n\t    \"modified\": \"timestamp\",\n\t    \"naam\": \"has:MultiLingualString\",\n\t    \"omschrijving\": \"has:MultiLingualString\",\n\t    \"xid\": \"int\"\n\t},\n\t\"BuisType\": {\n\t    \"actief\": \"boolean\",\n\t    \"coderingSet\": \"set:CoderingSet\",\n\t    \"created\": \"timestamp\",\n\t    \"exportValues\": \"set:CoderingExportValue\",\n\t    \"externId\": \"string\",\n\t    \"id\": \"long\",\n\t    \"modified\": \"timestamp\",\n\t    \"naam\": \"has:MultiLingualString\",\n\t    \"omschrijving\": \"has:MultiLingualString\",\n\t    \"xid\": \"int\"\n\t},\n\t\"Casing\": {\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"onderkant\": \"double\",\n        \"opmerking\": \"string\",\n        \"sikb_id\": \"string\"\n    },\n\t\"CasingMateriaal\": {\n\t    \"actief\": \"boolean\",\n\t    \"coderingSet\": \"set:CoderingSet\",\n\t    \"created\": \"timestamp\",\n\t    \"exportValues\": \"set:CoderingExportValue\",\n\t    \"externId\": \"string\",\n\t    \"id\": \"long\",\n\t    \"modified\": \"timestamp\",\n\t    \"naam\": \"has:MultiLingualString\",\n\t    \"omschrijving\": \"has:MultiLingualString\",\n\t    \"xid\": \"int\"\n\t}, \n\t\"Categorie\": {\n        \"categoriecode\": \"string\",\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"omschrijving\": \"string\",\n        \"volgorde\": \"integer\"\n    },\n    \"Codering\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"CoderingExportValue\": {\n        \"codering\": \"ref:Codering\",\n        \"created\": \"timestamp\",\n        \"exportValue\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"system\": \"string\"\n    },\n    \"CoderingImportItem\": {\n        \"bron\": \"string\",\n        \"code\": \"string\",\n        \"codering\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"itemId\": \"string\",\n        \"mapping\": \"has:Codering\",\n        \"mappingType\": \"string\",\n        \"modified\": \"timestamp\",\n        \"name\": \"string\",\n        \"omschrijving\": \"string\",\n        \"status\": \"string\",\n        \"urn\": \"string\",\n        \"waarde\": \"string\"\n    },\n    \"CoderingSet\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"omschrijving\": \"string\"\n    },\n    \"ConsistentieFijn\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ContactPersoon\": {\n        \"created\": \"timestamp\",\n        \"email\": \"string\",\n        \"id\": \"long\",\n        \"klant\": \"ref:Klant\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"telefoon\": \"string\"\n    },\n    \"Debiteur\": {\n        \"id\": \"long\",\n        \"klantcode\": \"string\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"omschrijving\": \"string\"\n    },\n    \"Deelmonster\": {\n        \"analysemonster\": \"ref:Analysemonster\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"veldmonster\": \"ref:Veldmonster\"\n    },\n    \"DisperseInhomogeniteit\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Document\": {\n        \"autoRemove\": \"boolean\",\n        \"created\": \"timestamp\",\n        \"extensie\": \"string\",\n        \"id\": \"long\",\n        \"kenmerk\": \"enum:IMPORTED,UPLOAD\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"omschrijving\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\"\n    },\n    \"Eenheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExMonsterverpakking\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \n    \"ExBelucht\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExBemonsteringsmethode\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExDoorloop\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExHelderheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExPeilbuismateriaal\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExPompmethode\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExGefiltreerd\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExOnderzoeksmethode\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExSteensoort\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ExSchuifsterkte\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n\n    \"Fase\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"FilterMeting\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"meetpuntFilter\": \"ref:MeetpuntFilter\",\n        \"meetwaarde\": \"double\",\n        \"modified\": \"timestamp\",\n        \"statusKwaliteitsControle\": \"enum:AFGEKEURD,GOEDGEKEURD,ONBESLIST,NOG_NIET_BEOORDEELD,ONBEKEND\",\n        \"tijdstip\": \"timestamp\",\n        \"type\": \"enum:WATERSTANDNAP,WATERTEMPERATUUR\",\n        \"waterstand\": \"double\"\n    },\n    \"FilterMetingDag\": {\n        \"datum\": \"timestamp\",\n        \"id\": \"long\",\n        \"meetpuntFilter\": \"ref:MeetpuntFilter\",\n        \"waterstand\": \"double\"\n    },\n    \"FilterMetingDagHistorie\": {\n        \"dag\": \"int\",\n        \"gemiddelde\": \"double\",\n        \"id\": \"long\",\n        \"maand\": \"int\",\n        \"meetpuntFilter\": \"ref:MeetpuntFilter\"\n    },\n\t\"Fles\": {\n        \"barcode\": \"string\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"gefiltreerd\": \"boolean\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"veldmonster\": \"ref:Watermonster\"\n    },\n    \"Foto\": {\n        \"contentType\": \"string\",\n        \"created\": \"timestamp\",\n        \"entityId\": \"long\",\n        \"externId\": \"long\",\n        \"filename\": \"string\",\n        \"height\": \"int\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"omschrijving\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"rapportage\": \"boolean\",\n        \"type\": \"string\",\n        \"veldwerkmId\": \"string\",\n        \"width\": \"int\"\n    },\n    \"Gelaagdheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Geur\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"GeurWaarneming\": {\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"geur\": \"ref:Geur\",\n        \"id\": \"long\",\n        \"intensiteit\": \"ref:Geurint\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\"\n    },\n    \"Geurint\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Grind\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"GrindMediaan\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Grondsoort\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"GrondsoortBRO\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"GrondsoortMatrix\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"deel1\": \"integer\",\n        \"deel2\": \"integer\",\n        \"deel3\": \"integer\",\n        \"deel4\": \"integer\",\n        \"deel5\": \"integer\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"grind\": \"ref:Grind\",\n        \"grondsoort\": \"ref:Grondsoort\",\n        \"humus\": \"ref:Humus\",\n        \"id\": \"long\",\n        \"lutum\": \"ref:Lutum\",\n        \"mediaan\": \"ref:Mediaan\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"percentage1\": \"double\",\n        \"percentage2\": \"double\",\n        \"percentage3\": \"double\",\n        \"percentage4\": \"double\",\n        \"percentage5\": \"double\",\n        \"xid\": \"int\"\n    },\n    \"GrondwaterMonitor\": {\n        \"analyseresultaat\": \"ref:AnalyseResultaat\",\n        \"created\": \"timestamp\",\n        \"delta\": \"double\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"next\": \"ref:GrondwaterMonitor\",\n        \"previous\": \"ref:GrondwaterMonitor\",\n        \"volgorde\": \"int\",\n        \"watermonster\": \"ref:Watermonster\"\n    },\n    \"Hoedanigheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Humus\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"JaNeeIndicatie\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Kaderaanlevering\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Kaderinwinning\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KaderstellendeProcedure\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Kalkgehalte\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Kenmerk\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Klant\": {\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"contactPersonen\": \"set:ContactPersoon\",\n        \"created\": \"timestamp\",\n        \"email\": \"string\",\n        \"huisnummer\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"plaats\": \"string\",\n        \"postcode\": \"string\",\n        \"straat\": \"string\",\n        \"telefoon\": \"string\",\n        \"toevoeging\": \"string\",\n        \"website\": \"string\"\n    },\n    \"Kleur\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KleurBRO\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Kleurint\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Koppeling\": {\n        \"afspraak\": \"ref:Afspraak\",\n        \"analysepakket\": \"ref:AnalysePakket\",\n        \"categorie\": \"ref:Categorie\",\n        \"certificering\": \"integer\",\n        \"debiteur\": \"ref:Debiteur\",\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"monstersoort\": \"ref:Monstersoort\",\n        \"prijs\": \"double\"\n    },\n    \"KorrelHoekigheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KorrelRuwheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KorrelSfericiteit\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KorrelgrootteBereik\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"KousMateriaal\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n\t\"LaagGrensBepaling\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Laagsoort\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Lab\": {\n        \"certificering\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"omschrijving\": \"string\",\n        \"xid\": \"integer\"\n    },\n    \"LabAnalysemonster\": {\n        \"analysemonster\": \"has:Analysemonster\",\n        \"analyseresultaten\": \"set:AnalyseResultaat\",\n        \"anlmons\": \"string\",\n        \"certificaat\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"idanlmons\": \"string\",\n        \"labresultaat\": \"ref:Labresultaat\",\n        \"modified\": \"timestamp\",\n        \"monstersoort\": \"ref:Monstersoort\"\n    },\n    \"LabKoppeling\": {\n        \"attributes\": \"ELEMENT_COLLECTION\",\n        \"classname\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"lab\": \"ref:Lab\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"omschrijving\": \"string\"\n    },\n    \"Labaanlevering\": {\n        \"afspraken\": \"set:Afspraak\",\n        \"analysepakketten\": \"set:AnalysePakket\",\n        \"bedrijflab\": \"ref:BedrijfLab\",\n        \"categorieen\": \"set:Categorie\",\n        \"created\": \"timestamp\",\n        \"debiteuren\": \"set:Debiteur\",\n        \"id\": \"long\",\n        \"koppelingen\": \"set:Koppeling\",\n        \"modified\": \"timestamp\",\n        \"status\": \"enum:ACTIVE,INACTIVE,ARCHIVED\",\n        \"urgenties\": \"set:Urgentie\"\n    },\n    \"Labopdracht\": {\n        \"aangemaakt\": \"ref:Account\",\n        \"afspraak\": \"ref:Afspraak\",\n        \"analysemonsters\": \"set:Analysemonster\",\n        \"bedrijflab\": \"ref:BedrijfLab\",\n        \"certificaatType\": \"enum:MEETPUNT_TRAJECT,MEETPUNT_BODEMMONSTER,MONSTERNAAM\",\n        \"certificering\": \"ref:Lovcertificering\",\n        \"created\": \"timestamp\",\n        \"datummonsters\": \"timestamp\",\n        \"debiteur\": \"ref:Debiteur\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"modified\": \"timestamp\",\n        \"monstersoort\": \"ref:Monstersoort\",\n        \"naam\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"opmerking\": \"string\",\n        \"ordernummer\": \"string\",\n        \"resultaten\": \"set:Labresultaat\",\n        \"status\": \"enum:AANGEMAAKT,VERZONDEN,GEIMPORTEERD\",\n        \"statusChanges\": \"set:LabopdrachtStatusChange\",\n        \"urgentie\": \"ref:Urgentie\",\n        \"veldmatrix\": \"ref:Veldmatrix\"\n    },\n    \"LabopdrachtStatusChange\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"labopdracht\": \"ref:Labopdracht\",\n        \"modified\": \"timestamp\",\n        \"status\": \"enum:AANGEMAAKT,VERZONDEN,GEIMPORTEERD\"\n    },\n    \"Labresultaat\": {\n        \"analysemonsters\": \"set:LabAnalysemonster\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"id\": \"long\",\n        \"labopdracht\": \"ref:Labopdracht\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"opdrachtId\": \"string\",\n        \"projectcode\": \"string\",\n        \"status\": \"integer\"\n    },\n\t\"Lijm\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"LocalizedString\": {\n        \"id\": \"long\",\n        \"locale\": \"string\",\n        \"text\": \"string\"\n    },\n    \"Logger\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"serienummer\": \"string\"\n    },\n    \"LoggerPlaatsing\": {\n        \"created\": \"timestamp\",\n        \"filter\": \"ref:MeetpuntFilter\",\n        \"id\": \"long\",\n        \"logger\": \"ref:Logger\",\n        \"modified\": \"timestamp\",\n        \"tot\": \"timestamp\",\n        \"van\": \"timestamp\"\n    },\n    \"Lovcertificering\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Lovcomponent\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Loveenheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Lovmonstertype\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Lovreferentie\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Lutum\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"MaaiveldType\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Materiaalaanv\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Materiaalafd\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Mediaan\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Meetpunt\": {\n        \"afwerkingen\": \"set:MeetpuntAfwerking\",\n        \"apparaat\": \"ref:Boorapparaat\",\n        \"bodemlagen\": \"set:Bodemlaag\",\n        \"bodemmonsters\": \"set:Bodemmonster\",\n        \"boormeester\": \"string\",\n        \"broId\": \"string\",\n        \"casingen\": \"set:Casing\",\n        \"code\": \"string\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"documenten\": \"set:Document\",\n        \"einddiepte\": \"double\",\n        \"ex_sleufbreedte\": \"double\",\n        \"ex_sleufhoek\": \"double\",\n        \"ex_sleufhoogte\": \"double\",\n        \"ex_sleuflengte\": \"double\",\n        \"externId\": \"string\",\n        \"filters\": \"set:MeetpuntFilter\",\n        \"geoAccuracy\": \"double\",\n        \"geoAltitude\": \"double\",\n        \"geoAltitudeAccuracy\": \"double\",\n        \"geoHeading\": \"double\",\n        \"geoLatitude\": \"double\",\n        \"geoLongitude\": \"double\",\n        \"geoSpeed\": \"double\",\n        \"geoTechnisch\": \"has:MeetpuntGT\",\n        \"geotime\": \"double\",\n        \"geslaagd\": \"boolean\",\n        \"ghg\": \"double\",\n        \"glg\": \"double\",\n        \"grondwaterstand\": \"double\",\n        \"guid\": \"string\",\n        \"hoogtemaaiveld\": \"double\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"omschrijving\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"opmerking\": \"string\",\n        \"sikb_id\": \"string\",\n        \"situatiebeschrijving\": \"ref:Situatiebeschrijving\",\n        \"tov\": \"ref:Referentietype\",\n        \"type\": \"ref:MeetpuntType\",\n        \"veiligheidsklasse\": \"ref:Veiligheidsklasse\",\n        \"xcoord\": \"double\",\n        \"xid\": \"string\",\n        \"ycoord\": \"double\"\n    },\n    \"MeetpuntAfwerking\": {\n        \"aanvullingsoort\": \"ref:Materiaalaanv\",\n        \"aanvulmateriaal\": \"ref:Codering\",\n        \"aanvulmateriaalGewassen\": \"ref:Codering\",\n        \"aanvulmateriaalMetCertificaat\": \"ref:Codering\",\n        \"afdichtingsoort\": \"ref:Materiaalafd\",\n        \"afwerkingsoort\": \"ref:Afwerking\",\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"externId\": \"string\",\n        \"filterid\": \"string\",\n        \"id\": \"long\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"onderkant\": \"double\",\n        \"opmerking\": \"string\",\n        \"permanenteVerbuizingAanwezig\": \"ref:Codering\",\n        \"permanenteVerbuizingDiameter\": \"double\",\n        \"permanenteVerbuizingMateriaal\": \"ref:Codering\",\n        \"sikb_id\": \"string\",\n        \"xid\": \"string\"\n    },\n    \"MeetpuntDocument\": {\n        \"autoRemove\": \"boolean\",\n        \"created\": \"timestamp\",\n        \"extensie\": \"string\",\n        \"id\": \"long\",\n        \"kenmerk\": \"enum:IMPORTED,UPLOAD\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"omschrijving\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\"\n    },\n    \"MeetpuntFilter\": {\n        \"bovenkant\": \"double\",\n        \"broId\": \"string\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"diameterpb\": \"double\",\n        \"ex_doorloop\": \"string\",\n        \"ex_ec\": \"double\",\n        \"ex_werkwater\": \"double\",\n        \"externId\": \"string\",\n        \"filterId\": \"string\",\n        \"filterMetingDag\": \"set:FilterMetingDag\",\n        \"filterMetingDagHistorie\": \"set:FilterMetingDagHistorie\",\n        \"geoTechnisch\": \"has:MeetpuntFilterGT\",\n        \"hoogtepb\": \"double\",\n        \"id\": \"long\",\n        \"lengtepb\": \"double\",\n        \"loggerPlaatsingen\": \"set:LoggerPlaatsing\",\n        \"materiaalpb\": \"string\",\n        \"meetpunt\": \"ref:Meetpunt\",\n        \"metingen\": \"set:FilterMeting\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"onderkant\": \"double\",\n        \"opmerking\": \"string\",\n        \"peilbuisLabel\": \"string\",\n        \"rhg\": \"double\",\n        \"rhxHistorie\": \"set:RxhHistorie\",\n        \"rlg\": \"double\",\n        \"shw\": \"double\",\n        \"sikb_id\": \"string\",\n        \"slw\": \"double\",\n        \"watermonsters\": \"set:Watermonster\",\n        \"xid\": \"string\"\n    },\n    \"MeetpuntFilterGT\": {\n        \"buisStatus\": \"ref:Codering\",\n        \"buisType\": \"ref:BuisType\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"kousMateriaal\": \"ref:Codering\",\n        \"lijm\": \"ref:Codering\",\n        \"meetpuntFilter\": \"has:MeetpuntFilter\",\n        \"modified\": \"timestamp\"\n    },\n    \"MeetpuntGT\": {\n        \"bemonsteringsProcedure\": \"ref:BemonsteringsProcedure\",\n        \"beschrijfKwaliteit\": \"ref:BeschrijfKwaliteit\",\n        \"beschrijfLocatie\": \"ref:BeschrijfLocatie\",\n        \"beschrijfProcedure\": \"ref:BeschrijfProcedure\",\n        \"boorProcedure\": \"ref:BoorProcedure\",\n        \"boorTechniek\": \"ref:BoorTechniek\",\n        \"created\": \"timestamp\",\n        \"eindDiepteTijdelijkeCasing\": \"double\",\n        \"id\": \"long\",\n        \"maaiveldType\": \"ref:MaaiveldType\",\n        \"meetpunt\": \"has:Meetpunt\",\n        \"modified\": \"timestamp\",\n        \"tijdelijkeCasingGebruikt\": \"ref:Codering\"\n    },\n    \"MeetpuntType\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Monstersoort\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"sikb_id\": \"string\",\n        \"xid\": \"int\"\n    },\n    \"Monstervochtigheid\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"MultiLingualString\": {\n        \"id\": \"long\",\n        \"values\": \"set:LocalizedString\"\n    },\n    \"Norm\": {\n        \"created\": \"timestamp\",\n        \"drempel\": \"double\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"parameters\": \"set:ParameterNorm\"\n    },\n    \"Oliewatermate\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Onderzoek\": {\n        \"aanleiding\": \"ref:Aanleiding\",\n        \"access\": \"set:OnderzoekAccess\",\n        \"adres\": \"ref:Adres\",\n        \"asbest\": \"ref:Asbest\",\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"bedrijfAcccess\": \"set:BedrijfOnderzoekAccess\",\n        \"conclusie\": \"string\",\n        \"conclusie_adviesbureau\": \"string\",\n        \"contour\": \"string\",\n        \"created\": \"timestamp\",\n        \"documenten\": \"set:Document\",\n        \"einddatum\": \"timestamp\",\n        \"externId\": \"string\",\n        \"fase\": \"ref:Fase\",\n        \"fotoLink\": \"string\",\n        \"fotos\": \"set:Foto\",\n        \"geoTechnisch\": \"has:OnderzoekGT\",\n        \"id\": \"long\",\n        \"imports\": \"set:OnderzoekImport\",\n        \"klant\": \"ref:Klant\",\n        \"labopdrachten\": \"set:Labopdracht\",\n        \"labresultaten\": \"set:Labresultaat\",\n        \"meetpunten\": \"set:Meetpunt\",\n        \"methode\": \"string\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"norm\": \"ref:Norm\",\n        \"opdrachtnr\": \"string\",\n        \"opmerking\": \"string\",\n        \"plaats\": \"string\",\n        \"prijslijst\": \"ref:Prijslijst\",\n        \"projectcode\": \"string\",\n        \"projectleider\": \"ref:Account\",\n        \"rapportauteur\": \"string\",\n        \"rapportdatum\": \"timestamp\",\n        \"rapportnr\": \"string\",\n        \"resources\": \"set:OnderzoekResource\",\n        \"sikb_id\": \"string\",\n        \"startdatum\": \"timestamp\",\n        \"status\": \"enum:LOPEND,RAPPORTAGE,GEREED,FACTURATIE,ARCHIEF\",\n        \"tank\": \"ref:Tank\",\n        \"type\": \"ref:Ondtype\",\n        \"uuid\": \"string\",\n        \"verbruiksArtikelen\": \"set:VerbruiksArtikel\",\n        \"verdacht\": \"boolean\",\n        \"vervolg_oordeel\": \"ref:Vervolg\",\n        \"xid\": \"string\"\n    },\n    \"OnderzoekAccess\": {\n        \"accessType\": \"enum:NONE,READ,WRITE,FULL\",\n        \"account\": \"ref:Account\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"ref:Onderzoek\"\n    },\n    \"OnderzoekGT\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"kaderaanlevering\": \"ref:Kaderaanlevering\",\n        \"kaderinwinning\": \"ref:Kaderinwinning\",\n        \"kaderstellendeProcedure\": \"ref:KaderstellendeProcedure\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"has:Onderzoek\",\n        \"vakgebied\": \"ref:Vakgebied\"\n    },\n    \"OnderzoekImport\": {\n        \"account\": \"ref:Account\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"ref:Onderzoek\"\n    },\n    \"OnderzoekResource\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"resource\": \"string\",\n        \"type\": \"string\"\n    },\n    \"Ondtype\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Oorsprong\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"OrganischeStofgehalte\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"ParameterNorm\": {\n        \"component\": \"ref:Lovcomponent\",\n        \"created\": \"timestamp\",\n        \"drempel\": \"double\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"norm\": \"ref:Norm\"\n    },\n    \"Plasticiteit\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"PompType\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Prijslijst\": {\n        \"artikelen\": \"set:PrijslijstArtikel\",\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"opmerking\": \"string\",\n        \"standaard\": \"boolean\"\n    },\n    \"PrijslijstArtikel\": {\n        \"aangepast\": \"double\",\n        \"artikel\": \"ref:Artikel\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"prijslijst\": \"ref:Prijslijst\"\n    },\n    \"Recipient\": {\n        \"account\": \"ref:Account\",\n        \"bericht\": \"ref:Bericht\",\n        \"gelezen\": \"boolean\",\n        \"id\": \"long\"\n    },\n    \"Referentietype\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Registratie\": {\n        \"approved\": \"boolean\",\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"bevestigd\": \"boolean\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"name\": \"string\",\n        \"password\": \"string\",\n        \"username\": \"string\",\n        \"uuid\": \"string\"\n    },\n    \"RegistratieExpressie\": {\n        \"bedrijf\": \"ref:Bedrijf\",\n        \"created\": \"timestamp\",\n        \"expression\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\"\n    },\n    \"Request\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"path\": \"string\",\n        \"sessie\": \"ref:Sessie\"\n    },\n    \"Resource\": {\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"string\",\n        \"resource\": \"string\",\n        \"type\": \"string\"\n    },\n    \"RxhHistorie\": {\n        \"created\": \"timestamp\",\n        \"filter\": \"has:MeetpuntFilter\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"rhg\": \"double\",\n        \"rlg\": \"double\"\n    },\n    \"Schuifsterkte\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Sessie\": {\n        \"account\": \"ref:Account\",\n        \"active\": \"boolean\",\n        \"address\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"requests\": \"set:Request\",\n        \"uuid\": \"string\"\n    },\n    \"Situatiebeschrijving\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Steensoort\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"SyncToken\": {\n        \"account\": \"ref:Account\",\n        \"created\": \"timestamp\",\n        \"device\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\"\n    },\n    \"SynctokenKey\": {\n        \"_token\": \"ref:SyncToken\",\n        \"clientKey\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"serverKey\": \"long\"\n    },\n    \"SynctokenKeyView\": {\n        \"_token\": \"string\",\n        \"clientKey\": \"string\",\n        \"created\": \"timestamp\",\n        \"id\": \"string\",\n        \"modified\": \"timestamp\",\n        \"serverKey\": \"string\"\n    },\n    \"Tank\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"TertairBestanddeel\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Urgentie\": {\n        \"id\": \"long\",\n        \"labaanlevering\": \"ref:Labaanlevering\",\n        \"omschrijving\": \"string\",\n        \"urgentiecode\": \"string\"\n    },\n    \"UserSetting\": {\n        \"created\": \"timestamp\",\n        \"externId\": \"long\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"name\": \"string\",\n        \"scope\": \"enum:GEBRUIKER,BEDRIJF,APPLICATIE\",\n        \"value\": \"string\"\n    },\n    \"Vakgebied\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"VeenConsistentie\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"VeenTextuur\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Veiligheidsklasse\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Veldmatrix\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Veldmonster\": {\n        \"barcode1\": \"string\",\n        \"barcode2\": \"string\",\n        \"bemonsteringsapparaat\": \"string\",\n        \"bemonsteringsmethode\": \"string\",\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"matrix\": \"ref:Veldmatrix\",\n        \"modified\": \"timestamp\",\n        \"monsternemer\": \"string\",\n        \"naam\": \"string\",\n        \"onderkant\": \"double\",\n        \"opm1\": \"string\",\n        \"opmerking\": \"string\",\n        \"tijd\": \"timestamp\",\n        \"veldwaarnemingen\": \"set:Veldwaarneming\",\n        \"xid\": \"string\"\n    },\n    \"Veldwaarneming\": {\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"eenheid\": \"ref:Eenheid\",\n        \"externId\": \"string\",\n        \"hoedanigheid\": \"ref:Hoedanigheid\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\",\n        \"sikb_id\": \"string\",\n        \"tijd\": \"timestamp\",\n        \"type\": \"ref:VeldwaarnemingType\",\n        \"veldmonster\": \"ref:Veldmonster\",\n        \"waarneming\": \"double\",\n        \"waarneming_oms\": \"string\"\n    },\n    \"VeldwaarnemingType\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"VerbruiksArtikel\": {\n        \"aantal\": \"double\",\n        \"created\": \"timestamp\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"onderzoek\": \"ref:Onderzoek\",\n        \"prijslijstartikel\": \"ref:PrijslijstArtikel\"\n    },\n    \"Vervolg\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"VezelTreksterkte\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    },\n    \"Waarneming\": {\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"eenheid\": \"ref:Eenheid\",\n        \"externId\": \"string\",\n        \"hoedanigheid\": \"ref:Hoedanigheid\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"opmerking\": \"string\",\n        \"tijd\": \"timestamp\",\n        \"type\": \"ref:VeldwaarnemingType\",\n        \"waarneming\": \"double\",\n        \"waarneming_oms\": \"string\"\n    },\n    \"Watermonster\": {\n        \"barcode1\": \"string\",\n        \"barcode2\": \"string\",\n        \"bemonsteringsapparaat\": \"string\",\n        \"bemonsteringsmethode\": \"string\",\n        \"bovenkant\": \"double\",\n        \"created\": \"timestamp\",\n        \"datum\": \"timestamp\",\n        \"ex_belucht\": \"boolean\",\n        \"ex_debiet\": \"double\",\n        \"ex_helderheid\": \"string\",\n        \"ex_pompmethode\": \"string\",\n        \"ex_redox\": \"double\",\n        \"ex_referentie_gws\": \"ref:Referentietype\",\n        \"ex_troebelheid\": \"double\",\n        \"ex_volume\": \"double\",\n        \"ex_zuurstof\": \"double\",\n        \"externId\": \"string\",\n        \"filter\": \"ref:MeetpuntFilter\",\n        \"flessen\": \"set:Fles\",\n        \"grondwatermonitoring\": \"set:GrondwaterMonitor\",\n        \"id\": \"long\",\n        \"matrix\": \"ref:Veldmatrix\",\n        \"modified\": \"timestamp\",\n        \"monsternemer\": \"string\",\n        \"naam\": \"string\",\n        \"onderkant\": \"double\",\n        \"opm1\": \"string\",\n        \"opmerking\": \"string\",\n        \"pompType\": \"ref:PompType\",\n        \"sikb_id\": \"string\",\n        \"tijd\": \"timestamp\",\n        \"veldwaarnemingen\": \"set:Veldwaarneming\",\n        \"xid\": \"string\"\n    },\n    \"ZandMediaan\": {\n        \"actief\": \"boolean\",\n        \"coderingSet\": \"set:CoderingSet\",\n        \"created\": \"timestamp\",\n        \"exportValues\": \"set:CoderingExportValue\",\n        \"externId\": \"string\",\n        \"id\": \"long\",\n        \"modified\": \"timestamp\",\n        \"naam\": \"has:MultiLingualString\",\n        \"omschrijving\": \"has:MultiLingualString\",\n        \"xid\": \"int\"\n    }\n}");
define("text!blocks/prototypes/Button.js", "\"use strict\";[\"vcl-ui:Button\",{},[]];");
define("text!blocks/prototypes/List.js", "\"use strict\";[\"vcl-ui:List\",{},[]];");
define("text!blocks/prototypes/Array.js", "\"use strict\";[\"vcl-data:Array\",{},[]];");
define("text!blocks/prototypes/Radiobutton.js", "[\"vcl-ui:Radiobutton\"];");
define("text!blocks/prototypes/Checkbox.js", "[\"vcl-ui:Checkbox\"];");
define("text!blocks/prototypes/Tabs.js", "var handlers={nLoad_:function(){var me=this;Storage.get([this.uri(),\"workspaces\"],function(workspaces){workspaces.forEach(_=>Tab.create({parent:me,text:_.name}));});},onLoad_:function(){var parent=this;Data.bind([this,\"tabs\"],function(local,remote){if(!local&&remote){local=new Tab();local.setParent(parent);}else if(local&&!remote){return local.destroy();}\nvar properties=local.defineProperties();for(var k in remote){properties[k].set(local,remote[k]);}});}};var bindings={tabs:{get:function(){},set:function(){}}};[\"vcl-ui:Tabs\",{handlers:handlers}];");